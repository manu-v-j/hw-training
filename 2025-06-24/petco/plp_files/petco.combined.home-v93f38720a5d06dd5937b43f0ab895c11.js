function hideInactivityWarningDialog(){dijit.byId("inactivityWarningPopup")&&dijit.byId("inactivityWarningPopup").hide()}function resetServerInactivity(){dojo.xhrPost({url:getAbsoluteURL()+"Ping",handleAs:"json-comment-filtered",content:null,service:this,load:function(e,t){e.success?initializeInactivityWarning():console.error("Ping service failed")},error:function(e,t){console.error("Ping service failed")}})}function byId(e){return document.getElementById(e)}function focusSetter(){dojo.byId("MiniCartFocusReceiver1")?dojo.byId("MiniCartFocusReceiver1").focus():dojo.byId("MiniCartFocusReceiver2").focus()}function determineFocus(e){if(e.shiftKey&&e.keyCode==dojo.keys.TAB)if(e.srcElement){if("MiniCartFocusReceiver1"==e.srcElement.id){dojo.byId("WC_MiniShopCartDisplay_link_5")&&dojo.byId("WC_MiniShopCartDisplay_link_5").focus();dojo.stopEvent(e)}else if("MiniCartFocusReceiver2"==e.srcElement.id){dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(e)}}else if("MiniCartFocusReceiver1"==e.target.id){dojo.byId("WC_MiniShopCartDisplay_link_5")&&dojo.byId("WC_MiniShopCartDisplay_link_5").focus();dojo.stopEvent(e)}else if("MiniCartFocusReceiver2"==e.target.id){dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(e)}}function destroyDialog(e){void 0==e&&(e="quick_cart_container");dojo.query(".dijitDialog",document).forEach(function(t){dijit.byNode(t).id==e&&dijit.byNode(t).destroyRecursive()});void 0!=e&&"quick_cart_container"==e?dropDownDlg=null:productAddedDropDownDlg=null}function hideUnderlayWrapper(){dojo.query(".dijitDialogUnderlayWrapper",document).forEach(function(e){e.style.display="none"})}function loadLink(e){document.location.href=e}function clearSearchField(){searchText=document.getElementById("SimpleSearchForm_SearchTerm").value;if(searchText==document.getElementById("searchTextHolder").innerHTML)document.getElementById("SimpleSearchForm_SearchTerm").value="";else{document.getElementById("SimpleSearchForm_SearchTerm").select();showAutoSuggestIfResults();autoSuggestHover=!1}}function fillSearchField(){if(""==document.getElementById("SimpleSearchForm_SearchTerm").value){document.getElementById("SimpleSearchForm_SearchTerm").className="form-control";document.getElementById("SimpleSearchForm_SearchTerm").value=document.getElementById("searchTextHolder").innerHTML}autoSuggestHover||showAutoSuggest(!1)}function showDropDownMenu(){var e=document.getElementById("header_menu_dropdown");null!=document.getElementById("header_menu_dropdown")&&"undefined"!=document.getElementById("header_menu_dropdown")&&(e.style.display="block");if(null!=document.getElementById("outerCartContainer")&&"undefined"!=document.getElementById("outerCartContainer")){var t=document.getElementById("outerCartContainer");t.style.display="block"}}function initShopcartTarget(){dojo.subscribe("/dnd/drop",function(e,t,o,a){e!=a&&a.deleteSelectedNodes();var n=new popupActionProperties;n.showProductCompare=showProductCompare;if("miniShopCart_dndTarget"==a.parent.id){var r=e.parent.id.indexOf("_",0);r>=0&&(e.parent.id=e.parent.id.substring(r+1));"item"==e.node.getAttribute("dndType")||"package"==e.node.getAttribute("dndType")?categoryDisplayJS.AddItem2ShopCartAjax(e.parent.id,1):"product"!=e.node.getAttribute("dndType")&&"bundle"!=e.node.getAttribute("dndType")||showPopup(e.parent.id,function(e){return e},"miniShopCart_dndTarget",null,n)}})}function cursor_wait(e){var t=!0;1==e&&dojo.isOpera>0&&(t=!1);t&&!cursorDisplayTimeout&&(cursorDisplayTimeout=setTimeout("showProgressBar()",500))}function showProgressBar(){displayProgressBar()}function displayProgressBar(){var e=document.getElementById("petco-loader"),t=document.getElementById("loader-screen");null!=e&&(e.style.display="block");null!=t&&(t.style.display="block");setTimeout("cursor_clear()",3e4)}function displayProgressBarForOrderProcess(e){showPopup=!0;1==e&&dojo.isOpera>0&&(showPopup=!1);var t=document.getElementById("petco-loader"),o=document.getElementById("loader-screen");if(showPopup&&null!=t){t.style.display="block";null!=o&&(o.style.display="block")}}function setCurrentId(e){requestSubmitted||""!=this.currentId||(this.currentId=e)}function trim(e){word=e.toString();for(var t=0,o=word.length-1;" "==word.charAt(t);)t++;for(;" "==word.charAt(o);)o-=1;return t>o?word.substring(t,t):word.substring(t,o+1)}function cursor_clear(){if(cursorDisplayTimeout){clearTimeout(cursorDisplayTimeout);cursorDisplayTimeout=null}requestSubmitted=!1;var e=document.getElementById("petco-loader"),t=document.getElementById("loader-screen");null!=e&&(e.style.display="none");null!=t&&(t.style.display="none")}function submitRequest(){if(!requestSubmitted){requestSubmitted=!0;return!0}return!1}function resetRequest(){requestSubmitted=!1}function setPageLocation(e){void 0!=document.getElementById("freeItemCheck")&&null!=document.getElementById("freeItemCheck")&&1==document.getElementById("freeItemCheck").value&&(e=e+"&freeItemId="+document.getElementById("freeItemId").value);submitRequest()&&(document.location.href=e)}function checkForFreeItem(e){document.getElementById("freeItemCheck").value=e}function submitSpecifiedForm(e){if(submitRequest()){console.debug("form.action == "+e.action);e.submit()}}function parseWidget(e){}function parseAllWidgets(){for(var e=0;e<widgetsList.length;e++)parseWidget(widgetsList[e])}function addToWidgetsList(e){widgetsList.push(e)}function parseWCCEAWidget(e){var t,o=ceadijit.byId(e);if(null==o||void 0==o){t=null==e||void 0==e?ceadojo.body():ceadojo.byId(e);null!=t&&void 0!=t&&(null!=t.getAttribute("ceadojoType")&&void 0!=t.getAttribute("ceadojoType")?ceadojo.parser.instantiate([t]):ceadojo.parser.parse(t))}}function parseHeader(e){var t=(dojo.byId("progress_bar_dialog"),document.getElementById("header_menu_loaded")),o=document.getElementById("header_menu_overlay");if(0==currentId.length&&null!=document.getElementById("header_menu_loaded")&&"undefined"!=document.getElementById("header_menu_loaded")&&null!=document.getElementById("header_menu_overlay")&&"undefined"!=document.getElementById("header_menu_overlay")&&"none"==document.getElementById("header_menu_loaded").style.display){setCurrentId(null!=e&&void 0!=e?e:o.id);submitRequest();cursor_wait();o.style.display="none";parseWidget("header_menu_loaded");t.style.display="block";cursor_clear();try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(e){dojo.connect(e,"_onDropDownClick",dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",e.getURL()));dojo.connect(e,"onKeyPress",window.top._ceaCollabDialog,function(t){t.keyCode==dojo.keys.ENTER&&window.top._ceaCollabDialog.topCategoryClicked(e.getURL())})})}catch(e){console.log(e)}}}function hideElementById(e){var t=dojo.byId(e);t.style.display="none"}function showElementById(e){var t=dojo.byId(e);t.style.display="block"}function hideBackgroundImage(e){e.style.backgroundImage="none"}function showBackgroundImage(e){e.style.backgroundImage="url("+getImageDirectoryPath()+getStyleDirectoryPath()+"product_hover_background.png)"}function checkIE8Browser(){dojo.isIE&&dojo.isIE<=8&&(correctBrowser=!0)}function ApprovalToolLink(e,t){checkIE8Browser();correctBrowser?RFQwindow=window.open(t):MessageHelper.formErrorHandleClient(e,MessageHelper.messages.ERROR_INCORRECT_BROWSER)}function updateViewAndBeginIndexForCurrencyChange(){if(null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")){null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value);null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value)}else if(null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")){""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView);""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)}else if(null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")){""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView);""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)}else if(null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")){""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView);""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum)}try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||(dojo.byId("SetCurrencyPreferenceForm").URL.value=dojo.byId("SetCurrencyPreferenceForm").URL.value+"&coshopChangeCurrency="+dojo.byId("currencySelection").options[dojo.byId("currencySelection").selectedIndex].value)}catch(e){console.log(e)}}function updateViewAndBeginIndexForLanguageChange(){if(null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")){null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value);null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value)}else if(null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")){""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView);""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)}else if(null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")){""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView);""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)}else if(null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")){""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView);""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum)}try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||(dojo.byId("LanguageSelectionForm").action=dojo.byId("LanguageSelectionForm").action+"&langId="+dojo.byId("languageSelection").options[dojo.byId("languageSelection").selectedIndex].value)}catch(e){console.log(e)}}function showHeaderLinksInTwoLines(){if(null!=document.getElementById("header_links")&&"undefined"!=document.getElementById("header_links")){if(dojo.contentBox(document.getElementById("header_links")).w>750){null!=document.getElementById("header_links1")&&"undefined"!=document.getElementById("header_links1")&&(document.getElementById("header_links1").style.display="block");null!=document.getElementById("headerHomeLink")&&"undefined"!=document.getElementById("headerHomeLink")&&(document.getElementById("headerHomeLink").style.display="none");null!=document.getElementById("headerShopCartLink")&&"undefined"!=document.getElementById("headerShopCartLink")&&(document.getElementById("headerShopCartLink").style.display="none")}document.getElementById("header_links").style.visibility="visible"}}function showLinksInOneLine(){null!=document.getElementById("header_links")&&"undefined"!=document.getElementById("header_links")&&(document.getElementById("header_links").style.visibility="visible")}function isNonNegativeInteger(e){var t=new RegExp(/^\d*$/);return null!=e&&""!=e&&t.test(e)}function isPositiveInteger(e){return isNonNegativeInteger(e)&&0!=e}function closeAllDialogs(){dijit.registry.byClass("dijit.Dialog").forEach(function(e){e.hide()})}function setWarningMessageCookie(e){dojo.cookie("signon_warning_cookie",e,{path:"/"})}function removeCookie(e){dojo.cookie(e,null,{expires:-1})}function getCookie(e){for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var a=t[o].indexOf("="),n=t[o].substr(0,a);n=n.replace(/^\s+|\s+$/g,"");if(n==e)return unescape(t[o].substr(a+1))}}function setCookie(e,t,o){var a=e+"="+encodeURIComponent(t)+";path=/";if("string"==typeof o){a+="; domain="+o;document.cookie=a}else document.cookie=a}function setRememberMeStatus(){var e=document.forms.Logon.rememberMe;null!==e&&(e.checked?dojo.cookie("rememberMe","true",{expires:4}):removeCookie("rememberMe"))}function isStorePreview(e,t){return e.indexOf(t)>-1}function hideESpotInfoPopup(e,t){if(null==t||"keypress"!=t.type||"27"==t.keyCode){var o=dijit.byId(e);null!=o&&o.hide()}}function showESpotInfoPopup(e,t){if((null==t||"keypress"!=t.type||"13"==t.keyCode)&&parent.checkPopupAllowed()){var o=dijit.byId(e);null!=o&&o.show()}}function incrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&numAjaxRequests++}function decrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&0!=numAjaxRequests&&numAjaxRequests--}function updateParamObject(e,t,o,a,n){null==e&&(e=[]);if(null!=e[t]&&a)if(dojo.lang.isArrayLike(e[t]))null!=n&&""!=n?e[t][n]=o:e[t].push(o);else{var r=e[t];e[t]=[];e[t].push(r);e[t].push(o)}else if(null!=n&&""!=n&&n!=-1)e[t+"_"+n]=o;else if(n==-1){for(var i=1;null!=e[t+"_"+i];)i++;e[t+"_"+i]=o}else e[t]=o;return e}function showSection(e){var t=dojo.byId(e);null!=t&&"undefined"!=t&&(t.style.visibility="visible")}function hideSection(e){var t=dojo.byId(e);null!=t&&"undefined"!=t&&(t.style.visibility="")}function shiftTabHideSection(e,t){t.shiftKey&&t.keyCode==dojo.keys.TAB&&hideSection(e)}function tabHideSection(e,t,o){if(!t.shiftKey&&t.keyCode==dojo.keys.TAB){null!=o&&dojo.byId(o).focus();hideSection(e);dojo.stopEvent(t)}}function saveShiftTabPress(e){1==e.shiftKey&&9==e.keyCode&&(tabPressed=!0)}function saveTabPress(e){0==e.shiftKey&&9==e.keyCode&&(tabPressed=!0)}function setFocus(e){if(tabPressed){tabPressed=!1;document.getElementById(e).focus()}}function increaseHeight(e,t){var o=document.getElementById(e).offsetHeight;document.getElementById(e).style.height=o+t+"px"}function redirectToSignOn(e){if("undefined"!=typeof e)var t=e;else var t=location.href;t="OrderItemMove?continue=1&createIfEmpty=1&updatePrices=0&deleteIfEmpty=*&fromOrderId=*&toOrderId=.&page=&calculationUsageId=-1&URL="+encodeURIComponent("OrderCalculate?URL="+encodeURIComponent(t));document.location.href="LogonForm?myAcctMain=1&storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&URL="+encodeURIComponent(t)}function handlePopup(e,t){currentPopup==t?document.location.href=e:currentPopup=t}function isAndroid(){if(null==android&&null!=navigator&&null!=navigator.userAgent){var e=navigator.userAgent.toLowerCase();android=e.indexOf("android")>-1}return android}function isIOS(){if(null==ios&&null!=navigator&&null!=navigator.userAgent){var e=navigator.userAgent.toLowerCase();ios=e.indexOf("ipad")>-1||e.indexOf("iphone")>-1||e.indexOf("ipod")>-1}return ios}function outlineSpots(){dojo.addClass(document.body,"editMode");dojo.query(".carousel > .content").style({zIndex:"auto"});dojo.query(".ESpotInfo").style({display:"block"});dojo.query(".searchScore").style({display:"block"});dojo.query(".editManagedContent").style({display:"block"});for(var e=dojo.query(".genericESpot,.product,.searchResultSpot,.productDetail,.categorySpot"),t=0;t<e.length;t++){var o=e[t];if(dojo.hasClass(o,"emptyESpot")){var a=dojo.query(".ESpotInfo",o)[0].offsetWidth+4,n=dojo.query(".ESpotInfo",o)[0].offsetHeight+4;dojo.attr(o,"_width",dojo.style(o,"width"));dojo.attr(o,"_height",dojo.style(o,"height"));dojo.style(o,{width:+a+"px",height:n+"px"})}0==dojo.query(".borderCaption",o).length?dojo.place("<div class='borderCaption'></div>",o,"first"):dojo.query(".borderCaption",o).style({display:"block"});if(o.addEventListener){o.addEventListener("mouseover",function(e){if(window.parent.frames[0].isSpotsShown()){dojo.query(".caption").style({display:"none"});dojo.style(dojo.query(".caption",this)[0],{display:"block"});e.stopPropagation()}},!1);o.addEventListener("mouseout",function(e){if(window.parent.frames[0].isSpotsShown()){dojo.query(".caption",this).style({display:"none"});e.stopPropagation()}},!1)}else if(o.attachEvent){o.onmouseover=function(e){return function(){if(window.parent.frames[0].isSpotsShown()){dojo.query(".caption").style({display:"none"});dojo.style(dojo.query(".caption",e)[0],{display:"block"});window.event.cancelBubble=!0}}}(o);o.onmouseleave=function(e){return function(){if(window.parent.frames[0].isSpotsShown()){dojo.query(".caption",e).style({display:"none"});window.event.cancelBubble=!0}}}(o)}}}function hideSpots(){dojo.removeClass(document.body,"editMode");dojo.query(".carousel > .content").style({zIndex:""});dojo.query(".ESpotInfo").style({display:"none"});dojo.query(".caption").style({display:"none"});dojo.query(".searchScore").style({display:"none"});dojo.query(".editManagedContent").style({display:"none"});dojo.query(".borderCaption").style({display:"none"});dojo.query(".emptyESpot").forEach(function(e){dojo.style(e,{width:dojo.attr(e,"_width")+"px"});dojo.style(e,{height:dojo.attr(e,"_height")+"px"})})}function logout(e){var t="false";null!=document.getElementById("dbAuthEnabledFlag")&&"undefined"!=document.getElementById("dbAuthEnabledFlag")&&(t=document.getElementById("dbAuthEnabledFlag").value);if("false"==t){var o=document.createElement("img");o.src=document.getElementById("isamLogOffURL").value;document.body.appendChild(o)}setDeleteCartCookie();var a="";null!=dojo.byId("cookieDomain")&&(a=dojo.byId("cookieDomain").value);if(checkDeleteCartCookie()){var n=getCookie("WC_CartOrderId_"+WCParamJS.storeId);if(null!=n){dojo.cookie("WC_CartOrderId_"+WCParamJS.storeId,null,{expires:-1,path:"/"});var r=getCookie("WC_CartTotal_"+n);null!=r&&dojo.cookie("WC_CartTotal_"+n,null,{expires:-1,path:"/"});var i=getCookie("rCartTotal");null!=i&&dojo.cookie("rCartTotal",null,{expires:-1,path:"/",domain:a})}}if(null!=getCookie("rememberMe")){removeCookie("rememberMe");dojo.cookie("pfirstname",null,{expires:-1,path:"/"})}var s=window.location.hostname;dojo.cookie("pfirstname",null,{expires:-1,path:"/",domain:s});dojo.cookie("ptealiumData",null,{expires:-1,path:"/",domain:s});dojo.cookie("pcustData",null,{expires:-1,path:"/",domain:s});dojo.cookie("rfirstName",null,{expires:-1,path:"/",domain:a});dojo.cookie("GetMember_cookie",null,{expires:-1,path:"/",domain:a});window.localStorage.removeItem("persist:nextjs");"false"==t?setTimeout(function(){document.location.href=e},500):document.location.href=e}function sitePromotionTag(e,t,o){var a="";if(document.getElementById("tel_page_type")&&o)a=document.getElementById("tel_product_sku")&&document.getElementById("productPartNo")?"PDP":"Category"==document.getElementById("tel_page_type").value?"CategoryPage":"Home"==document.getElementById("tel_page_type").value?"HomePage":"receipt"==document.getElementById("tel_page_type").value?"Order Confirmation":"Search"==document.getElementById("tel_page_type").value?"Search":"account"==document.getElementById("tel_page_type").value?"MyAccount":"ShoppingCart"==document.getElementById("tel_page_type").value?"ShoppingCart":"SubCategory"==document.getElementById("tel_page_type").value||"Search"==document.getElementById("tel_page_type").value?"Product List Browse & Search":"HomePage";else if(document.getElementById("tel_page_type")){var n=document.getElementById("tel_page_type").value,r=document.getElementById("tel_page_category").value,i=document.getElementById("tel_page_subcategory").value,s="";document.getElementById("dept_page")&&(s=document.getElementById("dept_page").value);if(document.getElementById("tel_product_pet_type")){var l=document.getElementById("tel_product_pet_type").value,d=new Array;if(l.indexOf(":")!=-1){d=l.split(":");l=d[d.length-1]}}document.getElementById("tel_product_sku")?a=l+"PDP":"Category"==n&&"true"==s?a=r+"Category":"SubCategory"==n&&"true"==s?a=i+"Category":"SubCategory"!=n&&"Search"!=n||""!=s||(a="Search"==n?r+"PL":i+"PL")}if(""==a){document.getElementById("WC_UserRegistrationAddForm_FormInput_page_In_Register_1")&&(a="Registration");document.getElementById("WC_AccountDisplay_FormInput_ActivePage_In_Logon_1")&&(a="Sign In")}}function scrollToTop(e){var t=-window.scrollY/(e/15),o=setInterval(function(){0!=window.scrollY?window.scrollBy(0,t):clearInterval(o)},15)}function cmManuallyTriggerEventTrack(e){try{var t="";dojo.attr(e,"manual_cm_sp")?t=dojo.attr(e,"manual_cm_sp"):dojo.attr(e,"manual_cm_re")&&(t=dojo.attr(e,"manual_cm_re"));if("function"==typeof cmCreateElementTag&&""!=t){var o=t.split("-_-"),a=null,n=null,r=null;o.length>0&&(a=o[0]);o.length>1&&(n=o[1]);o.length>2&&(r=o.slice(2).join("-_-"));cmCreateElementTag(n,a,r)}}catch(e){console.log("Error occurred in cmManuallyTriggerEventTrack(). "+e);return!0}}function appendCurrentPageUrl(e){var t=window.location.href,o=e.getAttribute("href");o&&t.indexOf("TopCategories")==-1&&t.indexOf("CSR")==-1&&t.indexOf("LogonForm")==-1&&e.setAttribute("href",o+"&URL="+t)}function fnTriggerClickOnEnter(e){var t=$(e.target).data("element-to-click"),o=e.keyCode?e.keyCode:e.which;13!==o&&32!==o||$("#"+t).trigger("click")}function applyCouponPromotion(){var e=document.getElementById("promoName").value,t=[];t.storeId="${storeId}";t.langId="${langId}";t.catalogId="${catalogId}";t.promotionName=e;if(null!=document.getElementById("addOnSubscriptionId")){var o=document.getElementById("addOnSubscriptionId").value,a=document.getElementById("ffmtdate").value;t.ffmtdate=a;t.addOnSubscriptionId=o;t.isRDAddOnCoupon="true"}t.URL="CouponsDisplayView";wc.service.invoke("AjaxCouponIssue",t)}function applyRealImageToImprovePerf(){$("img[imgSrcToLoad]").each(function(e,t){var o=$(t).attr("imgSrcToLoad");if("undefined"!=typeof o){t.src=o;$(t).removeAttr("imgSrcToLoad")}});$("source[imgSrcToLoad]").each(function(e,t){var o=$(t).attr("imgSrcToLoad");if("undefined"!=typeof o){t.srcset=o;$(t).removeAttr("imgSrcToLoad")}})}function applyRealImageToImprovePerfOnImgLoad(e){if(applyRealImageToImprovePerf_loaded&&null!=e&&""!=e){var t=$(e).attr("imgSrcToLoad");if("undefined"!=typeof t){e.src=t;$(e).removeAttr("imgSrcToLoad")}$(e).parent("picture").find("source").each(function(e,t){var o=$(t).attr("imgSrcToLoad");if("undefined"!=typeof o){t.srcset=o;$(t).removeAttr("imgSrcToLoad")}})}}function getForUserIdParam(e,t){forUserIdParam="";if("undefined"!=typeof wcCommonRequestParameters&&null!=wcCommonRequestParameters.forUserId){e&&t?forUserIdParam="%26":e&&(forUserIdParam="&");forUserIdParam+="forUserId";t?forUserIdParam+="%3D":forUserIdParam+="=";forUserIdParam+=wcCommonRequestParameters.forUserId}return forUserIdParam}function getAbsoluteURL(){if(""!=absoluteURL){var e=document.URL,t="";e.indexOf("://")!=-1&&(t=e.substring(0,e.indexOf("://")));var o="";absoluteURL.indexOf("://")!=-1&&(o=absoluteURL.substring(0,absoluteURL.indexOf("://")));t!=o&&(absoluteURL=t+absoluteURL.substring(absoluteURL.indexOf("://")))}return absoluteURL}function getImageDirectoryPath(){return imageDirectoryPath}function getStyleDirectoryPath(){return styleDirectoryPath}function appendWcCommonRequestParameters(e){var t="";if("undefeined"!=typeof WCParamJS){"undefeined"!=typeof WCParamJS.catalogId&&null!=typeof WCParamJS.catalogId&&(t=t+"catalogId="+WCParamJS.catalogId);"undefeined"!=typeof WCParamJS.storeId&&null!=typeof WCParamJS.storeId&&(t=t+"&storeId="+WCParamJS.storeId);"undefeined"!=typeof WCParamJS.langId&&null!=typeof WCParamJS.langId&&(t=t+"&langId="+WCParamJS.langId);e=e.indexOf("?")==-1?e+"?"+t:e+"&"+t}return e}function pingPetcoUserType(){var e=new Date,t=e.getTime(),o=18e5,a=t+o,n=getCookie("isNewEASession")?getCookie("isNewEASession"):"",r=getCookie("isEASession")?getCookie("isEASession"):"",i=getCookie("isOBOSession")?getCookie("isOBOSession"):"",s=!1;"yes"!=n.toLowerCase()&&"yes"!=r.toLowerCase()&&"yes"!=i.toLowerCase()||(s=!0);if(s)wc.service.invoke("pingPetcoUserTypeAction",parameters);else if(null!=localStorage.getItem("pingPetcoUserType_Expiry")){var l=localStorage.getItem("pingPetcoUserType_Expiry");if(1*l>t){var d=getCookie("WC_UserType")?getCookie("WC_UserType"):"",c=getCookie("WC_UserId")?getCookie("WC_UserId"):"";if(""!=d&&""!=c)invokeCookieForLoginUser(d,c);else{localStorage.setItem("pingPetcoUserType_Expiry",a);wc.service.invoke("pingPetcoUserTypeAction",parameters)}}else{localStorage.setItem("pingPetcoUserType_Expiry",a);wc.service.invoke("pingPetcoUserTypeAction",parameters)}}else{localStorage.setItem("pingPetcoUserType_Expiry",a);wc.service.invoke("pingPetcoUserTypeAction",parameters)}}function petco_loadScriptDefered(e,t,o){document.addEventListener("DOMContentLoaded",function(){const a=function(){document.removeEventListener("scroll",a);window.removeEventListener("resize",a);window.removeEventListener("orientationchange",a);window.removeEventListener("mousemove",a);window.removeEventListener("touchstart",a);setTimeout(function(){if("script"==t&&0==document.querySelectorAll('script[uniqueid="'+o+'"]').length){var a=document.createElement("script");a.src=e;a.setAttribute("uniqeid",o);var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},50)};document.addEventListener("scroll",a);window.addEventListener("resize",a);window.addEventListener("mousemove",a);window.addEventListener("touchstart",a);window.addEventListener("orientationchange",a)})}function activateRatings(){$.each($('input[id^="star_input_"]'),function(e,t){var o=t.id.replace("star_input_",""),a=parseFloat($(t).val()),n=5;if(!isNaN(a)){var r=Math.round(100*a/n);r>100&&(r=100);$.each($("#star_limiter_"+o+" .longbar"),function(e,t){t.style.maxWidth=r+"%"})}})}function onGoogleSuccess(e){var t=e.getAuthResponse().id_token,o=gapi.auth2.getAuthInstance();o.disconnect();processGoogleSignOn(t,!1)}function onGoogleFailure(e){console.log(e)}function processGoogleSignOn(e,t){if(e){var o=[];o.gAuthToken=e;if(t){o.isGoogleOneTap=t;o.currentURL=$(location).attr("href");($(location).attr("href").indexOf("/LogonForm")>0||$(location).attr("href").indexOf("/UserRegistrationForm")>0)&&(o.viaSignInOrCreateAccountPage=!0);PetcoDataLayer&&PetcoDataLayer.page&&PetcoDataLayer.page.page_name_join&&"Home:Home Page"==PetcoDataLayer.page.page_name_join&&(o.viaSignInOrCreateAccountPage=!0)}void 0!=$("#WC_AccountDisplay_FormInput_URL_In_Logon_1").val()?o.URL=encodeURIComponent($("#WC_AccountDisplay_FormInput_URL_In_Logon_1").val()):void 0!=$("#WC_AccountDisplay_FormInput_URL_In_Logon_2").val()?o.URL=encodeURIComponent($("#WC_AccountDisplay_FormInput_URL_In_Logon_2").val()):void 0!=$("#WC_AccountDisplay_FormInput_URL_In_Logon_3").val()&&(o.URL=encodeURIComponent($("#WC_AccountDisplay_FormInput_URL_In_Logon_3").val()));wc.service.invoke("AjaxPetcoGoogleSignonRegistration",o)}else console.log("token is empty")}function handleCredentialResponse(e){processGoogleSignOn(e.credential,!0)}function renderGoogleButton(){gapi.signin2.render("petco-google-signin",{scope:"profile email",width:240,height:50,longtitle:!0,theme:"light",onsuccess:onGoogleSuccess,onfailure:onGoogleFailure});setTimeout(function(){var e=$(".button-text").data("button-name");$(".continue-google .abcRioButtonContents span").html(e)},500)}function googleInit(){console.log("googleInit");gapi.load("auth2",function(){gapi.auth2.init()});var e=document.getElementById("petco-google-signin");e&&renderGoogleButton()}function googleSignOut(e){var t=gapi.auth2.getAuthInstance();t?t.signOut().then(function(){console.log("Google User signed out.");logout(e)}):logout(e)}function processAppleSignOn(e){if(e.detail.authorization){var t=[];t.appleAuthToken=e.detail.authorization.code;if(e.detail.user){t.email=e.detail.user.email;if(e.detail.user.name){t.firstName=e.detail.user.name.firstName;t.lastName=e.detail.user.name.lastName}}void 0!=$("#WC_AccountDisplay_FormInput_URL_In_Logon_1").val()?t.URL=encodeURIComponent($("#WC_AccountDisplay_FormInput_URL_In_Logon_1").val()):void 0!=$("#WC_AccountDisplay_FormInput_URL_In_Logon_2").val()?t.URL=encodeURIComponent($("#WC_AccountDisplay_FormInput_URL_In_Logon_2").val()):void 0!=$("#WC_AccountDisplay_FormInput_URL_In_Logon_3").val()&&(t.URL=encodeURIComponent($("#WC_AccountDisplay_FormInput_URL_In_Logon_3").val()));wc.service.invoke("AjaxPetcoAppleSignOn",t)}else console.log("apple sign in data does not have authorisation details")}function showMiniShopCartDropDownEvent(e,t,o,a){console.debug(e.keyCode);if(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER){showMiniShopCartDropDown(t,o,a);dojo.stopEvent(e)}}function toggleMiniShopCartDropDownEvent(e,t,o,a){console.debug(e.keyCode);if(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER){toggleMiniShopCartDropDown(t,o,a);dojo.stopEvent(e)}}function showMiniShopCartDropDown(e,t,o){if(!dropdownInit){dropdownInit=!0;if(dropdownUpdated)positionMiniShopCartDropDown(e,t,o);else{destroyDialog();var a={};a.status="load";a.relativeId=e;a.contentId=t;a.contentType=o;a.page_view="dropdown";wc.render.updateContext("MiniShopCartContentsContext",a)}}}function toggleMiniShopCartDropDown(e,t,o){if(dojo.hasClass(e,"selected")){var a=dijit.byId(t);a&&a.hide();$("#mini-cart").css("visibility","visible")}else{showMiniShopCartDropDown(e,t,o);$("#mini-cart").css("visibility","visible")}$("div.petco-checkout #continueReviewPage").hasClass("disabled")?$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').addClass("disabled"):$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').removeClass("disabled")}function positionMiniShopCartDropDown(e,t,o){
var a=null,n=null;if("orderItemsList"==o||"orderItemsListAutoClose"==o){a=dropDownDlg;n=productAddedDropDownDlg}else if("orderItemAdded"==o){a=productAddedDropDownDlg;n=dropDownDlg}var r=dojo.byId(e),i=dojo.coords(r,!0),s=i.x+60,l=70,d=dojo.coords(dojo.byId("mini-cart-icon"),!0).w;8==dojo.isIE?d=dojo.coords(dojo.byId("mini-cart-icon"),!0).w:dojo.isIE>=7&&dojo.isIE<8?d=dojo.coords(dojo.byId("miniShopCartBody"),!0).w:dojo.isIE<7&&(d=originalMiniCartWidth);var c=s;dojo.isIE&&(c=s+dojo.contentBox(dojo.byId(e)).w-d);"ar-eg"!=dojo.locale&&"iw-il"!=dojo.locale||(c+=50);if(a){a.y=l;a.x=c}var u=function(){deactivate(document.getElementById("header"));dojo.addClass("mini-cart-icon","selected")},p=function(){dojo.removeClass("mini-cart-icon","selected")};if(!a){var m=document.getElementById(t),g=document.getElementById(t+"_ACCE_Label");a=null!=g?new wc.widget.WCDialog({relatedSource:e,x:s,y:l,title:g.innerHTML,onShow:u,onHide:p},m):new wc.widget.WCDialog({relatedSource:e,x:s,y:l,onShow:u,onHide:p},m);a.x=c}var f=null;n&&(f=n.displayStatus);if(!(a.displayStatus||null!=f&&f)){a.closeOnTimeOut=!1;a.autoClose=!1;if("orderItemsList"==o||"orderItemsListAutoClose"==o){dropdownDisplayed=!0;"orderItemsListAutoClose"==o&&(a.autoClose=!0);dropDownDlg=a;setTimeout(dojo.hitch(dropDownDlg,"show",null),5)}else if("orderItemAdded"==o){productAddedDropDownDlg=a;setTimeout(dojo.hitch(productAddedDropDownDlg,"show",null),5)}setTimeout(dojo.hitch(this,"hideUnderlayWrapper",""),5)}dojo.isIE<7&&(a.style.display="block");dropdownInit=!1;$("div.petco-checkout #continueReviewPage").hasClass("disabled")?$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').addClass("disabled"):$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').removeClass("disabled")}function setMiniShopCartControllerURL(e){wc.render.getRefreshControllerById("MiniShoppingCartController").url=e}function updateCartCookie(){if(null!=document.getElementById("currentOrderQuantity")&&null!=document.getElementById("currentOrderAmount")&&null!=document.getElementById("currentOrderCurrency")&&null!=document.getElementById("currentOrderId")&&null!=document.getElementById("currentOrderLanguage")){var e=document.getElementById("currentOrderQuantity").value,t=document.getElementById("currentOrderAmount").value,o=document.getElementById("currentOrderCurrency").value,a=document.getElementById("currentOrderLanguage").value,n=document.getElementById("currentOrderId").value,r="";null!=dojo.byId("cookieDomain")&&(r=dojo.byId("cookieDomain").value);var i=getCookie("WC_CartOrderId_"+WCParamJS.storeId);if(null!=i){dojo.cookie("WC_CartOrderId_"+WCParamJS.storeId,null,{expires:-1,path:"/"});var s=getCookie("WC_CartTotal_"+i);null!=s&&dojo.cookie("WC_CartTotal_"+i,null,{expires:-1,path:"/"});var l=getCookie("rCartTotal");null!=l&&dojo.cookie("rCartTotal",null,{expires:-1,path:"/",domain:r})}dojo.cookie("WC_CartOrderId_"+WCParamJS.storeId,n,{path:"/"});if(""!=n){dojo.cookie("WC_CartTotal_"+n,e+";"+t+";"+o+";"+a,{path:"/"});dojo.cookie("rCartTotal",e,{path:"/",domain:r})}}}function updateCartCookiefromShopCart(){var e=document.getElementById("currentOrderIdShop").value,t=document.getElementById("currentOrderQuantityShop").value;(t="1")&&updateCartCookie();if("1"!=t){var o=getCookie("WC_CartOrderId_"+WCParamJS.storeId),a="";null!=dojo.byId("cookieDomain")&&(a=dojo.byId("cookieDomain").value);if(null!=o){dojo.cookie("WC_CartOrderId_"+WCParamJS.storeId,null,{expires:-1,path:"/"});var n=getCookie("WC_CartTotal_"+o);null!=n&&dojo.cookie("WC_CartTotal_"+o,null,{expires:-1,path:"/"});var r=getCookie("rCartTotal");null!=r&&dojo.cookie("rCartTotal",null,{expires:-1,path:"/",domain:a})}dojo.cookie("WC_CartOrderId_"+WCParamJS.storeId,e,{path:"/"});if(""!=e){dojo.cookie("WC_CartTotal_"+e,t-1+";"+cartAmount+";"+cartCurrency+";"+cartLanguage,{path:"/"});dojo.cookie("rCartTotal",t,{path:"/",domain:a})}}}function checkIfCheckoutButtonIsDisabled_minicart(){var e=!1;$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').hasClass("disabled")&&(e=!0);return e}function setProductAddedList(e){productAddedList=e}function populateProductAddedDropdown(){var e='"',t='\\\\"';for(productId in productAddedList){var o=productAddedList[productId];null!=document.getElementById("MiniShopCartAddedProdName_"+productId)&&null!=o[0]&&(document.getElementById("MiniShopCartAddedProdName_"+productId).innerHTML=o[0]);if(null!=document.getElementById("MiniShopCartAddedProdImgSrc_"+productId)&&null!=o[1]){document.getElementById("MiniShopCartAddedProdImgSrc_"+productId).src=o[1];document.getElementById("MiniShopCartAddedProdImgSrc_"+productId).alt=o[0]}null!=document.getElementById("MiniShopCartAddedProdPrice_"+productId)&&null!=o[2]&&(document.getElementById("MiniShopCartAddedProdPrice_"+productId).innerHTML=o[2]);null!=document.getElementById("MiniShopCartAddedProdQty_"+productId)&&null!=o[3]&&(document.getElementById("MiniShopCartAddedProdQty_"+productId).innerHTML=o[3]);if(null!=document.getElementById("MiniShopCartAddedProdAttr_"+productId)&&null!=o[4]){document.getElementById("MiniShopCartAddedProdAttr_"+productId).innerHTML="";for(attrName in o[4]){attrValue=o[4][attrName];null!=attrValue&&"undefined"!=attrValue&&(attrValue=attrValue.replace(t,e).replace(/&amp;/g,"&").replace(/&#039;/g,"'").replace(/&#034;/g,'"'));document.getElementById("MiniShopCartAddedProdAttr_"+productId).innerHTML+="<div>"+attrName+": "+attrValue+"</div>"}}}dojo.topic.publish("ProductInfo_Reset")}function loadMiniCart(e,t){var o=!1,a=getCookie("WC_CartOrderId_"+WCParamJS.storeId),n=null;if(checkDeleteCartCookie())o=!0;else if(void 0!=a&&""==a){var r=document.getElementById("minishopcart_subtotal"),i=null;i="iw-il"==dojo.locale?dojo.currency.format(document.getElementById("currentOrderAmount").value,{symbol:"symbol",currency:e,locale:"he"}):dojo.currency.format(document.getElementById("currentOrderAmount").value,{symbol:"symbol",currency:e});i=null!=i?i.replace("symbol",shoppingActionsJS.currencySymbol):document.getElementById("currentOrderAmount").value;null!=r&&(r.innerHTML="\n "+i+"\n ");var s=document.getElementById("minishopcart_total");if(null!=s){var l=document.getElementById("currentOrderQuantity").value;null!=n&&(l=dojo.string.substitute(n,{0:document.getElementById("currentOrderQuantity").value}));s.innerHTML="\n "+l+"\n "}}else if(void 0!=a&&""!=a){var d=getCookie("WC_CartTotal_"+a);if(void 0!=d&&null!=d&&""!=d){var c=d.split(";");if(null!=c&&4==c.length)if(c[2]==e&&c[3]==t){var r=document.getElementById("minishopcart_subtotal");if(null!=r){var i=null;i="iw-il"==dojo.locale?dojo.currency.format(c[1].toString(),{symbol:"symbol",currency:e,locale:"he"}):dojo.currency.format(c[1].toString(),{symbol:"symbol",currency:e});i=null!=i?i.replace("symbol",shoppingActionsJS.currencySymbol):c[1].toString();r.innerHTML="\n "+i+"\n "}var s=document.getElementById("minishopcart_total");if(null!=s){var l=c[0].toString();null!=n&&(l=dojo.string.substitute(n,{0:c[0].toString()}));s.innerHTML="\n "+l+"\n "}}else o=!0;else o=!0}else o=!0}else o=!0;1==o&&wc.render.updateContext("MiniShopCartContentsContext",{status:"load"})}function handleMiniCartHover(){dojo.connect(document.getElementById("mini-cart-icon"),"onmouseover",function(){timer=setTimeout(function(){showMiniShopCartDropDown("mini-cart-icon","quick_cart_container","orderItemsListAutoClose")},1e3)});dojo.connect(document.getElementById("mini-cart-icon"),"onmouseout",function(){clearTimeout(timer)})}function setDeleteCartCookie(){dojo.cookie("WC_DeleteCartCookie_"+WCParamJS.storeId,!0,{path:"/"})}function checkDeleteCartCookie(){var e=getCookie("WC_DeleteCartCookie_"+WCParamJS.storeId);return void 0!=e&&""!=e&&"true"==e}function resetDeleteCartCookie(){var e=getCookie("WC_DeleteCartCookie_"+WCParamJS.storeId);if(null!=e){dojo.cookie("WC_DeleteCartCookie_"+WCParamJS.storeId,null,{expires:-1,path:"/"});dojo.cookie("WC_DeleteCartCookie_"+WCParamJS.storeId,null,{expires:-1,path:"/",domain:document.location.hostname})}}function updateUserCookie(){var e=getCookie("WC_UserId");if(void 0!=e&&""!=e){var t=dojo.byId("userId").value;e!=t&&dojo.cookie("WC_UserId",t,{path:"/"})}else if(void 0!=dojo.byId("userId")){var t=dojo.byId("userId").value;dojo.cookie("WC_UserId",t,{path:"/"})}else dojo.cookie("WC_UserId","-1002",{path:"/"})}function reinitializeCartCounts(){var e=dojo.cookie("WC_CartOrderId_".concat(WCParamJS.storeId)),t=dojo.cookie("WC_CartTotal_".concat(e));if(null!=t){var o=t.split(";");document.getElementById("cart-count")&&(document.getElementById("cart-count").innerHTML=o[0]);document.getElementById("persistent-cart-count")&&(document.getElementById("persistent-cart-count").innerHTML=o[0]);document.getElementById("mobile-cart-count")&&(document.getElementById("mobile-cart-count").innerHTML=o[0])}}function forwardToCheckout(e){document.location.href=e}function isCloudniaryEnabled(){var e=$("#ENABLE_CLOUDNIARY");return!(!e||"true"!=e.val())}function redirect(e){location.href=e}function showConfirmContainer(e,t){if(submitRequest()){var o=$("input[name=repeatDeliveryCancellationReason]:checked").val(),a=$("input[name=repeatDeliveryCancellationReason]:checked").attr("id"),n=$("input[name=repeatDeliveryCancellationSubReason]:checked").val(),r=$("input[name=repeatDeliveryCancellationSubReason]:checked").attr("id"),i=($("#othersReasonDetail").val(),$("#rdOrderStatus").val()),s=$("#hasError").val(),l=$("#isAllowedToChange").val(),d=$("#isEditable").val(),c=$("#nowScheduledDate").val(),u=$("#nextDate").val(),p=$("#rxFoodIndicatorFlag").val();wc.render.updateContext("PetcoCancelRepeatDeliveryConfirmation_Context",{subscriptionId:e,orderId:t,selectedMainReason:o,selectedMainReasonId:a,selectedSubReason:n,selectedSubReasonId:r,rdOrderStatus:i,hasError:s,isAllowedToChange:l,isEditable:d,nowScheduledDate:c,nextDate:u,rxFoodIndicatorFlag:p},"");$(".rd-cancellation-container").hide();$(".rd-cancellation-hero").hide();$(".rd-cancellation-confirm-top-hero").show()}}function trackATCInterstitailClick(e){var t=window.PetcoDataLayer.events||{};if("modal_opened"==e){t.evar95=e;t.event115="1";window.PetcoDataLayer.events=t}else{var o=t.evar95,a={};a.event_name=e;if(""!=o&&"modal_opened"!=o){o=o+"|"+e;var n=o.split("|");a.event115=""+n.length;a.evar95=o}else{o=e;a.event115="1";a.evar95=o}pushEvent(a)}}function footerUIInit(e){dojo.query("#orderstatus").forEach(function(t){if(isGuest){var o="/webapp/wcs/stores/servlet/PetcoGuestOrderLookupView?storeId="+WCParamJS.storeId;dojo.setAttr(t,"href",o)}else dojo.setAttr(t,"href",e)})}function deactivate(e){if(null!=e){activeElements[e.id]&&deactivate(activeElements[e.id]);require(["dojo/dom-class","dojo/query"],function(t,o){t.remove(e,"active");o('a[data-activate="'+e.id+'"]').removeClass("selected");o('a[data-toggle="'+e.id+'"]').removeClass("selected");var a=e.getAttribute("data-parent");delete activeElements[a]})}}function invokeCookieForLoginUser(e,t){require(["dojo/cookie"],function(o){o("WC_UserType",e,{path:"/"});o("WC_UserId",t,{path:"/"});o("rUserType",e,{path:"/",domain:domain})});var o="G"==e,a=document.getElementById("logged-in"),n=document.getElementById("logged-out"),r=document.getElementById("oneTapScript"),i=!(!(window&&window.page&&window.page.page_name_join)||"Home:Home Page"!==window.page.page_name_join&&"account:Sign In"!==window.page.page_name_join&&"account:Registration"!==window.page.page_name_join),s=document.getElementsByClassName("googlecreateconnect"),l=!1,d=!1;$(location).attr("href").indexOf("/OrderItemDisplay")>0&&(l=!0);$(location).attr("href").indexOf("/PetcoInterstitialLogonFormView")>0&&(d=!0);if(a&&n)if(o){a.style.display="none";a.classList.remove("active");n.style.display="block";n.classList.add("active")}else{a.style.display="block";a.classList.add("active");n.style.display="none";n.classList.remove("active");$("#logged-in a").focus(function(e){$(this).parents("#logged-in").css("visibility","visible")});var c=getCookie("optedOut"),u=null==c||""==c||"false"==c?"show":"hide",p=document.getElementById("pals-header-link");p.classList.remove("btn","btn-primary","margin-bottom-sm");p.classList.add("btn","btn-primary","margin-bottom-sm",u)}if(r&&o&&!s.length>0&&i){var m=document.createElement("script");m.src="https://accounts.google.com/gsi/client";r.appendChild(m)}var g=document.querySelectorAll(".account .active")[0],f=document.getElementById("account-container");if(g&&f){var h=g.cloneNode(!0);f.appendChild(h)}dojo.topic.publish("ajax_usertype_changed",e)}function setUserTypeCookie(e){"use strict";var t=dojo.cookie("WC_UserType"),o=t&&"G"!=e?"R":"G";dojo.cookie("WC_UserType",o,{path:"/"});var a="";null!=dojo.byId("cookieDomain")&&(a=dojo.byId("cookieDomain").value);dojo.cookie("rUserType",o,{path:"/",domain:a})}function getUserTypeCookie(){"use strict";return dojo.cookie("rUserType")}function pushEvent(e,t){try{if($("#omnitureEnabled").length>0&&""!=$("#omnitureEnabled").val()){var o=$("#omnitureEnabled").val();if("true"==o){var a;a="object"==typeof e?e:JSON.parse(e);void 0!=t&&null!=t&&getAttrValue(a,document.getElementById(t));PetcoDataLayer.events=a;var n=a.event_name;null!=a&&void 0!=typeof utag&&utag.link({event_name:n})}}}catch(e){console.log("Error occured while linking the event"+e);return!0}}function omnitureTagging(e){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var t=$("#omnitureEnabled").val();if("true"==t){var o=e;if(null!=$("#"+o).attr("data-info")||void 0!=$("#"+o).attr("data-info")){var a=$("#"+o).attr("data-info");pushEvent(a)}}}}catch(e){console.log("Error occured while linking the event from funtion omnitureTagging"+e);return!0}}function trackEventStart(e){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var t=$("#omnitureEnabled").val();if("true"==t){var o={event_status:"start",event_name:e};pushEvent(o)}}}catch(e){console.log("Error occured while linking the event from funtion trackEventStart"+e);return!0}}function buildProductDataLayerVariable(e){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var t=$("#omnitureEnabled").val();if("true"==t){if(null!=e&&void 0!=e){var o=new Array;o.push(e.catalogEntryIdentifier.externalIdentifier.partNumber);product.product_sku=o;var a=new Array,n=e.description[0].name;n=n.replace(/,/g,"");a.push(n);product.product_name=a;var r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e.listPrice),i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e.offerPrice);if(!e.listPriced||r<=i){var s=e.offerPrice,l=s.replace("$",""),d=new Array;d.push(l.replace(",",""));product.product_price=d;var c=new Array;c.push(l);product.product_list_price=c}else{var s=e.offerPrice,l=s.replace("$",""),d=new Array;d.push(l.replace(",",""));product.product_price=d;var u=e.listPrice,p=u.replace("$","");if(u.length>0){var c=new Array;c.push(p);product.product_list_price=c}else{var c=new Array;c.push(l);product.product_list_price=c}}var m=new Array;m.push(e.catalogEntryIdentifier.uniqueID);product.product_id=m}if($("#attributeRatings").size()>0){var m=new Array,g=$("#attributeRatings").val();if(""!=g){if(g.indexOf("[")!=-1){g=g.replace("[","");g=g.replace("]","")}var f,h=g.split(",");f=null!=h[0]&&0==!h[0].length?parseFloat(h[0]).toFixed(1):"0";m.push(f);product.product_rating=m}}if($("#attributeRatingsCount").size()>0){var m=new Array,v=$("#attributeRatingsCount").val();""==v||0===v.length?m.push("0"):m.push(v);product.product_reviews=m}if(product){PetcoDataLayer.product=product;try{var _={};_.event_name="product_view";_.product_id=e.catalogEntryIdentifier.uniqueID;_.partNumber=e.catalogEntryIdentifier.externalIdentifier.partNumber;_.name=e.description[0].name;$("#tel_product_id").size()>0&&(_.product_parent_sku=$("#tel_product_id").val());_.eventStatus="end";"complete"===document.readyState&&pushEvent(_)}catch(e){console.log(e);return!0}}}}}catch(e){console.log("buildProductDataLayerVariable"+e);return!0}}function buildAddonProductDataLayerVariable(){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var e=$("#omnitureEnabled").val();if("true"==e){var t,o="no";if($("#selectRDOrderBtnAddTo:visible").size()>0){t="recurring";o="yes"}if($("#rd-add-on:visible").size()>0||$("#selectRDOrderBtnCpy:visible").size()>0){t=t?"both":"once";o="yes"}t&&(product.add_to_rd=t);product.addon=o;product&&(PetcoDataLayer.product=product)}}}catch(e){console.log("buildAddonProductDataLayerVariable"+e);return!0}}function buildRDProductDataLayerVariable(e){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var t=$("#omnitureEnabled").val();if("true"==t){if(null!=e&&void 0!=e){var o=new Array;if($("#tel_product_sku_"+e)&&""!=$("#tel_product_sku_"+e).val()){o.push($("#tel_product_sku_"+e).val());product.product_sku=o}var a=new Array;if($("#tel_product_name_"+e)&&""!=$("#tel_product_name_"+e).val()){var n=$("#tel_product_name_"+e).val();n=n.replace(/,/g,"");a.push(n);product.product_name=a}var r;$("#tel_product_list_price_"+e)&&""!=$("#tel_product_list_price_"+e).val()&&(r=parseFloat($("#tel_product_list_price_"+e).val()));var i;$("#tel_product_price_"+e)&&""!=$("#tel_product_price_"+e).val()&&(i=parseFloat($("#tel_product_price_"+e).val()));if(!r||r<=i){var s=new Array;s.push(i);product.product_price=s;var l=new Array;l.push(i);product.product_list_price=l}else{var s=new Array;s.push(i);product.product_price=s;if(r>0){var l=new Array;l.push(r);product.product_list_price=l}else{var l=new Array;l.push(i);product.product_list_price=l}}var d=new Array;if($("#tel_product_id_"+e)&&""!=$("#tel_product_id_"+e).val()){d.push($("#tel_product_id_"+e).val());product.product_id=d}var c=new Array;if($("#tel_product_brand_"+e)&&""!=$("#tel_product_brand_"+e).val()){c.push($("#tel_product_brand_"+e).val());product.product_brand=c}var u=new Array;if($("#tel_product_image_url_"+e)&&""!=$("#tel_product_image_url_"+e).val()){u.push($("#tel_product_image_url_"+e).val());product.product_image_url=u}var p=new Array;if($("#tel_product_parent_id_"+e)&&""!=$("#tel_product_parent_id_"+e).val()){p.push($("#tel_product_parent_id_"+e).val());product.product_parent_id=p}}product&&(PetcoDataLayer.product=product)}}}catch(e){console.log("buildRDProductDataLayerVariable"+e);return!0}}function buildProductInventoryDataLayer(e,t){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var o=$("#omnitureEnabled").val();if("true"==o&&null!=e&&null!=PetcoDataLayer.product){var a,n=new Array;a="onChange"==t?e:e[PetcoDataLayer.product.product_id].onlineInventory_status;"In-Stock"!=a?n.push("yes"):n.push("no");PetcoDataLayer.product.product_oos=n}}}catch(e){console.log("buildProductInventoryDataLayer"+e);return!0}}function buildBopusProductInventoryDataLayer(e,t){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var o=$("#omnitureEnabled").val();if("true"==o&&null!=PetcoDataLayer.product){var a=new Array;"RED"==e?a.push("yes"):a.push("no");PetcoDataLayer.product.bopus_oos=a;"undefined"!=typeof t&&null!=t&&(PetcoDataLayer.product.bopus_store=t)}}}catch(e){console.log("buildBopusProductInventoryDataLayer"+e);return!0}}function updateRDProductAddonDataLayer(){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var e=$("#omnitureEnabled").val();"true"==e&&null!=PetcoDataLayer.product&&$("#addToRDDropDown").length&&("ADDON"==$("#addToRDDropDown").val()?PetcoDataLayer.product.addon="yes":PetcoDataLayer.product.addon="no")}}catch(e){console.log("updateRDProductAddonDataLayer "+e);return!0}}function updateSearchData(e,t,o){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var a=$("#omnitureEnabled").val();if("true"==a){if(!PetcoDataLayer.search){var n={};PetcoDataLayer.search=n}var r="";r="search_filter"==e?0==t.indexOf("averagerating")?t:$("#facetLabel_"+t).html().trim():t;var i;if(PetcoDataLayer.search&&PetcoDataLayer.search.search_filters){var s=PetcoDataLayer.search.search_filters;i=s+","+r}else i=r;PetcoDataLayer.search.search_filters=i;var l={};l.search_filters=r;l.event_search_filter="yes";l.event_name="search_filter_applied";getAttrValue(l,o);pushEvent(l)}}}catch(e){console.log("updateSearchData"+e);return!0}}function checkoutEvents(e,t){try{var o="",a="",n="";if(void 0!=$("#orderId")||""!=$("#orderId").val())var r=$("#orderId").val();if("checkout_guest"==e){o="2";a="Guest Checkout";n="Guest Checkout"}else if("checkout_sign_in"==e){o="1";a="SignIn";n="SignIn"}var i={event_name:e,cart_id:r,conversion_action_type:o,conversion_catergory_id:a,conversion_event_id:n};void 0!=t&&getAttrValue(i,t);pushEvent(i)}catch(e){return!0}}function userEvents(e,t){try{var o={};switch(e){case"user_log_out":o.user_state="logged_out";o.event_name=e;break;case"forgot_pw":o.event_name="forgot_pw";break;case"user_log_in":o.user_state="logged_in";o.conversion_action_type="1";o.conversion_catergory_id="SignIn";o.conversion_event_id="Sign In";o.event_name=e;break;case"checkout_start":if(void 0!=$("#currentOrderId")||""!=$("#currentOrderId").val())var a=void 0!=$("#currentOrderId").val()?$("#currentOrderId").val():void 0!=$("#currentOrderIdShop").val()?$("#currentOrderId").val():"";""==a&&(a=void 0!=$("#orderIdForPurcList").val()?$("#orderIdForPurcList").val():a);""==a&&(a=void 0!=$("#orderId").val()?$("#orderId").val():a);o.cart_id=a;o.event_name=e;break;default:o.event_name=e}void 0!=t&&getAttrValue(o,t);pushEvent(o)}catch(e){return!0}}function addPromoCodeDetails(e,t){try{if("cart"==t)PetcoDataLayer.cart.order_promo_code=e;else{if("undefined"==typeof o){var o={};o.order_promo_code=e}PetcoDataLayer.order=o}}catch(e){return!0}}function getAttrValue(e,t){try{var o="";if(null!=$(t)&&void 0!=$(t)){if(void 0!=$(t).attr("manual_cm_sp")){o=$(t).attr("manual_cm_sp");e.event_link_type="standard"}else if(void 0!=$(t).attr("promo_onsite_link")){o=$(t).attr("promo_onsite_link");e.event_link_type="promo"}e.event_link_name=o;e.event_link_action="click";return e}}catch(e){return!0}}function clickTrackLink(e){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var t=$("#omnitureEnabled").val();if("true"==t){var o={};o=getAttrValue(o,e);PetcoDataLayer.events=o;null!=o&&utag.link({event_name:"link_tracking"})}}}catch(e){console.log("Error occured while linking the event"+e);return!0}}function facetEvents(e){try{var t={event_search_filter:"remove",event_name:"search_filter_removed",search_filters:e};pushEvent(t);if(PetcoDataLayer.search&&PetcoDataLayer.search.search_filters){var o=PetcoDataLayer.search.search_filters,a=o.replace(","+e,"");a=a.replace(e+",","");a=a.replace(e,"");""==a?delete PetcoDataLayer.search.search_filters:PetcoDataLayer.search.search_filters=a}}catch(e){return!0}}function buildModalDataLayer(e,t,o){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var a=$("#omnitureEnabled").val();if("true"==a){var n={};n.name=e;n.action=t;o?n.action_detail=o:n.action_detail=t;if("modal_add_to_order"==t&&($("[name=subscriptionId]:checked").length||$("[name=subscriptionId]").length)){var r;r=$("[name=subscriptionId]:checked").length?$("[name=subscriptionId]:checked").val():$("[name=subscriptionId]").val();var i=$("#rdOrderNextDate_"+r).val(),s="one time";$("#addToRDDropDown").length&&"INC"==$("#addToRDDropDown").val()&&(s=$("#rdOrderFrequency_"+r).val());r&&(n.order_id=r);i&&(n.next_order_date=i);s&&(n.order_frequency=s)}n&&(PetcoDataLayer.modal=n);buildTestDataLayer("AT_PDP_ADDTORDMODAL","addrecurring")}}}catch(e){console.log("buildModalDataLayer"+e);return!0}}function buildModalCloseDataLayer(e,t,o){try{if(null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")){var a=$("#omnitureEnabled").val();if("true"==a){if(e.target!==e.currentTarget)return;buildModalDataLayer(t,"modal_close_outside_modal");var n={};n.event_link_type="standard";n.event_link_name=o;n.event_link_action="click";PetcoDataLayer.events=n;null!=n&&utag.link({event_name:"link_tracking"})}}}catch(e){console.log("buildModalCloseDataLayer"+e);return!0}}function buildTestDataLayer(e,t){try{var o=sessionStorage.getItem(e),a=o?o:"var_A",n={};n.name=e;n.test_audience=a;"object"==typeof PetcoDataLayer.testExposed&&null!==PetcoDataLayer.testExposed||(PetcoDataLayer.testExposed={});PetcoDataLayer.testExposed[t]=n}catch(e){console.log("buildTestDataLayer"+e);return!0}}function calculateTimePeriod(e){try{var t,o=864e5,a=Date.now(),n=new Date(e),r=n.getTime(),i=a-r,s=Math.round(i/o),l=s/7;l<=1?t=s<=1?s+" Day":s+" Days":l>1&&l<=2?t="1-2 Weeks":l>2&&l<=3?t="2-3 Weeks":l>3&&l<=4?t="3-4 Weeks":s>=30&&s<60?t="1 Month":s>=60&&s<90?t="2 Month":s>=90&&(t="3 Months+ ");return t}catch(e){console.log(e.message);return 0}}function formEvents(e,t,o){try{var a={};switch(e){case"form_start":a.form_name=t;a.event_name=e;break;case"form_error":a.event_name=e;a.form_name=t;a.form_error=o;break;default:a.event_name=e}pushEvent(a)}catch(e){return!0}}function readAndFireTeliumTagForReg(){var e="",t={};t.conversion_event_id="Register";t.event_name="registration";t.conversion_category_id="Register";t.conversion_action_type="1";for(var o in global_data_for_user_reg){var a=o.split("|_|")[0],n=o.split("|_|")[1];if(""!=n){var r=$("#"+a+'[name="'+n+'"]');r.length>0&&(e=$("#"+a+'[name="'+n+'"]')[0].value)}else{var r=$("#"+a);r.length>0&&(e=$("#"+a)[0].value)}if(""!=e){"customer_name"==i&&"undefined"!=typeof t.customer_name&&(e=t.customer_name+" "+e);"customer_pals_number"==i&&"undefined"!=typeof t.customer_pals_number?t.pals_account="added":t.pals_account="created";var i=parentGroupJson_telium[o];t[i]=e;e=""}}pushEvent(t,"WC_UserRegistrationAddForm_links_1")}function populateCurentBopusStore(){if($("#bopusInfoTabInPlp_conatiner").length>0&&null!=byId("bopusItemfacet")&&null!=window.categoryreflektion_filterQuery){var e=byId("bopusItemfacet").value.replace("facetDiv","");if(window.categoryreflektion_filterQuery.indexOf(e)>-1){$("#bopusCheckBoxPLP").length>0&&($("#bopusCheckBoxPLP")[0].checked=!0);$("#bopusCheckBoxPLP_mobile").length>0&&($("#bopusCheckBoxPLP_mobile")[0].checked=!0)}var t="",o="petcostores",a=localStorage.getItem(o);if(null!=a){var n=JSON.parse(a);if("undefined"!=typeof n.petcostores){var r=JSON.parse(n.petcostores);if("undefined"!=typeof dojo.cookie("WC_physicalStores")){var i=dojo.cookie("WC_physicalStores").split(",")[0];for(var s in r)if(r[s].STLOC_ID==i){t=r[s].DSNAME;break}}else{"undefined"!=typeof petcoNearestLocations&&petcoNearestLocations.fnSetPhysicalStoreCookie("WC_physicalStores",r);for(var s in r)if(""==t){t=r[s].DSNAME;break}}}}$("div#bopusInfoTabInPlp .bopusStoreValue").html(t);$("div#bopusInfoTabInPlp .bopusStoreValue").dotdotdot();if($("div#bopusInfoTabInPlp_mobile .bopusStoreValue").length>0){$("div#bopusInfoTabInPlp_mobile .bopusStoreValue").html(t);$("div#bopusInfoTabInPlp_mobile .bopusStoreValue").dotdotdot()}""!=t&&RfkSearchBasedNavigationDisplayJS.pullRfkbopusCount()}else null!=byId("isSameDayDeliveryEnabled")&&"true"===$("#isSameDayDeliveryEnabled").val()&&RfkSearchBasedNavigationDisplayJS.showHideSameDayDeliveryFacet(!0)}function updateCoreMetricsToIncludeLocation(e,t,o){var a=getNumProductsPerRow(),n=getProdTileId(e),r=parseInt(n.replace("prod-tile-","")),i=r%a,s=Math.floor(r/a);r%a>0&&(s+=1);var l="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");e.setAttribute("manual_cm_sp","PLP-_-"+l[i]+s+"-_-"+t+"_"+o)}function getNumProductsPerRow(){for(var e=0,t=document.getElementsByClassName("prod-tile"),o=0;o<t.length;o++){var a=t[o];if(o>1){if(a.getBoundingClientRect().top!=t[o-1].getBoundingClientRect().top)break;e++}else e++}return e}function getProdTileId(e){for(var t=null,o="prod-tile",a="product-display-grid";e;){if(e.className.indexOf(o)>-1){t=e;break}if(e.className.indexOf(a)>-1)break;e=e.parentElement}return null==t?null:t.id}function updateCoreMetricsContentToIncludeLocation(e,t,o){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;a>796?e.setAttribute("manual_cm_sp","Search_PLP-_-"+t+"-_-Title"):e.setAttribute("manual_cm_sp","Search_PLP-_-"+o+"-_-Title")}function RFKAutoCorrectCitrusAdsSlot(){var e=[];document.querySelectorAll(".notLoaded").forEach(function(e){e.remove()});document.querySelectorAll("section#products-listing-section.container section#products-section div article.product-tile:not(.notLoaded)").forEach(function(t){e.push(t);t.remove()});var t=0;document.querySelectorAll("section#products-listing-section.container section#products-section div.products-section").forEach(function(o){for(var a=0;a<4;a++){"undefined"!=typeof e[t]&&o.appendChild(e[t]);t++}});RfkSearchBasedNavigationDisplayJS.populateDynamicEspotContent()}function RFKCallCitrusFilter(){try{if(window.citrusResquestJson){var e=JSON.parse(window.citrusResquestJson),t=[];document.querySelectorAll("[category_id_for_citrus]").length>0&&document.querySelectorAll("[category_id_for_citrus]").forEach(function(e){t.push(e.getAttribute("category_id_for_citrus"))});if(""!=e.pageType){e.categoryIds=t;window.citrus.initialize(e,function(e){document.querySelectorAll('div[id^="citrus-product-tile_"].inGridCitrusTile').forEach(function(e){0==e.innerHTML.trim().length&&e.parentNode.parentNode.classList.add("notLoaded")});document.querySelectorAll('div[id^="citrus-static-banner_"].inGridCitrusTile').forEach(function(e){0==e.innerHTML.trim().length&&e.parentNode.parentNode.classList.add("notLoaded")});RFKAutoCorrectCitrusAdsSlot()})}}}catch(e){document.querySelectorAll('div[id^="citrus-product-tile_"].inGridCitrusTile').forEach(function(e){0==e.innerHTML.trim().length&&e.parentNode.parentNode.classList.add("notLoaded")});document.querySelectorAll('div[id^="citrus-static-banner_"].inGridCitrusTile').forEach(function(e){0==e.innerHTML.trim().length&&e.parentNode.parentNode.classList.add("notLoaded")});RFKAutoCorrectCitrusAdsSlot()}}""==window.location.port?dojo.registerModulePath("wc",window.location.protocol+"//"+window.location.hostname+"/wcsstore/dojo18/wc"):dojo.registerModulePath("wc",window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/wcsstore/dojo18/wc");dojo.require("wc.service.common");dojo.require("dojo.number");dojo.require("dojo.has");dojo.require("dojox.xml.DomParser");dojo.require("wc.render.common");dojo.require("dojox.collections.ArrayList");dojo.require("wc.widget.Tooltip");dojo.require("wc.widget.ScrollablePane");dojo.require("dojo.io.iframe");dojo.require("dojo.io.script");dojo.require("dojo.parser");dojo.require("dijit.form.Button");dojo.require("wc.widget.WCMenu");dojo.require("wc.widget.WCDialog");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.Tooltip");dojo.require("wc.widget.WCDropDownButton");dojo.require("dijit.Dialog");dojo.require("dojo.currency");dojo.require("dijit.Tree");dojo.require("dojo.back");dojo.require("dijit.form.DateTextBox");dojo.require("wc.widget.RefreshArea");dojo.require("wc.render.RefreshController");dojo.require("wc.render.Context");dojo.require("dojo.cookie");dojo.require("dojo.topic");var showDropdown=!1,dropDownDlg=null,productAddedDropDownDlg=null,originalMiniCartWidth=0,isIE=!!document.all,correctBrowser=!1,requestSubmitted=!0,currentId="",numAjaxRequests=0,widgetsList=[],tabPressed=!1,currentPopup="",android=null,ios=null,cursorDisplayTimeout=null;dojo.subscribe("ajaxRequestInitiated",incrementNumAjaxRequest);dojo.subscribe("ajaxRequestCompleted",decrementNumAjaxRequest);dojo.addOnLoad(function(){activateRatings();var e="<a href='#topcontent' class='back-to-top' id='scrollToTop'><span class='glyphicon glyphicon-chevron-up'></span><p>top</p></a>",t=document.location.href;if(!t.includes("OrderItemDisplay")&&null!=document.getElementById("scroolTop")){document.getElementById("scroolTop").innerHTML=e;document.getElementById("scrollToTop").style.visibility="hidden"}dojo.connect(dojo.byId("scrollToTop"),"click",function(e){scrollToTop(1e3)});dojo.query(".collapse").on("hidden.bs.collapse",function(){
dojo.query(".glyphicon-minus",this.parentNode).removeClass("glyphicon-minus").addClass("glyphicon-plus")});dojo.query(".collapse").on("shown.bs.collapse",function(){dojo.query(".glyphicon-plus",this.parentNode).removeClass("glyphicon-plus").addClass("glyphicon-minus")});gapi&&googleInit()});dojo.connect(window,"onscroll",this,function(e){if(null!=document.getElementById("scrollToTop"))if(window.scrollY>=350){document.getElementById("scrollToTop").style.visibility="visible";dojo.fadeIn({node:"scrollToTop"}).play()}else{dojo.fadeOut({node:"scrollToTop"}).play();document.getElementById("scrollToTop").style.visibility="hidden"}});var googleToggle="";$("#googleToggle").length>0&&(googleToggle=$("#googleToggle").val());var oneTapToggle="";$("#oneTapToggle").length>0&&(oneTapToggle=$("#oneTapToggle").val());var appleSigninToggle="";$("#appleSigninToggle").length>0&&(appleSigninToggle=$("#appleSigninToggle").val());"ON"==googleToggle&&"ON"==appleSigninToggle&&$("#WC_AccountDisplay_div_19").addClass("seperator-height");"ON"!=googleToggle&&"ON"!=appleSigninToggle||$("#WC_AccountDisplay_div_19").addClass("col-seperator-height");if("ON"==appleSigninToggle){document.addEventListener("AppleIDSignInOnSuccess",function(e){console.log("success apple sign in authorization");processAppleSignOn(e)});document.addEventListener("AppleIDSignInOnFailure",function(e){console.log("failure apple sign in authorization")})}"undefined"!=typeof MessageHelper&&MessageHelper&&MessageHelper.topicNamespace||(MessageHelper={messages:{},identifier:"",tooltip:null,focusElement:"",getCurrentYear:function(){return(new Date).getFullYear()},getCurrentMonth:function(){return(new Date).getMonth()+1},getCurrentDay:function(){return(new Date).getDate()},getRenderContextProperty:function(e,t){console.debug("enter getRenderContextProperty with propertyName = "+t);if(null==e){console.debug("context is null. Return null...");return null}var o=e.properties[t];console.debug("the found property value is: "+o);return o},setMessage:function(e,t){this.messages[e]=t},setFocusElement:function(e){this.focusElement=e},showHideMessageArea:function(e){cursor_clear();null!=e&&void 0!=e||(e=0);var t=dojo.byId("MessageArea"),o=new Array;o.node=t;o.duration=200;o.delay=0;dojo.style(t,"opacity",0);null!=dijit.byId("MessageArea_ACCE_Title")&&(dijit.byId("MessageArea_ACCE_Title").style.display="block");dojo.style(t,"display","block");var a=dojo.fadeIn(o);a.play()},hideMessageArea:function(){cursor_clear();var e="";null!=dojo.byId(this.focusElement)&&(e=dojo.byId(this.focusElement));var t=dojo.byId("MessageArea"),o=new Array;o.node=t;o.duration=500;o.onEnd=function(){dojo.style(t,"display","none");null!=dijit.byId("MessageArea_ACCE_Title")&&(dijit.byId("MessageArea_ACCE_Title").style.display="none");dojo.style(t,"opacity",100);null!=dojo.byId(e)&&e.focus()};dojo.fadeOut(o).play();dojo.byId("ErrorMessageText").innerHTML="";this.focusElement=""},displayErrorMessage:function(e,t,o){try{null!=t&&void 0!=t||(t=0);if((void 0==o||null==o||1==o)&&null!=this.messages.ERROR_MESSAGE_TYPE&&"undefined"!=this.messages.ERROR_MESSAGE_TYPE){var a=this.messages.ERROR_MESSAGE_TYPE;e=a+e}this.setMessageAreaStyle("error_icon");this.showHideMessageArea(t);dojo.byId("clickableErrorMessageImg").focus();setTimeout(function(){null!=dojo.byId("ErrorMessageText")&&dojo.byId("ErrorMessageText").focus()},1e3);"undefined"!=typeof TealeafWCJS&&TealeafWCJS.logClientValidationCustomEvent({fieldId:"-1",message:e})}catch(t){e.indexOf(" discontinued ")!=-1?alert(e):console.log(t)}},setMessageAreaStyle:function(e){null!=dojo.byId(e)&&(dojo.byId(e).style.display="inline")},displayStatusMessage:function(e,t){null!=t&&void 0!=t||(t=0);this.setMessageAreaStyle("success_icon");null!=dojo.byId("clickableErrorMessageImg")&&dojo.byId("clickableErrorMessageImg").focus();setTimeout(function(){null!=dojo.byId("ErrorMessageText")&&dojo.byId("ErrorMessageText").focus()},1e3)},hideAndClearMessage:function(){},adjustCoordinates:function(e){if("none"!=dojo.style("MessageArea","display")){var t=dojo.byId("page"),o=dojo.byId("MessageArea");if(null!=t&&null!=o){var a=dojo.coords(t,!0),n=a.w;dojo.isSafari&&(n=dojo.style("page","width"));null!=e&&void 0!=e||(e=0);dojo.style(o,{width:n+20+"px",left:a.x-10+"px",top:a.y+e+"px"})}}},formErrorHandle:function(e,t){this.formErrorHandleClient(e.errorMessageParam,e.errorMessage)},formErrorHandleClient:function(e,t){var o=dojo.byId(e);if(null!=t){if(o){if(this.identifier!=e+"_tooltip"){this.identifier=e+"_tooltip";var a=document.createElement("span"),n=getImageDirectoryPath();dojo.isIE<7?a.innerHTML=t+"<iframe id='errorMessageIFrame' scrolling='no' frameborder='0' src='"+n+"images/empty.gif'></iframe>":a.innerHTML=t;var r=dojo.some(["ar","he","iw"],function(e){return e===dojo.attr(dojo.body().parentNode,"lang")}),i=new dijit.Tooltip({connectId:[e],dir:r},a);i.startup();console.log("created",i,i.id);o.focus();var s=document.createElement("div");s.setAttribute("class","spanacce");s.setAttribute("role","alert");s.setAttribute("id","alert");var l=document.createTextNode(t);s.appendChild(l);document.body.appendChild(s);o.setAttribute("aria-invalid","true");i.open(o);dojo.connect(o,"onblur",i,"close");dojo.connect(o,"onblur",i,"destroy");dojo.connect(o,"onblur",this,"clearCurrentIdentifier");i._onMouseOver=this.emptyFunc;this.tooltip=i}"undefined"!=typeof TealeafWCJS&&TealeafWCJS.logClientValidationCustomEvent({fieldId:o.id,message:t})}}else console.debug("formErrorHandleClient: The error message is null.")},hideFormErrorHandle:function(){if(null!=this.tooltip){this.tooltip.destroyRecursive();this.tooltip=null;this.clearCurrentIdentifier()}},clearCurrentIdentifier:function(){this.identifier=""},emptyFunc:function(e){},containsDoubleByte:function(e){for(var t=new String(e),o=127,a=0;a<t.length;a++){chr=t.charCodeAt(a);if(chr>o)return!0}return!1},isValidEmail:function(e){return!this.containsDoubleByte(e)&&(0==e.length||!(e.length<5)&&(!(e.indexOf(" ")>0)&&(!(e.indexOf("@")<1)&&(!(e.lastIndexOf(".")<e.indexOf("@")+2)&&!(e.lastIndexOf(".")>=e.length-2)))))},isValidUTF8length:function(e,t){return!(this.utf8StringByteLength(e)>t)},utf8StringByteLength:function(e){if(null===e)return 0;var t=String(e),o=127,a=2047,n=t.length;for(i=0;i<t.length;i++){chr=t.charCodeAt(i);chr>o&&(n+=1);chr>a&&(n+=1)}return n},IsNumeric:function(e,t){if(t)var o="0123456789.";else var o="0123456789";var a,n=!0;for(i=0;i<e.length&&1==n;i++){a=e.charAt(i);o.indexOf(a)==-1&&(n=!1)}return n},IsValidPhone:function(e){var t,o="0123456789",a=!0;for(i=0;i<e.length&&1==a;i++){t=e.charAt(i);o.indexOf(t)==-1&&(a=!1)}return a},IsValidZipCode:function(e){var t,o="0123456789",a=!0;for(i=0;i<e.length&&1==a;i++){t=e.charAt(i);o.indexOf(t)==-1&&(a=!1)}return a}});"undefined"!=typeof ResponsiveJS&&null!=ResponsiveJS&&ResponsiveJS||(ResponsiveJS={init:function(){dojo.connect(dojo.byId("footerCustomerService"),"onclick",ResponsiveJS,ResponsiveJS._cSToggleAndShow);dojo.connect(dojo.byId("footerCorporateInfo"),"onclick",ResponsiveJS,ResponsiveJS._cIToggleAndShow);dojo.connect(dojo.byId("footerExplore"),"onclick",ResponsiveJS,ResponsiveJS._eToggleAndShow);dojo.connect(dojo.byId("footerFollowUs"),"onclick",ResponsiveJS,ResponsiveJS._FUToggleAndShow)},_cSToggleAndShow:function(e){this.toggle(dojo.byId("cSTog"));this.show(dojo.byId("expandCS"))},_cIToggleAndShow:function(e){this.toggle(dojo.byId("cITog"));this.show(dojo.byId("expandCI"))},_eToggleAndShow:function(e){this.toggle(dojo.byId("eTog"));this.show(dojo.byId("expandE"))},_FUToggleAndShow:function(e){this.toggle(dojo.byId("fUTog"));this.show(dojo.byId("expandFU"))},toggle:function(e){var t=e;if(null!=t)if("-161px -1px"==t.style.backgroundPosition){t.style.backgroundPosition="-181px -1px";t.style.width="12px";t.style.height="6px";t.style.left="6px";t.style.top="14px"}else{t.style.backgroundPosition="-161px -1px";t.style.width="6px";t.style.height="12px";t.style.left="10px";t.style.top="10px"}},show:function(e){srcElement=e;if(null!=srcElement)if("block"==srcElement.style.display){close("searchDropdown");srcElement.style.display="none"}else{dojo.query(".subDeptDropdown ").forEach(function(e){close(e.id)});close("departmentsDropdown");close("qLinkDropdown");close("mobileSearchDropdown");close("searchDropdown");close("pageDropdown");close("sortDropdown");srcElement.style.display="block"}}});if("undefined"==typeof SearchJS||null==SearchJS||!SearchJS){SearchJS={autoSuggestTimer:-1,autoSuggestKeystrokeDelay:400,autoSuggestHover:!1,autoSuggestPreviousTerm:"",autoSuggestURL:"",autoSelectOption:-1,historyIndex:-1,retrievedCachedSuggestions:!1,TOTAL_SUGGESTED:4,TOTAL_HISTORY:2,AUTOSUGGEST_THRESHOLD:2,DYNAMIC_AUTOSUGGEST_THRESHOLD:1,CACHED_AUTOSUGGEST_OFFSET:1e3,END_OF_LIST:!1,STATIC_CONTENT_SECTION_DIV:["autoSuggestStatic_1","autoSuggestStatic_2","autoSuggestStatic_3"],staticContentHeaderHistory:"",CachedSuggestionsURL:"",SearchAutoSuggestServletURL:"",searchDepartmentHoverTimeout:"",searchSuggestionHoverTimeout:"",searchDepartmentSelect:function(e,t){byId("searchDepartmentLabel").innerHTML=t.innerHTML;byId("search_categoryId").value=e;this.hideSearchDepartmentList();return!1},cancelEvent:function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault&&e.preventDefault();e.cancelBubble=!0;e.cancel=!0;e.returnValue=!1},searchDepartmentKeyPressed:function(e,t,o,a,n){if(13==e.keyCode){this.searchDepartmentSelect(a,n);var r=document.getElementById("mobileSearchDropdown");null!=r&&"block"==r.style.display?dojo.byId("MobileSimpleSearchForm_SearchTerm").focus():document.CatalogSearchForm.searchTerm.focus()}else if(38==e.keyCode){if(0!=t){dojo.byId("searchDepartmentList_"+(t-1)).focus();this.cancelEvent(e)}}else if(40==e.keyCode){if(t!=o){dojo.byId("searchDepartmentList_"+(t+1)).focus();this.cancelEvent(e)}}else if(27==e.keyCode){var r=document.getElementById("mobileSearchDropdown");null!=r&&"block"==r.style.display?dojo.byId("MobileSimpleSearchForm_SearchTerm").focus():document.CatalogSearchForm.searchTerm.focus();this.hideSearchDepartmentList()}else if(e.shiftKey&&9==e.keyCode){var r=document.getElementById("mobileSearchDropdown");null!=r&&"block"==r.style.display?dojo.byId("MobileSimpleSearchForm_SearchTerm").focus():document.CatalogSearchForm.searchTerm.focus();this.cancelEvent(e);this.hideSearchDepartmentList()}else if(9==e.keyCode){dojo.byId("search_submit").focus();this.cancelEvent(e);this.hideSearchDepartmentList()}return!1},hideSearchDepartmentList:function(){byId("searchDepartmentList").style.display="none"},init:function(){dojo.connect(document.CatalogSearchForm.searchTerm,"onfocus",SearchJS,SearchJS._onFocus);dojo.connect(document.CatalogSearchForm.searchTerm,"onblur",SearchJS,SearchJS._onBlur);dojo.connect(document.CatalogSearchForm.searchTerm,"onkeyup",SearchJS,SearchJS._onKeyUp);this.staticContentHeaderHistory=storeNLS.HISTORY},showSearchComponent:function(){var e=document.getElementById("searchDropdown");null!=e&&(e.style.display="block")},hideSearchComponent:function(){var e=document.getElementById("searchDropdown");null!=e&&(e.style.display="none");document.getElementById("look-ahead").classList.hide("active")},_showMobileSearchComponent:function(){var e=document.getElementById("mobileSearchDropdown");if(null!=e)if("block"==e.style.display){DepartmentJS.close("mobileSearchDropdown");e.style.display="none"}else{dojo.query(".subDeptDropdown ").forEach(function(e){DepartmentJS.close(e.id)});DepartmentJS.close("departmentsDropdown");e.style.display="block"}},setCachedSuggestionsURL:function(e){this.CachedSuggestionsURL=getAbsoluteURL()+e},setAutoSuggestURL:function(e){this.SearchAutoSuggestServletURL=getAbsoluteURL()+e},_onFocus:function(e){this.showSearchComponent();this.retrieveCachedSuggestions()},_MobileonFocus:function(e){this.showSearchComponent();this.retrieveCachedSuggestions()},_onBlur:function(e){clearTimeout(this.searchSuggestionHoverTimeout);this.searchSuggestionHoverTimeout=setTimeout("SearchJS.showAutoSuggest(false)",250)},_MobileonBlur:function(e){clearTimeout(this.searchSuggestionHoverTimeout);this.searchSuggestionHoverTimeout=setTimeout("SearchJS.showAutoSuggest(false)",100)},_onKeyPress:function(e){return e.keyCode!=dojo.keys.ENTER},_onKeyUp:function(e){var t=document.getElementById("searchDropdown");t.style.display="block";this.doAutoSuggest(e,this.SearchAutoSuggestServletURL,document.CatalogSearchForm.searchTerm.value)},_MobileonKeyUp:function(e){var t=document.getElementById("mobileSearchDropdown");t.style.display="block";this.doAutoSuggest(e,this.SearchAutoSuggestServletURL,dojo.byId("MobileSimpleSearchForm_SearchTerm").value)},_handleEnterKey:function(){document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value);if(document.CatalogSearchForm.searchTerm.value.length>0)if(this.END_OF_LIST)this.gotoAdvancedSearch(byId("advancedSearch").href);else if(""!=this.autoSuggestURL)document.location.href=this.autoSuggestURL;else{document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value);submitSpecifiedForm(document.CatalogSearchForm)}},_onClick:function(e){document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value);if(document.CatalogSearchForm.searchTerm.value.length>0){"undefined"!=typeof TealeafWCJS&&TealeafWCJS.processDOMEvent(e);submitSpecifiedForm(document.CatalogSearchForm)}return!1},_MobileonClick:function(e){document.MobileCatalogSearchForm.searchTerm.value=trim(document.MobileCatalogSearchForm.searchTerm.value);if(document.MobileCatalogSearchForm.searchTerm.value.length>0){"undefined"!=typeof TealeafWCJS&&TealeafWCJS.processDOMEvent(e);submitSpecifiedForm(document.MobileCatalogSearchForm)}return!1},doDynamicAutoSuggest:function(e,t,o){if(this.autoSuggestTimer!=-1){clearTimeout(this.autoSuggestTimer);this.autoSuggestTimer=-1}this.autoSuggestTimer=setTimeout(function(){$(".look-ahead-categories .list_section").length>0?$("#look-ahead").addClass("active"):$("#look-ahead").removeClass("active");var a=t.toLowerCase();$.ajax({url:e+"&term="+encodeURIComponent(t)+"&showHeader="+o,type:"GET",cache:!1,contentType:"application/json",dataType:"json",data:"",success:function(e){var o=!1,n="",r="",i=e.SearchTermResult.header;for(var s in e.SearchTermResult.results){o=!0;n=n+"<li id='suggestionItem_"+s+"' role='listitem' tabindex='-1'>";n+="<a role='listitem' href='#' onmouseout='this.className=\"\"' ";n=n+" onmouseover='SearchJS.enableAutoSelect(\""+s+"\");'  ";n=n+" onclick='SearchJS.selectAutoSuggest(this.title); return false;' title='"+e.SearchTermResult.results[s]+"'";n=n+" id='autoSelectOption_"+s+"'>";n+=e.SearchTermResult.results[s].replace(a,"<span class='highlight'>"+t+"</span>");n+="</a></li>"}if(o){r="<div id='suggestedKeywordResults'><div id='look-ahead-keywords'>"+i;r+="<div class='list_section'>";r=r+"<div title='"+i+"' role='list' aria-labelledby='suggest_keywords_ACCE_Label'></div>";r+=" <ul class='list-unstyled'>";r+=n;r+="</ul></div></div></div>";$("#searchSuggestionResults_div").html(r)}var l="";"undefined"!=typeof e&&"undefined"!=typeof e.ProductResults&&"undefined"!=typeof e.ProductResults.header&&(l=e.ProductResults.header);var d="<div class='row'>";d=d+"<div class='col-12'>"+l+"</div></div>";d+="<div class='row'>";if("undefined"!=typeof e&&"undefined"!=typeof e.ProductResults&&"undefined"!=typeof e.ProductResults.results)for(var s in e.ProductResults.results){o=!0;var c=e.ProductResults.results[s].resultThumbnail,u=c.replace("$Thumbnail$","$tile-recommendations$"),p=c.replace("$Thumbnail$","$PDP-thumbnail$");if(isCloudniaryEnabled()){var u=c.replace("$Thumbnail$",""),p=c.replace("$Thumbnail$","");u=u.replace("f_auto,q_auto","f_auto,q_auto,t_tile-recommendations");p=u.replace("f_auto,q_auto","f_auto,q_auto,t_PDP-thumbnail")}d=d+'<div class="col-4 prod-tile-rfl" onclick="location.href=\''+e.ProductResults.results[s].productDisplayUrl+"'\">";d=d+'<div class="col-12 col-4-sm text-center" onclick="location.href=\''+e.ProductResults.results[s].productDisplayUrl+"'\">";d=d+'<img class="desktop-only rfk-img-responsive" src="'+u+'" title="'+e.ProductResults.results[s].ProductName+'">';d=d+'<img class="mobile-only rfk-img-responsive" src="'+p+'" title="'+e.ProductResults.results[s].ProductName+'">';d+="</div>";d=d+'<div class="col-12 col-8-sm text-left product-name" onclick="location.href=\''+e.ProductResults.results[s].productDisplayUrl+"'\" >";d=d+'<span class="brand-name" >'+e.ProductResults.results[s].brand+"</span>";d+=e.ProductResults.results[s].ProductName.indexOf(e.ProductResults.results[s].brand)>-1&&0==e.ProductResults.results[s].ProductName.indexOf(e.ProductResults.results[s].brand)?e.ProductResults.results[s].ProductName.replace(e.ProductResults.results[s].brand,""):e.ProductResults.results[s].ProductName;d+='</br><span class="mobile-only product-pricing">';d=d+'<span class="product-price-promo">$'+e.ProductResults.results[s].price+"</span>";"undefined"!=typeof e.ProductResults.results[s].listPrice&&1*e.ProductResults.results[s].listPrice>e.ProductResults.results[s].price&&(d=d+'<span class="product-price-crossout"> was $'+e.ProductResults.results[s].listPrice+"</span>");d+="</span>";d+="</div>";d=d+'<div class="col-12  desktop-only  text-center product-pricing" onclick="location.href=\''+e.ProductResults.results[s].productDisplayUrl+"'\">";d=d+'<span class="product-price-promo">$'+e.ProductResults.results[s].price+"</span>";"undefined"!=typeof e.ProductResults.results[s].listPrice&&1*e.ProductResults.results[s].listPrice>e.ProductResults.results[s].price&&(d=d+'<span class="product-price-crossout"> was $'+e.ProductResults.results[s].listPrice+"</span>");d+="</div>";d+="</div>"}d+="</div>";d+="<div class='row desktop-only'>";d+='<div class="col-2">&nbsp;</div><div class="col-8 text-center"><a href="javascript:document.CatalogSearchForm.submit()" class="btn btn-primary margin-bottom-sm btn-full" role="button">See All</a></div><div class="col-2"></div></div>';o&&$("#productSuggestionResults_div").html(d);var m=window.matchMedia("(max-width: 768px)").matches;m||setTimeout(function(){$(".prod-tile-rfl .product-name").dotdotdot()},25);var g=.5*$(window).width();2*$("#SimpleSearchForm_SearchTerm").width()<g&&(g=2*$("#SimpleSearchForm_SearchTerm").width());var f=window.innerHeight-$("#header").height();$("#search.search.persist-active.active").length>0&&(f-=$("#search.search.persist-active.active").height());if(m){$("#look-ahead").width($(window).width());$("#look-ahead").height((window.innerHeight-($("#header").height()+$("#search").height()))/2);$("#look-ahead").css("maxHeight",(window.innerHeight-($("#header").height()+$("#search").height()))/2+"px");o&&$("#look-ahead").addClass("active")}else{$("#productSuggestionResults_div").height()>$("#infoPart").height()?$("#infoPart").height($("#productSuggestionResults_div").height()):$("#productSuggestionResults_div").height($("#infoPart").height());$("#infoPart").height()+5<f&&(f=$("#infoPart").height()+5);$("#look-ahead").width(g);$("#look-ahead").height(f);$("#look-ahead").css("maxHeight",f+"px");$("#search.search.persist-active.active").length>0?$("#look-ahead").css("marginLeft","-"+($("#look-ahead").width()-$("#search.search.persist-active.active").width())+"px"):$("#look-ahead").css("marginLeft","0px");o&&$("#look-ahead").addClass("active")}},error:function(){console.log("Autocompleted Errored out.. ")}});this.autoSuggestTimer=-1},this.autoSuggestKeystrokeDelay)},gotoAdvancedSearch:function(e){var t=byId("SimpleSearchForm_SearchTerm").value;document.location.href=e+"&searchTerm="+t},showAutoSuggest:function(e){var t=document.getElementById("look-ahead");if(e){var o=e;$("#search").hasClass("persist-active")&&!$("#search").hasClass("active")&&(o=!1);o&&t.classList.add("active")}else t.classList.remove("active")},showAutoSuggestIfResults:function(){var e=document.getElementById("mobileSearchDropdown");"undefined"!=typeof staticContent&&""==document.getElementById(this.STATIC_CONTENT_SECTION_DIV[0]).innerHTML&&""==document.getElementById("autoSuggestHistory").innerHTML&&null==document.getElementById("dynamicAutoSuggestTotalResults")?this.showAutoSuggest(!1):null!=e&&"block"==e.style.display?document.getElementById("MobileSimpleSearchForm_SearchTerm").value.length<=this.AUTOSUGGEST_THRESHOLD?this.showAutoSuggest(!1):this.showAutoSuggest(!0):document.CatalogSearchForm.searchTerm.value.length<=this.AUTOSUGGEST_THRESHOLD?this.showAutoSuggest(!1):this.showAutoSuggest(!0)},selectAutoSuggest:function(e){var t=document.getElementById("mobileSearchDropdown");$("#searchKeyword").size()>0&&$("#SimpleSearchForm_SearchTerm").size()>0&&(document.getElementById("searchKeyword").value=document.getElementById("SimpleSearchForm_SearchTerm").value);if(null!=t&&"block"==t.style.display)var o=document.getElementById("MobileSimpleSearchForm_SearchTerm");else var o=document.CatalogSearchForm.searchTerm;o.value=e;o.focus();this.autoSuggestPreviousTerm=e;"undefined"!=typeof TealeafWCJS&&TealeafWCJS.createExplicitChangeEvent(o);document.getElementById("look-ahead").classList.remove("active");"function"==typeof cmCreateElementTag&&cmCreateElementTag("SearchSuggest",e);try{var a;void 0!=dojo.byId("omnitureEnabled")&&null!=dojo.byId("omnitureEnabled")&&(a=dojo.byId("omnitureEnabled").value);if("undefined"!=a&&null!=a&&""!=a&&"true"==a){var n={};n.event_search_suggestion="yes";n.searchsuggestion_keyword=e;n.event_name="search_suggestion_added";pushEvent(n)}}catch(e){console.log("issue in tagging "+e)}dojo.place("<input type='hidden' value='SearchSuggest-_-"+e+"-_-Location' name='cm_sp' />",document.CatalogSearchForm);dojo.place("<input type='hidden' value='"+e+"' name='searchsuggestion_keyword' />",document.CatalogSearchForm);submitSpecifiedForm(document.CatalogSearchForm)},highLightSelection:function(e,t){var o=document.getElementById("autoSelectOption_"+t);if(null!=o&&"undefined"!=o){if(e){null!=document.getElementById("category_list_"+t)&&void 0!=document.getElementById("category_list_"+t)&&(document.getElementById("category_list_"+t).style.backgroundColor="#d9e9f7");null!=document.getElementById("autoSelectOption_"+t)&&void 0!=document.getElementById("autoSelectOption_"+t)&&(document.getElementById("autoSelectOption_"+t).style.backgroundColor="#d9e9f7");var a=document.getElementById("mobileSearchDropdown");if(null!=a&&"block"==a.style.display)var n=document.getElementById("MobileSimpleSearchForm_SearchTerm");else var n=document.CatalogSearchForm.searchTerm;n.setAttribute("aria-activedescendant","suggestionItem_"+t);var r=document.getElementById("dynamicAutoSuggestTotalResults");if(null!=r&&"undefined"!=r&&t<r.value||t>=this.historyIndex){n.value=o.title;this.autoSuggestPreviousTerm=o.title;this.autoSuggestURL=""}else this.autoSuggestURL=o.href}else{null!=document.getElementById("category_list_"+t)&&void 0!=document.getElementById("category_list_"+t)&&$("#category_list_"+t).css("background-color","");null!=document.getElementById("autoSelectOption_"+t)&&void 0!=document.getElementById("autoSelectOption_"+t)&&$("#autoSelectOption_"+t).css("background-color","")}return!0}return!1},enableAutoSelect:function(e){this.highLightSelection(!1,this.autoSelectOption);null!=document.getElementById("category_list_"+e)&&void 0!=document.getElementById("category_list_"+e)&&(document.getElementById("category_list_"+e).style.backgroundColor="#d9e9f7");null!=document.getElementById("autoSelectOption_"+e)&&void 0!=document.getElementById("autoSelectOption_"+e)&&(document.getElementById("autoSelectOption_"+e).style.backgroundColor="#d9e9f7");this.autoSelectOption=e},disableHighlight:function(e){null!=document.getElementById("category_list_"+e)&&void 0!=document.getElementById("category_list_"+e)&&$("#category_list_"+e).css("background-color","");null!=document.getElementById("autoSelectOption_"+e)&&void 0!=document.getElementById("autoSelectOption_"+e)&&$("#autoSelectOption_"+e).css("background-color","")},resetAutoSuggestKeyword:function(){var e=document.getElementById("autoSuggestOriginalTerm");if(null!=e&&"undefined"!=e){var t=document.getElementById("mobileSearchDropdown");if(null!=t&&"block"==t.style.display)var o=document.getElementById("MobileSimpleSearchForm_SearchTerm");else var o=document.CatalogSearchForm.searchTerm;o.value=e.value;this.autoSuggestPreviousTerm=e.value}},clearAutoSuggestResults:function(){if("undefined"!=typeof staticContent)for(var e=0;e<staticContent.length;e++)document.getElementById(this.STATIC_CONTENT_SECTION_DIV[e]).innerHTML="";this.autoSuggestPreviousTerm="";this.autoSuggestURL="";document.getElementById("searchSuggestionResults_div").innerHTML="";document.getElementById("productSuggestionResults_div").innerHTML="";this.showAutoSuggest(!1)},doAutoSuggest:function(e,t,o){o.length<=this.AUTOSUGGEST_THRESHOLD&&this.showAutoSuggest(!1);if(e.keyCode!=dojo.keys.ENTER)if(e.keyCode!=dojo.keys.TAB)if(e.keyCode!=dojo.keys.ESCAPE)if(e.keyCode!=dojo.keys.UP_ARROW){if(e.keyCode!=dojo.keys.DOWN_ARROW){if(!(o.length>this.AUTOSUGGEST_THRESHOLD&&o==this.autoSuggestPreviousTerm)){this.autoSuggestPreviousTerm=o;if(!(o.length<=this.AUTOSUGGEST_THRESHOLD)){if(this.autoSuggestTimer!=-1){clearTimeout(this.autoSuggestTimer);this.autoSuggestTimer=-1}if(""!=o){this.autoSelectOption=-1;this.doStaticAutoSuggest(o);if(o.length>this.DYNAMIC_AUTOSUGGEST_THRESHOLD){var a=!0;this.doDynamicAutoSuggest(t,o,a)}else{document.getElementById("searchSuggestionResults_div").innerHTML="";document.getElementById("productSuggestionResults_div").innerHTML=""}}else this.clearAutoSuggestResults()}}}else if(this.highLightSelection(!0,this.autoSelectOption+1)){this.highLightSelection(!1,this.autoSelectOption);this.autoSelectOption++}else if(this.autoSelectOption<this.CACHED_AUTOSUGGEST_OFFSET&&this.highLightSelection(!0,this.CACHED_AUTOSUGGEST_OFFSET)){this.highLightSelection(!1,this.autoSelectOption);this.autoSelectOption=this.CACHED_AUTOSUGGEST_OFFSET;this.resetAutoSuggestKeyword()}else if(!this.END_OF_LIST){this.highLightSelection(!1,this.autoSelectOption);this.autoSelectOption++;this.END_OF_LIST=!0;var n=document.getElementById("mobileSearchDropdown");if(null!=n&&"block"==n.style.display){document.getElementById("MobileSimpleSearchForm_SearchTerm")}else{document.CatalogSearchForm.searchTerm}}}else{var r=document.getElementById("dynamicAutoSuggestTotalResults");if(this.END_OF_LIST){this.END_OF_LIST=!1;this.autoSelectOption--;if(!this.highLightSelection(!0,this.autoSelectOption)&&this.autoSelectOption==this.CACHED_AUTOSUGGEST_OFFSET&&null!=r&&"undefined"!=r){this.autoSelectOption=r.value-1;this.highLightSelection(!0,this.autoSelectOption)}}else if(this.highLightSelection(!0,this.autoSelectOption-1)){this.highLightSelection(!1,this.autoSelectOption);this.autoSelectOption==this.historyIndex&&this.resetAutoSuggestKeyword();this.autoSelectOption--}else if(this.autoSelectOption==this.CACHED_AUTOSUGGEST_OFFSET&&null!=r&&"undefined"!=r){this.highLightSelection(!1,this.CACHED_AUTOSUGGEST_OFFSET);this.autoSelectOption=r.value-1;this.highLightSelection(!0,this.autoSelectOption)}else{this.highLightSelection(!1,this.autoSelectOption);this.autoSelectOption=-1;document.getElementById("autoSuggestOriginalTerm");this.resetAutoSuggestKeyword()}}else this.showAutoSuggest(!1);else this.autoSuggestHover=!0;else this._handleEnterKey()},tokenizeForBidi:function(e,t,o,a,n){var r=e.split(" > "),s="",l="";if(r.length>0){s=s+"<div class='category_list' id='category_list_"+n+"'>";for(i=0;i<r.length;i++){0!=i&&(s+="<span class='gt'>&nbsp; > &nbsp;</span>");if(i==r.length-1){var d=t.toLowerCase().indexOf(a),c=t.substr(0,d),u=t.substr(d+o.length),p="<span class='highlight'><strong>"+o+"</strong></span>";l=c+p+u}else l=r[i];s+=l}s+="</div>"}return s},doStaticAutoSuggest:function(e){var t=["","","","","",""],o=0,a=e.toLowerCase(),n=this.CACHED_AUTOSUGGEST_OFFSET,r="<div class='list_section'><div",i="</div></div>";if("undefined"!=typeof staticContent){for(var s=0;s<staticContent.length;s++){var l=0,d=staticContentHeaders[s].split(" ")[0];t[s]+="<ul class='list-unstyled'>";for(var c=0;c<staticContent[s].length;c++){var u=staticContent[s][c][0],p=staticContent[s][c][1],m=staticContent[s][c][2],g=u.toLowerCase().indexOf(a);if(g!=-1){var f=this.tokenizeForBidi(m,u,e,a,n);t[s]+="<li id='suggestionItem_"+n+"' role='listitem' tabindex='-1'><a id='autoSelectOption_"+n+"' title='"+u+"' onmouseout='SearchJS.disableHighlight("+n+"); this.autoSuggestURL=\"\";' onclick='SearchJS.hideSearchComponent();' onmouseover='SearchJS.enableAutoSelect(&quot;"+n+"&quot;); this.autoSuggestURL=this.href;' manual_cm_sp='SearchSuggestion-_-"+d+"Category_"+n+"-_-"+f.split(" ").join("").split('"').join("").split("'").join("")+"' href=\""+p+'">'+f+"</a></li>";l++;n++;if(l>=this.TOTAL_SUGGESTED)break}}t[s]+="</ul>"}for(var s=0;s<staticContent.length;s++){document.getElementById(this.STATIC_CONTENT_SECTION_DIV[s]).innerHTML="";if("<ul class='list-unstyled'></ul>"!=t[s]){var h="<div class='look-ahead-categories'>"+staticContentHeaders[s];document.getElementById(this.STATIC_CONTENT_SECTION_DIV[o]).innerHTML=h+r+" role='list' title='"+staticContentHeaders[s]+"' aria-label='"+staticContentHeaders[s]+"'>"+t[s]+i;o++}}}var v=document.getElementById("autoSuggestHistory");v.innerHTML="";new Array;this.historyIndex=n;getCookie("searchTermHistory");if(o>0){this.showAutoSuggest(!0);return!0}return!1},retrieveCachedSuggestions:function(){if(!this.retrievedCachedSuggestions){wc.render.getRefreshControllerById("AutoSuggestCachedSuggestionsController").url=this.CachedSuggestionsURL;console.debug("update cache sugg "+this.CachedSuggestionsURL);wc.render.updateContext("CachedSuggestions_Context",{})}},updateSearchTermHistoryCookie:function(e){var t="searchTermHistory",o="|"+e,a=getCookie(t);"undefined"!=typeof a&&(o=dojo.cookie(t)+o);dojo.cookie(t,o,{path:"/"})},updateSearchTermHistoryCookieAndRedirect:function(e,t){this.updateSearchTermHistoryCookie(e);document.location.href=t},isValidNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)&&e>=0},validateForm:function(e){e.minPrice.value=trim(e.minPrice.value);e.maxPrice.value=trim(e.maxPrice.value);var t=e.minPrice.value,o=e.maxPrice.value,a=this.isValidNumber(t),n=this.isValidNumber(o);if(t.length>0&&!a){MessageHelper.formErrorHandleClient(e.minPrice.id,MessageHelper.messages.EDPPaymentMethods_AMOUNT_NAN);return!1}if(o.length>0&&!n){MessageHelper.formErrorHandleClient(e.maxPrice.id,MessageHelper.messages.EDPPaymentMethods_AMOUNT_NAN);return!1}if(t.length>0&&o.length>0&&parseFloat(t)>parseFloat(o)){MessageHelper.formErrorHandleClient(e.maxPrice.id,MessageHelper.messages.ERROR_PRICE_RANGE);return!1}e.searchTerm.value=trim(e.searchTerm.value);e.filterTerm.value=trim(e.filterTerm.value);e.manufacturer.value=trim(e.manufacturer.value);var r=e.searchTerm.value,i=e.filterTerm.value,s=e.manufacturer.value;if(0==r.length&&0==i.length&&0==s.length){MessageHelper.formErrorHandleClient(e.searchTerm.id,MessageHelper.messages.ERROR_EMPTY_SEARCH_FIELDS);return!1}e.submit()},removeCOmmaAndSubmit:function(){var e=$("#SimpleSearchForm_SearchTerm"),t=$("#submitButton");if(e.val().length>0){t.addClass("active");var o=e.val();e.val(o.split("").join("'"));if(o.indexOf(",")>-1&&o.split(",").length>2){o=o.replace(",","<<COMMA>>");o=o.replace(",","<<COMMA>>");o=o.split(",").join("");o=o.split("<<COMMA>>").join(",");e.val(o)}}else t.removeClass("active")}};wc.render.declareContext("AutoSuggest_Context",null,"");wc.render.declareContext("CachedSuggestions_Context",null,"");wc.render.declareRefreshController({id:"AutoSuggestCachedSuggestionsController",renderContext:wc.render.getContextById("CachedSuggestions_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){var o=this.renderContext;t.refresh(o.properties)},postRefreshHandler:function(e){var t=(this.renderContext,document.getElementById("cachedSuggestions"));if(null==t){var o=document.getElementById("autoSuggestCachedSuggestions_div");null!=o&&(document.getElementById("autoSuggestCachedSuggestions_div").innerHTML="")}else{for(var a=t.getElementsByTagName("script"),n=a.length,r=0;r<n;r++){
var i=document.createElement("script");i.type="text/javascript";i.text=a[r].text;document.getElementById("autoSuggestCachedSuggestions_div").appendChild(i)}SearchJS.retrievedCachedSuggestions=!0;var s=document.getElementById("mobileSearchDropdown");null!=s&&"block"==s.style.display?searchTerm=document.getElementById("MobileSimpleSearchForm_SearchTerm").value:searchTerm=document.CatalogSearchForm.searchTerm.value;searchTerm.length>SearchJS.AUTOSUGGEST_THRESHOLD&&SearchJS.doStaticAutoSuggest(searchTerm)}}});wc.render.declareRefreshController({id:"AutoSuggestDisplayController",renderContext:wc.render.getContextById("AutoSuggest_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){var o=this.renderContext;t.refresh(o.properties)},postRefreshHandler:function(e){var t=(this.renderContext,document.getElementById("suggestedKeywordResults"));null==t&&(document.getElementById("autoSuggestDynamic_Result_div").innerHTML="");SearchJS.showAutoSuggestIfResults()}});var searchedItem="";wc.render.declareContext("petcoSearchBox_Context",null,"");wc.render.declareRefreshController({id:"petcoSearchBoxController",renderContext:wc.render.getContextById("petcoSearchBox_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){var o=this.renderContext;searchedItem=$("#SimpleSearchForm_SearchTerm").val();t.refresh(o.properties)},postRefreshHandler:function(widget){if(""!=searchedItem){$("#SimpleSearchForm_SearchTerm").val(searchedItem);$("#SimpleSearchForm_SearchTerm").focus()}eval($("#rfl-srch-javascript").html())}})}var order_updated={AjaxAddOrderItemWithShipingInfo:"AjaxAddOrderItemWithShipingInfo",AjaxDeleteOrderItem:"AjaxDeleteOrderItem",AjaxUpdateOrderItem:"AjaxUpdateOrderItem",AjaxUpdateOrderShippingInfo:"AjaxUpdateOrderShippingInfo",AjaxOrderCalculate:"AjaxOrderCalculate",AjaxLogoff:"AjaxLogoff",AjaxSetPendingOrder:"AjaxSetPendingOrder",AjaxUpdatePendingOrder:"AjaxUpdatePendingOrder",AjaxSingleOrderCancel:"AjaxSingleOrderCancel",AjaxUpdateRewardOption:"AjaxUpdateRewardOption"},order_updated_2={AjaxAddOrderItem:"AjaxAddOrderItem",AddOrderItem:"AddOrderItem",AddDonationItem:"AddDonationItem",AjaxUpdateOrderItem:"AjaxUpdateOrderItem",AjaxOrderCalculate:"AjaxOrderCalculate"},dropdownUpdated=!1,dropdownInit=!1,timer,productAddedList=new Object;wc.render.declareContext("MiniShoppingCartContext",{status:"init"},"");wc.render.declareContext("MiniShopCartContentsContext",{status:"init",relativeId:"",contentId:"",contentType:""},"");wc.render.declareContext("MiniShopCartDropDownContext",null,"");wc.render.declareRefreshController({id:"MiniShoppingCartController",renderContext:wc.render.getContextById("MiniShoppingCartContext"),url:"",formId:"",modelChangedHandler:function(e,t){this.renderContext;if(e.actionId in order_updated||"AjaxDeleteOrderItemForShippingBillingPage"==e.actionId){var o=[];if("AddOrderItem"==e.actionId){o.addedOrderItemId=e.orderItemId+"";showDropdown=!0;var a="";for(productId in productAddedList){""!=a&&(a+=",");a+=productId}o.availableInfoOrderItemIds=a}o.deleteCartCookie=!0;dropdownInit=!1;dropdownUpdated=!1}},renderContextChangedHandler:function(e,t){var o=this,a=this.renderContext;if(o.testForChangedRC(["status"])){a.properties.deleteCartCookie=!0;t.refresh(a.properties)}},postRefreshHandler:function(e){this.renderContext;destroyDialog("MiniShopCartProductAdded");if(showDropdown){positionMiniShopCartDropDown("mini-cart-icon","MiniShopCartProductAdded","orderItemAdded");showDropdown=!1}updateCartCookie();populateProductAddedDropdown();resetDeleteCartCookie();updateUserCookie()}});wc.render.declareRefreshController({id:"MiniShopCartContentsController",renderContext:wc.render.getContextById("MiniShopCartContentsContext"),url:"",formId:"",modelChangedHandler:function(e,t){this.renderContext;if(e.actionId in order_updated_2){var o=[];if("AddOrderItem"==e.actionId){o.addedOrderItemId=e.orderItemId+"";showDropdown=!0;var a="";for(productId in productAddedList){""!=a&&(a+=",");a+=productId}o.availableInfoOrderItemIds=a}o.deleteCartCookie=!0;t.refresh(o)}},renderContextChangedHandler:function(e,t){var o=this.renderContext;if(!dropdownUpdated){var a=document.getElementById("MiniShopCartContents"),n=document.getElementById("petco-loading");if(null!=a&&void 0!=a&&null!=n&&void 0!=n){a.style.display="none";n.style.display="block"}o.properties.fetchCartContents=!0;dropdownUpdated=!0;t.refresh(o.properties)}},postRefreshHandler:function(e){$("div.petco-checkout #continueReviewPage").hasClass("disabled")?$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').addClass("disabled"):$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').length>0&&$('a.btn-primary[manual_cm_sp="Header-_-Cart-_-Checkout"]').removeClass("disabled");var t=(this.renderContext,document.getElementById("MiniShopCartContents")),o=document.getElementById("petco-loading");if(null!=t&&void 0!=t&&null!=o&&void 0!=o){t.style.display="block";o.style.display="none"}destroyDialog("MiniShopCartProductAdded");if(showDropdown){$("#mini-cart").css("visibility","visible");positionMiniShopCartDropDown("mini-cart-icon","MiniShopCartProductAdded","orderItemAdded");showDropdown=!1;dropdownInit=!0;dropdownUpdated=!1}updateCartCookie();populateProductAddedDropdown();resetDeleteCartCookie();var a=dojo.cookie("WC_CartOrderId_10151"),n=("WC_CartTotal_".concat(a),dojo.cookie("rCartTotal"));if(null!=n){document.getElementById("cart-count").innerHTML=n;document.getElementById("mobile-cart-count").innerHTML=n;null!=document.getElementById("persistent-cart-count")&&(document.getElementById("persistent-cart-count").innerHTML=n)}else{null!=document.getElementById("cart-count")&&(document.getElementById("cart-count").innerHTML="");null!=document.getElementById("mobile-cart-count")&&(document.getElementById("mobile-cart-count").innerHTML="");null!=document.getElementById("persistent-cart-count")&&(document.getElementById("persistent-cart-count").innerHTML="")}updateUserCookie();cursor_clear()}});dojo.topic.subscribe("ProductInfo_Added",setProductAddedList);dojo.addOnLoad(function(){function e(){var e=document.getElementById("SimpleSearchForm_SearchTerm").value.length,t=(document.getElementById("SimpleSearchForm_SearchTerm").value,document.getElementById("autoSuggest_Result_div"));e>2&&null!=t&&"undefined"!=t&&"block"==t.style.display?document.getElementById("look-ahead").classList.add("active"):document.getElementById("look-ahead").classList.remove("active")}var t=document.getElementById("SimpleSearchForm_SearchTerm");if(t){var o="";null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")&&(o=$("#omnitureEnabled").val());if("true"!=o){var a=document.getElementById("SimpleSearchForm_SearchTerm").value;utag_data.search_keyword=a}document.getElementById("SimpleSearchForm_SearchTerm").onkeyup=function(){e()}}});petcoCommonJS={langId:"-1",storeId:"",catalogId:"",setCommonParameters:function(e,t,o){this.langId=e;this.storeId=t;this.catalogId=o},rateLimiterList:{},userLocation:{latitude:"",longitude:""},locationConfig:{expirationMin:"",isGoogleGeoAPI:"",HTML5GeoTimeout:"",XHRTimeout:"",googleAPIUrl:"",googleAPIKey:""},IS_HTML5_CALL_COMPLETED:!1,hidePLPPriceBopusResStates:function(e,t){var o=JSON.parse(localStorage.getItem("petcostores")),a=null;if(null!=o&&"undefined"!=typeof o.petcostores&&o.petcostores.length>0){var n=JSON.parse(o.petcostores);null!=n&&1==n.length?a=n.STATE:null!=n&&n.length>0&&(a=n[0].STATE)}if(null!=a&&$("#isBOPUSAreaRestictionEnabeled").length>0&&"true"==$("#isBOPUSAreaRestictionEnabeled").val()&&"true"==e){var r="";if($("#BOPUSAreaRestictionState").length>0){r=$("#BOPUSAreaRestictionState").val();for(var i=r.split(","),s=0;s<i.length;s++)if(i[s]==a){var l="product-price_"+t;$("#"+l).addClass("hide");$("#"+l).removeClass("show")}}}},toggleSuggestionContainer:function(e){if($("#suggestion-button-"+e).hasClass("hide-icon")){$(".suggestion-button").removeClass("hide-icon");$("#suggestion-button-"+e).addClass("hide-icon")}else $(".suggestion-button").removeClass("hide-icon");$("#suggestion-button-"+e).toggleClass("hide-icon");$(".suggestioncontainer").css("display","none");$("#suggestion-button-"+e).hasClass("hide-icon")?$("#"+e).css("display","block"):$("#"+e).css("display","none")},rateLimiter:function(e,t,o){t in this.rateLimiterList&&clearTimeout(this.rateLimiterList[t]);this.rateLimiterList[t]=setTimeout(o,e)},repeatDeliveryCartSelected:function(){"function"==typeof cmCreateElementTag&&cmCreateElementTag("ScheduleRD","ShoppingCart");console.log("RD checkbox CHECK-"+$("#repeat-delivery-checkbox-"+selectedOrderItemId).is(":checked"));$("#repeat-delivery-checkbox-"+selectedOrderItemId).is(":checked")?$("#rddropdown-"+selectedOrderItemId).removeClass("hide"):$("#rddropdown-"+selectedOrderItemId).addClass("hide");CheckoutHelperJS.removeBannerDismiss()},repeatDeliveryOptionSelected:function(){console.log("RD radio CHECK-"+$('[name="repeatDelivery"]').is(":checked"));$('[name="repeatDelivery"]').is(":checked")?$("#rddropdown-"+selectedOrderItemId).removeClass("hide"):$("#rddropdown-"+selectedOrderItemId).addClass("hide")},repeatDeliveryItemShip:function(e,t){if(t)if(document.getElementById("repeat-delivery-radio")&&document.getElementById("repeat-delivery-radio").checked){var o=document.getElementById("repeat-delivery-freq-options").value,a=document.getElementById("rd_sku_"+selectedOrderItemId).value;if(null!=o&&"undefined"!=o&&null!=a&&"undefined"!=a){var n={conversion_event_id:"New Repeat Delivery",conversion_category_id:"Repeat Delivery",conversion_action_type:"1",rd_sku:a,rd_schedule:o};pushEvent(n)}this.updateORResetPriceWait(selectedOrderItemId,document.getElementById("repeat-delivery-freq-options").value)}else this.updateORResetPriceWait(selectedOrderItemId,"")},createRepeatDeliveryShopCart:function(e,t){var o=$("#product_Name_"+selectedOrderItemId).val(),a=o.replace(/["']/g,""),n=document.getElementById("rd_sku_"+selectedOrderItemId).value;if(null!=n&&"undefined"!=n){var r={product_id:e,product_sku:n,product_name:a,conversion_action_type:"1",conversion_category_id:"Repeat Delivery",conversion_event_id:"New Repeat Delivery Shopping Cart",event_name:"repeat_delivery_new_cart"};pushEvent(r)}this.repeatDeliveryShopCart(e,t)},repeatDeliveryShopCart:function(e,t){if(t){dojo.forEach(dojo.query('a[data-target="#rdHelp"]'),function(e){dojo.setAttr(e,"data-target","#rdHelp_noshow")});if(document.getElementById("repeat-delivery-radio_"+selectedOrderItemId)&&document.getElementById("repeat-delivery-radio_"+selectedOrderItemId).checked){var o="";void 0!=document.getElementById("repeat-delivery-freq-options-"+selectedOrderItemId)&&null!=document.getElementById("repeat-delivery-freq-options-"+selectedOrderItemId)&&(o=document.getElementById("repeat-delivery-freq-options-"+selectedOrderItemId).value);var a="",n="";if(void 0!=document.getElementById("repeat-delivery-first-ship-options-"+selectedOrderItemId)&&null!=document.getElementById("repeat-delivery-first-ship-options-"+selectedOrderItemId)){var r=document.getElementById("repeat-delivery-first-ship-options-"+selectedOrderItemId).value;if(null!=r&&void 0!=r)if("now"==r)a=document.getElementById("repeat-delivery-freq-options_future_order-"+selectedOrderItemId).value;else{a=document.getElementById("repeat-delivery-freq-options_future_order-"+selectedOrderItemId).value;n=r}}""==a&&""!=o&&(a=o);""==o&&""!=a&&(o=a);document.getElementById("rd_sku_"+selectedOrderItemId).value;this.updateORResetPrice(selectedOrderItemId,a,n,"AjaxUpdateOrderItemShopCart")}else document.getElementById("one-time-delivery_"+selectedOrderItemId)&&document.getElementById("one-time-delivery_"+selectedOrderItemId).checked?this.updateORResetPrice(selectedOrderItemId,"","","AjaxUpdateOrderItemShopCart"):document.getElementById("store-pickup_"+selectedOrderItemId)&&document.getElementById("store-pickup_"+selectedOrderItemId).checked&&this.updateORResetPrice(selectedOrderItemId,"","","AjaxUpdateOrderItemShopCart")}},repeatDeliveryCheckout:function(e,t,o){if(o)if(1==document.querySelector('input[name="repeatDelivery"]:checked').value){var a="";void 0!=document.getElementById("repeat-delivery-freq-options")&&null!=document.getElementById("repeat-delivery-freq-options")&&(a=document.getElementById("repeat-delivery-freq-options").value);var n="",r="";""==n&&""!=a&&(n=a);""==a&&""!=n&&(a=n);null!=dojo.byId("userType")&&"G"==dojo.byId("userType").value&&(null!=localStorageHelper.get("payPalBA")&&"true"==localStorageHelper.get("payPalBA")||dojo.byId("petcoPaypalArea").parentNode.setAttribute("style","display:none"));this.updateORResetPriceCheckout(e,n,r,"AjaxUpdateOrderItemShopCart")}else{dojo.byId("petcoPaypalArea").parentNode.setAttribute("style","display:block");this.updateORResetPriceCheckout(e,"","","AjaxUpdateOrderItemShopCart")}},populateDateChange:function(e,t){var o=parseInt(e),a=parseInt(t);$("option",document.getElementById("repeat-delivery-date-options")).remove();for(var n=document.getElementById("repeat-delivery-date-options"),r=o;r<=a;r++){var i=document.createElement("option");i.text=r;n.add(i)}},disableDropDown:function(){var e=document.getElementById("repeat-delivery-freq-options");document.getElementById("one-time-delivery").checked?e.disabled=!0:e.disabled=!1},selectRD:function(){document.getElementById("repeat-delivery-radio").checked=!0},selectRDcheckbox:function(){document.getElementById("repeat-delivery-checkbox-"+selectedOrderItemId).checked=!0},selectRepeatDeliveryRadio:function(){document.getElementById("rd-radio-yes").checked=!0},updateORResetPriceWait:function(e,t,o){setTimeout(dojo.hitch(this,"updateORResetPrice",e,t,o),1500)},updateORResetPrice:function(e,t,o,a){var n=[];n.storeId=this.storeId;n.catalogId=this.catalogId;n.langId=this.langId;""!=t&&(n.rdFrequency=t);""!=o&&(n.rdInitialFirstOrder=o);n.priceChange=!0;n.orderItemId=e;n.callToODM="true";0!=$("#ignoreNewRowCreation_"+e).size()&&(n.isPersonalizationRow=$("#ignoreNewRowCreation_"+e).val());if($('input[type="radio"][name="bopusCartSelect_'+e+'"]:checked').size()>0&&"store-pickup"==$('input[type="radio"][name="bopusCartSelect_'+e+'"]:checked')[0].value){var r=$("#BOPUS_SHIPMODE"),i=$("#BOPUS_FFMCENTER");if(r.size()>0&&i.size()>0){n.shipModeId=r.val();n.fulfillmentCenterId=i.val();n.fromBopusPage=!0}}else if($('input[type="radio"]#store-pickup_'+e).size()>0){var s=$("#DEFAULT_FFMCENTER"),l=$("#DEFAULT_SHIPMODE");if(s.size()>0&&l.size()>0){n.shipModeId=l.val();n.fulfillmentCenterId=s.val();n.fromBopusPage=!1}}var d=dojo.cookie("isEASession");"yes"==d?n.calculationUsage="-1,-2,-3,-4,-5,-7":n.calculationUsage="-1,-2,-3,-4,-5,-6,-7";cursor_wait();""!=a?wc.service.invoke("AjaxUpdateOrderItemShopCartRDPromo",n):wc.service.invoke("AjaxUpdateOrderItem",n)},updateORResetPriceCheckout:function(e,t,o,a){var n=[];n.storeId=this.storeId;n.catalogId=this.catalogId;n.langId=this.langId;""!=t&&(n.rdFrequency=t);""!=o&&(n.rdInitialFirstOrder=o);n.priceChange=!0;var r=e+"",i=r.split(",");if(i.length>1)for(var s=1;s<=i.length;s++)n["orderItemId_"+s]=i[s-1];else n.orderItemId=e;n.callToODM="true";n.calculationUsage="-1,-2,-3,-4,-5,-6,-7";cursor_wait();""!=a?wc.service.invoke("AjaxUpdateOrderItemShopCartRDPromo",n):wc.service.invoke("AjaxUpdateOrderItem",n)},clearAllErrorDivsForAddCreditCard:function(){var e=document.getElementById("paymentNickname_ERROR"),t=document.getElementById("cardNumber_ERROR"),o=document.getElementById("cardName_ERROR"),a=document.getElementById("cardCVV_ERROR"),n=document.getElementById("expMonth_ERROR"),r=document.getElementById("billingAddress_Error"),i=dojo.byId("paymentNickname_div"),s=dojo.byId("cardNumber_div"),l=dojo.byId("cardName_div"),d=dojo.byId("cardCVV_div"),c=dojo.byId("expMonth_div"),u=dojo.byId("billingAddress_div");e.innerHTML="";t.innerHTML="";o.innerHTML="";a.innerHTML="";n.innerHTML="";r.innerHTML="";i.setAttribute("class","form-group");s.setAttribute("class","form-group");l.setAttribute("class","form-group");d.setAttribute("class","form-group");c.setAttribute("class","form-group");u.setAttribute("class","form-group")},clearAllErrorDivsForAddShippingAddress:function(){$('label[for="shipping-address-nickname"]').removeClass("invalid valid");$("input#shipping-address-nickname").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-nickname").val("");$("div#shipping-address-nickname-err").html("");$('label[for="shipping-address-firstname"]').removeClass("invalid valid");$("input#shipping-address-firstname").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-firstname").val("");$("div#shipping-address-firstname-err").html("");$('label[for="shipping-address-lastname"]').removeClass("invalid valid");$("input#shipping-address-lastname").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-lastname").val("");$("div#shipping-address-lastname-err").html("");$('label[for="shipping-address-phone"]').removeClass("invalid valid");$("input#shipping-address-phone").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-phone").val("");$("div#shipping-address-phone-err").html("");$('label[for="shipping-address-address1"]').removeClass("invalid valid");$("input#shipping-address-address1").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-address1").val("");$("div#shipping-address-address1-err").html("");$('label[for="shipping-address-address2"]').removeClass("invalid valid");$("input#shipping-address-address2").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-address2").val("");$("div#address2Error").html("");$('label[for="shipping-address-city"]').removeClass("invalid valid");$("input#shipping-address-city").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-city").val("");$("div#shipping-address-city-err").html("");$('label[for="shipping-address-state"]').removeClass("invalid valid");$("input#shipping-address-state").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-state").val("");$("div#shipping-address-state-err").html("");$('label[for="shipping-address-zipCode"]').removeClass("invalid valid");$("input#shipping-address-zipCode").removeClass("invalid valid").addClass("form-control");$("input#shipping-address-zipCode").val("");$("div#shipping-address-zipCode-err").html("");$("div#shipping_address_page_error div div div#alert-danger").html("");$("div#shipping_address_page_error").removeClass("show");$("div#shipping_address_page_error").addClass("no-show")},clearPromotionLessThanZero:function(){var e=1;dojo.forEach(dojo.query("span#rdPriceDiv span.product-price-banner"),function(t){var o=t.innerText.toUpperCase().replace("SAVE","").replace("UP","").replace("TO","").replace("%","").trim();!isNaN(o)&&1*o<e&&(t.style.display="none")});dojo.forEach(dojo.query("div.product-price span.product-price-save"),function(t){var o=t.innerText.toUpperCase().replace("SAVE","").replace("UP","").replace("TO","").replace("%","").trim();!isNaN(o)&&1*o<e&&(t.style.display="none")})},closePopupFromLogonModelPopup:function(){var e=dojo.byId("isRDOrder");if(null!=dojo.byId("isLoginPopUpForceFullyClosed")&&null!=e&&"true"==e.value){dojo.byId("isLoginPopUpForceFullyClosed").value="true";var t="";dojo.forEach(dojo.query('input[type="hidden"][id^="orderItem_"]'),function(e){t=""==t?e.value:t+","+e.value});""!=t&&this.updateORResetPriceCheckout(t,"","","AjaxUpdateOrderItemShopCart");null!=dojo.byId("isUniqueEmail_forChekingRdOrder")&&"false"==dojo.byId("isUniqueEmail_forChekingRdOrder").value&&CheckoutHelperJS.createAccount(!1)}},showModal:function(e,t){require(["dojo/dom-style","dojo/query"],function(o,a){var n=(petcoCommonJS.getWindowSize(),document.getElementById("modal-"+e));n=n?n:document.getElementById(e);document.body.style.overflow="hidden";petcoCommonJS.showBgScreen();a(".modal-form").style.display="none";document.getElementById(e).style.display="block";if("string"==typeof t){a(".petco-modal .form-modal-form").removeClass("form-modal-padding-deep").removeClass("form-modal-padding-shallow");a(".petco-modal .form-modal-form").addClass("form-modal-padding-"+t)}n.style.display="block";n.classList.add("in");n.setAttribute("tabindex","-1");n.setAttribute("aria-hidden","false");n.setAttribute("role","dialog");n.focus();o.set(n,{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"});if("undefined"!=typeof window.ontouchstart&&document.documentElement.classList.contains("dj_safari")){document.body.style.overflow="initial";document.documentElement.classList.add("fixed");if(window.pageYOffset){var r=window.pageYOffset;document.body.style.top=-r+"px"}}document.addEventListener("focus",function(e){if(!n.contains(e.target)){e.stopPropagation();n.focus()}},!0)})},submitFindDeactiveUserSearchForm:function(){submitRequest()&&document.getElementById("FindDeactiveUserSearchForm").submit()},AddMembership2ShopCartAjax:function(e){var t=[];t.storeId=this.storeId;t.catalogId=this.catalogId;t.langId=this.langId;t.orderId=".";t.calculationUsage="-1";t.inventoryValidation="true";t.isMembershipOrder="true";t.rdFrequency="1_M";t.quantity="1";t.catEntryId=e;if(null!=e){if(!submitRequest())return;cursor_wait();wc.service.invoke("AddOrderItem",t);productDisplayJS.baseItemAddedToCart=!0}},hideModal:function(e){var t=document.getElementById(e);t.style.display="none";t.classList.remove("in");document.body.style.overflow="";document.body.style.position="";petcoCommonJS.hideBgScreen();cursor_clear();if("undefined"!=typeof window.ontouchstart&&document.documentElement.classList.contains("dj_safari")){document.documentElement.classList.remove("fixed");var o=parseInt(document.body.style.top,10);document.body.scrollTop=-o}t.removeAttribute("tabindex");t.removeAttribute("role");t.setAttribute("aria-hidden","true");"modal-notification-alert"==e&&$("#modal-notification-alert-message").html("")},showBgScreen:function(){var e=document.getElementById("form-modal-screen");e.style.display="block"},hideBgScreen:function(){var e=document.getElementById("form-modal-screen");e.style.display="none"},getWindowSize:function(){var e=window,t=document,o=t.documentElement,a=t.getElementsByTagName("body")[0],n=e.innerWidth||o.clientWidth||a.clientWidth;wH=e.innerHeight||o.clientHeight||a.clientHeight;return[n,wH]},bopusCartEnableRadio:function(){try{var e=$("article.cart-product-item");if(e.length>0)try{$('a[id^="store-pickup_"]').on("click",function(e){var t={},o=e.target.id,a=o.replace("store-pickup_","");void 0!=dojo.byId("removedSKUID_"+a)&&null!=dojo.byId("removedSKUID_"+a)&&(t.product_id=dojo.byId("removedSKUID_"+a).value);void 0!=dojo.byId("removedPrdName_"+a)&&null!=dojo.byId("removedPrdName_"+a)&&(t.product_name=dojo.byId("removedPrdName_"+a).value);$("#product_"+a).size()>0&&(t.product_parent_sku=$("#product_"+a).val());void 0!=dojo.byId("rd_sku_"+a)&&null!=dojo.byId("rd_sku_"+a)&&(t.product_sku=dojo.byId("rd_sku_"+a).value);t.event_name="cart_to_one_time_delivery";pushEvent(t)});$('a[id^="one-time_"]').on("click",function(e,t){var o={},a=e.target.id,n=a.replace("one-time_","");void 0!=dojo.byId("removedSKUID_"+n)&&null!=dojo.byId("removedSKUID_"+n)&&(o.product_id=dojo.byId("removedSKUID_"+n).value);void 0!=dojo.byId("removedPrdName_"+n)&&null!=dojo.byId("removedPrdName_"+n)&&(o.product_name=dojo.byId("removedPrdName_"+n).value);$("#product_"+n).size()>0&&(o.product_parent_sku=$("#product_"+n).val());void 0!=dojo.byId("rd_sku_"+n)&&null!=dojo.byId("rd_sku_"+n)&&(o.product_sku=dojo.byId("rd_sku_"+n).value);o.event_name="cart_to_bopus";pushEvent(o)})}catch(e){return!0}else{if($(".noRdPdpDesign").length>0)return;$(".repeat-delivery-select_cart").each(function(e,t){var o=t.id.replace("repeat-delivery-select_",""),a=$("input[type='radio'][name='bopusCartSelect_"+o+"']");a.parents(".radio").removeClass("selected");a.filter(":not(:checked)").removeAttr("checked");a.filter(":checked").attr("checked","checked");a.filter(":checked").parents(".radio").addClass("selected");$("#cart-store-pickup-dropdown_"+o).length>0&&($("#store-pickup_"+o+":checked.store-pickup-option-input").length>0?$("#cart-store-pickup-dropdown_"+o).removeClass("half").addClass("open"):$("#cart-store-pickup-dropdown_"+o).addClass("half").removeClass("open"));a.on("change",function(e){try{var t={},n=e.target.id;void 0!=dojo.byId("removedSKUID_"+o)&&null!=dojo.byId("removedSKUID_"+o)&&(t.product_id=dojo.byId("removedSKUID_"+o).value);void 0!=dojo.byId("removedPrdName_"+o)&&null!=dojo.byId("removedPrdName_"+o)&&(t.product_name=dojo.byId("removedPrdName_"+o).value);$("#product_"+o).size()>0&&(t.product_parent_sku=$("#product_"+o).val());void 0!=dojo.byId("rd_sku_"+o)&&null!=dojo.byId("rd_sku_"+o)&&(t.product_sku=dojo.byId("rd_sku_"+o).value);n.indexOf("one-time-delivery")!=-1&&(t.event_name="cart_to_one_time_delivery");if(n.indexOf("repeat-delivery-radio")!=-1){t.event_name="cart_to_repeat_delivery";t.product_delivery_type="repeat";var r="";void 0!=dojo.cookie("WC_CartOrderId_10151")&&null!=dojo.cookie("WC_CartOrderId_10151")&&(r=dojo.cookie("WC_CartOrderId_10151"));t.cart_id=r;var i="",s="";if(void 0!=document.getElementById("repeat-delivery-freq-options-"+selectedOrderItemId)&&null!=document.getElementById("repeat-delivery-freq-options-"+selectedOrderItemId)){i=document.getElementById("repeat-delivery-freq-options-"+selectedOrderItemId).value;if(""!=i){var l=i.split("_");"W"==l[1]?s=l[0]+" Weeks":"M"==l[1]&&(s=l[0]+" Months")}}t.product_rd_schedule_time=s}n.indexOf("store-pickup")!=-1&&(t.event_name="cart_to_bopus");pushEvent(t)}catch(e){return!0}a.parents(".radio").removeClass("selected");a.filter(":not(:checked)").removeAttr("checked");a.filter(":checked").attr("checked","checked");a.filter(":checked").parents(".radio").addClass("selected");$("#cart-store-pickup-dropdown_"+o).length>0&&(e.currentTarget.classList.contains("store-pickup-option-input")?$("#cart-store-pickup-dropdown_"+o).removeClass("half").addClass("open"):$("#cart-store-pickup-dropdown_"+o).addClass("half").removeClass("open"))})});$('.repeat-delivery-select_cart .store-pickup p.lsa-hours a[data-toggle="popover"]').popover({html:!0})}petcoCommonJS.chkBopusInventoryAvailabilityInCart()}catch(e){console.log("Error>>>"+e)}},chkBopusInventoryAvailabilityInCart:function(){var e=$("#bopusPhysicalStoreSelected").val();if("undefined"!=typeof e){var t={};$(".bopusLineitemsToChkInv").each(function(e,o){var a=o.value.split("|"),n=[];"undefined"!=typeof t[a[0]]&&(n=t[a[0]]);n.push(o.value);t[a[0]]=n});var o="10151",a="",n=window.location.protocol,r=window.location.hostname,i=window.location.port,s="/wcs/resources/store/"+o+"/yih/inventoryavailability/";$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(s="/wcs/previewresources/store/"+o+"/petcostorelocator/");""!=i&&(r=r+":"+i);var l="";for(var d in t)l=""==l?d:l+","+d;if(""!=l){petcoCommonJS.isDisableCheckOutButtonForBopus=!1;petcoCommonJS.isEnableCheckOutButtonForBopus=!1;var c=$("#inventorySystem").val();if(c==-4){var u=new Object;u.itemId=l;u.storeLoc=e;u.fetchStoreInventory=!0;dojo.xhrPost({url:getAbsoluteURL()+"GetInventoryStatusByIDView",handleAs:"json-comment-filtered",content:u,service:this,load:function(e){petcoCommonJS.bopusShowAvailability(e,t)},error:function(e,t){petcoCommonJS.disableCheckoutButton();petcoCommonJS.showDefaultInventoryTxt()}})}else{var a=n+"//"+r+s+l+"/?physicalStoreId="+e;$.ajax({url:a,type:"GET",cache:!1,contentType:"application/json",dataType:"json",data:"",success:function(e){petcoCommonJS.bopusPhysicalStoreInventoryLoad(e,t)},error:function(){petcoCommonJS.disableCheckoutButton();petcoCommonJS.showDefaultInventoryTxt()}})}}}else{elCARTContainer=$("article.cart-product-item");elCARTContainer.length>0&&(petcoCommonJS.isDisableCheckOutButtonForBopus=!1)}},showDefaultInventoryTxt:function(){$('span[id^="cart_bopusdeailsInStockSelectable_"]').removeClass("show");$('span[id^="cart_bopusdeailsInStockSelectable_"]').addClass("hide");$('span[id^="cart_bopusdeailsLowInventorySelectable_"]').removeClass("show");$('span[id^="cart_bopusdeailsLowInventorySelectable_"]').addClass("hide");$('span[id^="cart_bopusdeailsNotAvailableSelectable_"]').removeClass("hide");$('span[id^="cart_bopusdeailsNotAvailableSelectable_"]').addClass("show")},disableCheckoutButton:function(){$("div#payment-buttons a.btn-paypal.disabled").removeClass("disabled");if($('input[id^="store-pickup_"]:checked').length>0){$("div.vendor-checkout-bottom .btn-paypal").addClass("disabled");$("div.petco-checkout #continueReviewPage").addClass("disabled");$("div#payment-buttons a.btn-paypal:not(.disabled)").addClass("disabled");petcoCommonJS.isDisableCheckOutButtonForBopus=!0}else{$("div#payment-buttons a.btn-paypal.disabled").removeClass("disabled");petcoCommonJS.enableCheckoutButton();petcoCommonJS.isDisableCheckOutButtonForBopus=!1}},enableCheckoutButton:function(){var e=!1,t=!1;$("div#payment-buttons a.btn-paypal.disabled").removeClass("disabled");$.each($('input[id^="inStoreProductFlag_"]'),function(t,o){var a=o.id.split("_"),n=a[a.length-1];if("store-pickup"!=$("input[name=bopusCartSelect_"+n+"]:checked").val()&&"true"!=$("input[name=bopus-item_"+n+"]").val()){$("div#payment-buttons a.btn-paypal:not(.disabled)").addClass("disabled");petcoCommonJS.isDisableCheckOutButtonForBopus=!0;e=!0;$("#deliveryMethodError_"+n).removeClass("hide");$("#deliveryMethodError_"+n+" .promo-error-text").html(MessageHelper.messages.ERR_DELIVERY_METHOD);$("div.vendor-checkout-bottom .btn-paypal").addClass("disabled");$("div.petco-checkout #continueReviewPage").addClass("disabled")}});if($("#outOfStockItemExists").length>0){t=$("#outOfStockItemExists").val();$("div#payment-buttons a.btn-paypal:not(.disabled)").addClass("disabled");petcoCommonJS.isDisableCheckOutButtonForBopus=!0}if(!e&&!t){$("div.vendor-checkout-bottom .btn-paypal").removeClass("disabled");$("div.petco-checkout #continueReviewPage").removeClass("disabled");$("div#payment-buttons a.btn-paypal.disabled").removeClass("disabled");petcoCommonJS.isDisableCheckOutButtonForBopus=!1}},bopusShowAvailability:function(e,t){if("undefined"!=typeof e.inStoreInventory){var o=e.inStoreInventory.stores,a=!1;for(var n in o){var r=o[n].catentryId;"undefined"!=typeof r&&"undefined"!=typeof o[n].alertLevel?petcoCommonJS.showAvailabilityTest(t[r],o[n].alertLevel.toUpperCase(),o[n].availableQuantity):a=!0}a?petcoCommonJS.disableCheckoutButton():petcoCommonJS.isDisableCheckOutButtonForBopus?petcoCommonJS.disableCheckoutButton():petcoCommonJS.enableCheckoutButton()}else petcoCommonJS.disableCheckoutButton()},bopusPhysicalStoreInventoryLoad:function(e,t){var o=e.inStoreInventory;if("undefined"!=typeof o){var a=!1;for(var n in o){var r=o[n].catEntryId;"undefined"!=typeof r&&"undefined"!=typeof o[n].alertLevel?petcoCommonJS.showAvailabilityTest(t[r],o[n].alertLevel.toUpperCase(),o[n].availableQuantity):a=!0}a?petcoCommonJS.disableCheckoutButton():petcoCommonJS.isDisableCheckOutButtonForBopus?petcoCommonJS.disableCheckoutButton():petcoCommonJS.enableCheckoutButton()}else petcoCommonJS.disableCheckoutButton()},isDisableCheckOutButtonForBopus:!1,isEnableCheckOutButtonForBopus:!1,showAvailabilityTest:function(e,t,o){for(var a=!1,n=!1,r=$(".BOPUSAreaRestictionState"),i={},s=$(".hidecssclassBOPUSResriction"),l=$(".bopusStoreState"),d=0;d<e.length;d++){var c=e[d].split("|"),u="_"+c[0]+"_"+c[1],p=$("input#store-pickup_"+c[1]+":checked").length,m="cart_bopusdeailsInStockSelectable"+u,g="cart_bopusdeailsNotAvailableSelectable"+u,f="cart_bopusdeailsLowInventorySelectable"+u,h=parseInt(c[2]),v=h;void 0!=o&&null!=o&&(v=parseInt(o));if(r.length>0){var _=r[0].value.split(",");s.length>0&&$.each(s,function(e,t){i[t.value]="yes"});if("undefined"!=typeof i[c[0]]&&l.length>0)for(var y=0;y<_.length;y++)_[y]==l[0].value&&(t="RED")}"GREEN"==t&&h>v&&(t="YELLOW");if("GREEN"==t){$('[id="'+m+'"]').addClass("show");$('[id="'+m+'"]').removeClass("hide");$('[id="'+g+'"]').addClass("hide");$('[id="'+g+'"]').removeClass("show");$('[id="'+f+'"]').addClass("hide");
$('[id="'+f+'"]').removeClass("show");p>0&&(a=!0)}else if("RED"==t){$('[id="'+m+'"]').addClass("hide");$('[id="'+m+'"]').removeClass("show");$('[id="'+g+'"]').addClass("show");$('[id="'+g+'"]').removeClass("hide");$('[id="'+f+'"]').addClass("hide");$('[id="'+f+'"]').removeClass("show");p>0&&(n=!0)}else{$('[id="'+m+'"]').addClass("hide");$('[id="'+m+'"]').removeClass("show");$('[id="'+g+'"]').addClass("hide");$('[id="'+g+'"]').removeClass("show");$('[id="'+f+'"]').addClass("show");$('[id="'+f+'"]').removeClass("hide");p>0&&(n=!0)}}$("div#payment-buttons a.btn-paypal.disabled").removeClass("disabled");if(n){petcoCommonJS.isDisableCheckOutButtonForBopus=!0;$("div#payment-buttons a.btn-paypal:not(.disabled)").addClass("disabled")}else a&&!petcoCommonJS.isDisableCheckOutButtonForBopus&&(petcoCommonJS.isEnableCheckOutButtonForBopus=!0)},changeStlocIdForCheckout:function(e){var t=$("article.cart-product-item");if(t.length>0){var o=$("#BOPUS_FFMCENTER");if(o.length>0){var a="",n=window.location.protocol,r=window.location.hostname,i=window.location.port,s="/wcs/resources/store/"+petcoCommonJS.storeId+"/petcostorelocator/";""!=i&&(r=r+":"+i);$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(s="/wcs/previewresources/store/"+petcoCommonJS.storeId+"/petcostorelocator/");a=n+"//"+r+s+"getstlocaddrdtls?stlocId="+e;$.ajax({url:a,type:"GET",contentType:"application/json",dataType:"json",success:function(e){o.val(e.bopusAddressDetails.FFMCENTER);petcoCommonJS.updateBopusStoreinCart()},error:function(e){console.log(storeNLS.INV_STATUS_RETRIEVAL_ERROR)}})}}else if($('input[type="radio"][id^="store-pickup_"]').length>0)if($('input[type="radio"][id^="store-pickup_"]:checked').length>0){var o=$("#BOPUS_FFMCENTER");if(o.length>0){var a="",n=window.location.protocol,r=window.location.hostname,i=window.location.port,s="/wcs/resources/store/"+petcoCommonJS.storeId+"/petcostorelocator/";""!=i&&(r=r+":"+i);$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(s="/wcs/previewresources/store/"+petcoCommonJS.storeId+"/petcostorelocator/");a=n+"//"+r+s+"getstlocaddrdtls?stlocId="+e;$.ajax({url:a,type:"GET",contentType:"application/json",dataType:"json",success:function(e){o.val(e.bopusAddressDetails.FFMCENTER);$('input[type="radio"][id^="store-pickup_"]:checked').trigger("click")},error:function(e){console.log(storeNLS.INV_STATUS_RETRIEVAL_ERROR)}})}}else if($('input[type="radio"][id^="one-time-delivery_"]:checked').length>0){setTimeout("cursor_wait()",500);$('input[type="radio"][id^="one-time-delivery_"]:checked').trigger("click")}else if($('input[type="radio"][id^="repeat-delivery-radio_"]:checked').length>0){setTimeout("cursor_wait()",500);$('input[type="radio"][id^="repeat-delivery-radio_"]:checked').trigger("click")}},updateBopusStoreinCart:function(){var e="",t="";$("div#cart_bopus_items").each(function(){var o=$(this).find("div").attr("name");if(void 0!=o&&o.startsWith("store-pickup")){var a=$(this).find("div").attr("id");if(void 0!=typeof a){var n=a.split("_");e=n[1];t=!0}}});if(""!=e){var o=[];o.storeId=this.storeId;o.catalogId=this.catalogId;o.langId=this.langId;o.orderItemId=e;var a=$("#BOPUS_FFMCENTER");if(a.size()>0){o.fulfillmentCenterId=a.val();o.storeChange=!0}var n=dojo.cookie("isEASession");"yes"==n?o.calculationUsage="-1,-2,-3,-4,-5,-7":o.calculationUsage="-1,-2,-3,-4,-5,-6,-7";cursor_wait();wc.service.invoke("AjaxUpdateOrderItemShopCartRDPromo",o)}},radioButtonSelectOption:function(e,t,o){cmManuallyTriggerEventTrack(e);selectedOrderItemId=t;petcoCommonJS.repeatDeliveryCartSelected();petcoCommonJS.repeatDeliveryShopCart(o,!0)},changeDeliveryType:function(e,t,o){cmManuallyTriggerEventTrack(e);selectedOrderItemId=t;var a=[];a.storeId=this.storeId;a.catalogId=this.catalogId;a.langId=this.langId;a.priceChange=!0;a.orderItemId=selectedOrderItemId;a.callToODM="true";var n=$("#isSpecialItem_"+selectedOrderItemId).val();"false"==n&&(a.mergeOrderItems="true");0!=$("#ignoreNewRowCreation_"+selectedOrderItemId).size()&&(a.isPersonalizationRow=$("#ignoreNewRowCreation_"+selectedOrderItemId).val());if("store-pickup"==o){var r=$("#BOPUS_SHIPMODE"),i=$("#BOPUS_FFMCENTER");if(r.size()>0&&i.size()>0){a.shipModeId=r.val();a.fulfillmentCenterId=i.val();a.fromBopusPage=!0}}else if("one-time"==o){var s=$("#DEFAULT_FFMCENTER"),l=$("#DEFAULT_SHIPMODE");if(s.size()>0&&l.size()>0){a.shipModeId=l.val();a.fulfillmentCenterId=s.val();a.fromBopusPage=!1}}else if("sameday"==o){var d=$("#SDD_fulfillmentcer_"+selectedOrderItemId).val();console.log("sddffmcenter -> "+d);var c=$("#SAMEDAY_SHIPMODE_ID");if(""!=d&&c.size()>0){a.shipModeId=c.val();a.fulfillmentCenterId=d;a.fromBopusPage=!1;a.SameDayOpted=!0}}var u=dojo.cookie("isEASession");"yes"==u?a.calculationUsage="-1,-2,-3,-4,-5,-7":a.calculationUsage="-1,-2,-3,-4,-5,-6,-7";cursor_wait();wc.service.invoke("AjaxUpdateOrderItemShopCartRDPromo",a)},showModalNotificationAlert:function(e,t){$("#modal-notification-alert-message").html(e);"success"==t?$("#modal-notification-alert .alert").addClass("success-box"):$("#modal-notification-alert .alert").addClass("error-box");petcoCommonJS.showModal("modal-notification-alert")},applyRating:function(){$("#prodrec .prod-tile").each(function(){var e=$(this).find("#star_input").val(),t=5;if(!isNaN(e)){var o=Math.round(100*e/t);o>100&&(o=100);$(this).find("#star_limiter").css("width",o+"%")}})},updateItemButton:function(e){null!=$("#existingCatentryId")&&void 0!=$("#existingCatentryId")&&e&&$("#existingCatentryId").size()>0&&$("#existingQty").size()>0&&$("#existingQty").val()==$("#quantity").val()&&$("#existingCatentryId").val()==$("#selectedCatentryId").val()&&(e=!1);if(null!=document.getElementById("allowedChange")&&void 0!=document.getElementById("allowedChange")){var t=document.getElementById("allowedChange").value;e||"true"==t?$("#updateItemBtn").removeAttr("disabled"):1==parseInt($("#quantity").val())&&$("#existingQty").val()!=$("#quantity").val()?$("#updateItemBtn").removeAttr("disabled"):$("#updateItemBtn").attr("disabled","disabled")}},csrRunAsSession:function(e){window.localStorage.removeItem("NEXT_REPEAT_DELIVERY_DATE");window.localStorage.removeItem("PALS_POINTS");document.location.href=encodeURI(e)},dataFilter:function(e){return e.replace(/(\/\*|\*\/)/g,"")},getAdobeTargetContent:function(e,t,o){var a="PetcoAdobeABTesting?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId,n={};n.targetTest=e;var r=dojo.cookie("isOBOSession"),i=dojo.cookie("isNewEASession");"yes"!=r&&"yes"!=i?$.ajax({url:a,type:"POST",cache:!1,data:n,success:function(a){console.log("Success adobe target="+e);var n=petcoCommonJS.dataFilter(a),r=jQuery.parseJSON(n);if(null!=r.adobeTargetResult){var i=r.adobeTargetResult.option;void 0!=typeof i&&""!=i||(i=o);sessionStorage.setItem(t,i);Visitor.getInstance(r.adobeTargetResult.organizationId,{serverState:r.adobeTargetResult.visitorState})}else sessionStorage.setItem(t,o)},error:function(){console.log("error while connecting to adobe target="+e);sessionStorage.setItem(t,o)}}):sessionStorage.setItem(t,o)},setATVisitorInstance:function(){var e=dojo.cookie("AT_organizationId"),t=dojo.cookie("AT_visitorState");void 0!=e&&void 0!=t&&Visitor.getInstance(dojo.cookie("AT_organizationId"),{serverState:dojo.cookie("AT_visitorState")})},getNearestStoreInfoForHeader:function(e,t,o,a,n,r){petcoCommonJS.locationConfig.expirationMin=e;petcoCommonJS.locationConfig.isGoogleGeoAPI=t;petcoCommonJS.locationConfig.HTML5GeoTimeout=o;petcoCommonJS.locationConfig.XHRTimeout=a;petcoCommonJS.locationConfig.googleAPIUrl=n;petcoCommonJS.locationConfig.googleAPIKey=r;petcoCommonJS.userLocation.latitude=dojo.cookie("Edgescape-Lat");petcoCommonJS.userLocation.longitude=dojo.cookie("Edgescape-Long");null==localStorage.getItem("petcostores_latitude_longitude")&&petcoCommonJS.fnGetUserLocation();var i=dojo.cookie("WC_UserType"),s=dojo.cookie("WC_UserId"),l=null,d="pref_store_"+s,c="nearestStore_"+s;if("R"==i){var l=null!=localStorage.getItem(d)?jQuery.parseJSON(localStorage.getItem(d)):null;null==l&&petcoCommonJS.getPreferredStore(s)}setTimeout(function(){var e=jQuery.parseJSON(localStorage.getItem("petcostores_latitude_longitude"));if(null!=e&&e.hasOwnProperty("latitude")&&e.hasOwnProperty("longitude")){petcoCommonJS.userLocation.latitude=e.latitude;petcoCommonJS.userLocation.longitude=e.longitude}if(null==sessionStorage.getItem(c)||!e.hasOwnProperty("latitude")||!e.hasOwnProperty("longitude")){var t="",o="/wcs/resources/store/"+$("#storeId").val()+"/petcostorelocator/getAllStoresLatLong",a=window.location.hostname,n=window.location.port;$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(o="/wcs/previewresources/store/"+$("#storeId").val()+"/petcostorelocator/getAllStoresLatLong");""!=n&&(a=a+":"+n);t=window.location.protocol+"//"+a+o;$.get(t,"json").done(function(e){petcoCommonJS.getNearestStoreForHeader(e,petcoCommonJS.userLocation);setTimeout(function(){petcoLocation.populateCity()},500)})}},1e4)},getNearestStoreForHeader:function(e,t){var o=e.store,a=null,n=null,r=dojo.cookie("WC_UserType"),i=dojo.cookie("WC_UserId"),s=null,l="pref_store_"+i,d="nearestStore_"+i,s=null!=localStorage.getItem(l)?jQuery.parseJSON(localStorage.getItem(l)):null;$.each(o,function(e,t){if("R"===r&&null!=s){if(s.prefStore==t.ID){n=t.SN;return!0}}else{var o=petcoCommonJS.distance(t,petcoCommonJS.userLocation);t.distance=o;if(a){if(parseFloat(o)<parseFloat(a)){a=o;n=t.SN}}else{a=o;n=t.SN}}});window.sessionStorage&&sessionStorage.setItem(d,n);return n},distance:function(e,t){return parseFloat(Math.sqrt(Math.pow(69.1*(e.LA-t.latitude),2)+Math.pow(69.1*((t.longitude-e.LO)*Math.cos(e.LA/57.3)),2))).toFixed(2)},getPreferredStore:function(e){var t="",o="/wcs/resources/store/"+$("#storeId").val()+"/petcostorelocator/getUserPrefStore",a=window.location.hostname,n=window.location.port;$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(o="/wcs/previewresources/store/"+$("#storeId").val()+"/petcostorelocator/getUserPrefStore");""!=n&&(a=a+":"+n);t=window.location.protocol+"//"+a+o;$.get(t,"json").done(function(t){null!=t.prefStore&&petcoCommonJS.fnPrefStoreSetLocalStorage(t.prefStore,e)})},fnPrefStoreSetLocalStorage:function(e,t){var o="pref_store_"+t;localStorage.removeItem(o);_timestamp=(new Date).getTime();if(""!=e){var a={};a.prefStore=e;var n=7776e6;a.timestamp=_timestamp+n;localStorage.setItem(o,JSON.stringify(a))}},fnGetUserLocation:function(){var e=1e4;if(navigator&&navigator.geolocation){var t={enableHighAccuracy:!0,timeout:e};navigator.geolocation.getCurrentPosition(petcoCommonJS.fnProcessGeoResponse,petcoCommonJS.fnProcessGeoError,t);jQuery(window).load(function(){setTimeout(function(){if(!petcoCommonJS.IS_HTML5_CALL_COMPLETED){var e={};e.code=5;petcoCommonJS.fnProcessGeoError(e);petcoCommonJS.IS_HTML5_CALL_COMPLETED=!0}},e)})}},fnProcessGeoResponse:function(e){if(!petcoCommonJS.IS_HTML5_CALL_COMPLETED){petcoCommonJS.IS_HTML5_CALL_COMPLETED=!0;_geoLatitude=e.coords.latitude;_geoLongitude=e.coords.longitude;petcoCommonJS.fnLatitudeLongitudeSetLocalStorage(_geoLatitude,_geoLongitude)}},fnProcessGeoError:function(e){if(!petcoCommonJS.IS_HTML5_CALL_COMPLETED){petcoCommonJS.IS_HTML5_CALL_COMPLETED=!0;var t=e.code;t&&("5"==t?petcoCommonJS.fnGetAkamaiLocation():"5"!=t&&petcoCommonJS.fnGoogleGeoLocation())}},fnGoogleGeoLocation:function(){$.ajax({url:petcoCommonJS.locationConfig.googleAPIUrl+petcoCommonJS.locationConfig.googleAPIKey,type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:JSON.stringify({}),timeout:petcoCommonJS.locationConfig.XHRTimeout,success:function(e){_geoLatitude=e.location.lat;_geoLongitude=e.location.lng;petcoCommonJS.fnLatitudeLongitudeSetLocalStorage(_geoLatitude,_geoLongitude)},error:function(e){petcoCommonJS.fnGetAkamaiLocation()}})},fnGetAkamaiLocation:function(){petcoCommonJS.fnLatitudeLongitudeSetLocalStorage(petcoCommonJS.userLocation.latitude,petcoCommonJS.userLocation.longitude)},fnLatitudeLongitudeSetLocalStorage:function(e,t){localStorage.removeItem("petcostores_latitude_longitude");if(""!=e&&""!=t){var o={};o.latitude=e;o.longitude=t;var a=7776e6;_timestamp=(new Date).getTime();o.timestamp=_timestamp+a;localStorage.setItem("petcostores_latitude_longitude",JSON.stringify(o))}},fnOpenPromotionDesc:function(e){var t="",o="/wcs/resources/store/"+$("#storeId").val()+"/promotion/description/"+e,a=window.location.hostname,n=window.location.port;$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(o="/wcs/previewresources/store/"+$("#storeId").val()+"/promotion/description/"+e);""!=n&&(a=a+":"+n);t=window.location.protocol+"//"+a+o;$.get(t,"json").done(function(e){var t="Promotion details not available";null!=e&&""!=e.longDescription&&(t=e.longDescription);$("#petco-promo-desc-modal").html(t);petcoCommonJS.showModal("promoDesc")}).fail(function(){$("#petco-promo-desc-modal").html("Promotion details not available");petcoCommonJS.showModal("promoDesc")})},assign_catentry_value:function(e){null!=document.getElementById("catEntryIdForBOPUSModal")&&(document.getElementById("catEntryIdForBOPUSModal").value=e)},calculatedRDPrice:function(){if($("#isCalculatedRDEnabled").length>0&&"true"==$("#isCalculatedRDEnabled").val()){var e=[],t={};$(".rdEligibleItem").each(function(t,o){var a=o.value.split("|"),n={};n.partNumber=a[0];n.offerPrice=a[1];n.rdPrice=a[2];a[3];e.push(n)});if(e.length>0){var o={};o.rdPriceDetail=e;var a=window.location.protocol,n=window.location.hostname,r=window.location.port,i="/wcs/resources/store/10151/productinfo/calculatedRDPrice/";""!=r&&(n=n+":"+r);var s=a+"//"+n+i;$.ajax({url:s,type:"POST",cache:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(e){if(null!=e){var o=e.rdPriceDetail;if("undefined"!=typeof o)for(var a in o){var n=o[a].rddiscountprice.toFixed(2);t[o[a].partNumber]=n;$("div[id="+o[a].partNumber+"_rdcalculated]").html('<p style="text-align:right"> or </p> <span class="cart-price cart-price-small rdLogo">$'+n+"</span><p> With Repeat Delivery.</p><p>Select in Checkout</p>")}}},error:function(){console.log("CalculatedRDPrice---> error....")}})}}}};dojo.topic.subscribe("ajax_usertype_changed",function(usertypes){var oNeareststores=JSON.parse(localStorage.getItem("petcostores"));if(null!=oNeareststores&&"undefined"!=typeof oNeareststores.userDetails){var userdetails=JSON.parse(oNeareststores.userDetails);if("undefined"!=typeof userdetails.USERTYPE&&"undefined"!=typeof userdetails.SHOW_PREFERREDSTORE&&"Y"==userdetails.SHOW_PREFERREDSTORE.toUpperCase()){var USERTYPE=userdetails.USERTYPE;if(usertypes!=USERTYPE){localStorage.removeItem("petcostores");var hostName=document.location.host,domainName=hostName.substring(hostName.lastIndexOf(".",hostName.lastIndexOf(".")-1)),date=new Date;date.setTime(date.getTime()+-864e7);expires="; expires="+date.toGMTString();document.cookie="WC_physicalStores="+expires+";path=/";var petcoNearestLocationsInitScript=document.getElementById("petcoNearestLocationsInitScript");if(null!=petcoNearestLocationsInitScript){eval(petcoNearestLocationsInitScript.innerHTML);dojo.topic.subscribe("ChangeBasedOnLocationCallCompleted",function(){var e=$('div[data-pageType="product-detail-page"]'),t=$("div#bopusInfoTabInPlp_conatiner");t.length>0&&dojo.topic.publish("Facet_Update","");e.length>0&&dojo.topic.publish("DefiningAttributes_Resolved",productDisplayJS.bopusShowStoreDetailsCatEntryId,productDisplayJS.bopusShowStoreDetailsProductId)})}}}}});$(document).ready(function(){if($(".sdd-ship-tooltip")){var e={placement:"top",trigger:"hover",html:!0,selector:".sdd-ship-tooltip",content:function(){return $("#sdd-shipping-tooltip-content").html()}};$("body").popover(e)}$(".single-reason").click(function(){$(".reason-button-container").hide();$(".sub-reason-container input:radio:checked").each(function(){$(this).prop("checked",!1)});if($(this).parent().hasClass("no-sub-reason")){var e=$(this).attr("id");$(".sub-reason-container").hide();$("#subreasons_"+e).show();$("#repeatDeliveryCancellationBtn").removeAttr("disabled");$(".rd-cancellation-button-container").hide();$(".reason-button-container").html("");if($(this).parent().hasClass("other-reason")){$(this).next().next(".reason-button-container").html($(".rd-cancellation-button-container").html());$(this).next().next(".reason-button-container").show()}else{$(this).next(".reason-button-container").html($(".rd-cancellation-button-container").html());$(this).next(".reason-button-container").show()}}else{$("#repeatDeliveryCancellationBtn").attr("disabled","disabled");$(".rd-cancellation-button-container").show();var e=$(this).attr("id");$(".sub-reason-container").hide();$("#subreasons_"+e).show();$(".reason-button-container").html("")}});$(".single-sub-reason").click(function(){$(".reason-button-container").hide();$("#repeatDeliveryCancellationBtn").removeAttr("disabled");$(".rd-cancellation-button-container").hide();$(".reason-button-container").html("");$(this).next(".reason-button-container").html($(".rd-cancellation-button-container").html());$(this).next(".reason-button-container").show()});$(".product_quantity_input").keyup(function(){""!=$(this).val()&&$(this).val()<0&&$(this).val("1")});$(document).on("keyup",".product_quantity_input",function(e){""!=$(this).val()&&$(this).val()<0&&$(this).val("1")});$(".product_quantity_input").blur(function(){if(""==$(this).val()||$(this).val()<0){$(this).val("1");$(this).trigger("change");localStorage.setItem("qtyChangedOnBlur","1");"quantity"==$(this).attr("id")&&petcoCommonJS.updateItemButton(!0)}});$(document).on("blur",".product_quantity_input",function(e){if(""==$(this).val()||$(this).val()<0){$(this).val("1");$(this).trigger("change");localStorage.setItem("qtyChangedOnBlur","1");"quantity"==$(this).attr("id")&&petcoCommonJS.updateItemButton(!0)}});$("input[maxlength]").on("textInput",function(e){var t=$(this);t.val().length>=parseInt(t.attr("maxlength"),10)&&e.preventDefault()});var t=.5*$(window).width(),o=.7*$(window).height(),a=window.matchMedia("(max-width: 768px)").matches;if(!a){$("#look-ahead").width(t);$("#look-ahead").height(o)}});$(document).keyup(function(e){if($(".petco-modal").hasClass("in")){var t=$(".petco-modal.in")[0].getAttribute("id");27==e.keyCode&&t&&petcoCommonJS.hideModal(t)}});$(document).mouseup(function(e){if($(".petco-modal").hasClass("in")){var t=$(".petco-modal.in")[0].getAttribute("id"),o=$("#"+t);if(t&&"modal-cartListItems"==t&&!o.is(e.target)&&0===o.has(e.target).length){trackATCInterstitailClick("modal_click_away");petcoCommonJS.hideModal(t)}}});window.onload=function(){function e(){this.removeEventListener("play",e,!1);document.getElementById("promotionTitle").style.display="none"}function t(){this.removeEventListener("ended",t,!1);document.getElementById("videoScreen").style.display="none";document.getElementById("videoFinished").style.display="block"}var o=document.getElementById("videoScreen");if(o)if(o.canPlayType&&(o.canPlayType("video/mp4")||o.canPlayType("video/ogg")))if(o.addEventListener){o.addEventListener("play",e,!1);o.addEventListener("ended",t,!1)}else{o.attachEvent("play",e,!1);o.attachEvent("ended",t,!1)}else document.getElementById("promotionTitle").style.display="none"};dojo.addOnLoad(function(){requestSubmitted=!1;dojo.query("div[dojoType]").forEach(function(e,t,o){addToWidgetsList(e.id)});parseAllWidgets()});$(document).ready(function(){if("undefined"==window.pagetype||"home"==!window.pagetype){requestSubmitted=!1;petcoLocation.populateCity();dojo.topic.subscribe("cookieAddedForPhysicalStoreId",function(){petcoLocation.populateCity()})}});var activeElements={},MouseObserver={hoverTimeout:void 0,hoverDelay:200},keyboardHelper=function(){var e={ENTER:13,ESCAPE:27,SPACEBAR:32,LEFTARROW:37,UPARROW:38,RIGHTARROW:39,DOWNARROW:40};return{keys:e,isMenuKey:function(t){var o=!1;for(var a in e)if(e[a]==t){o=!0;break}return o}}}();require(["dojo/_base/event","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/has","dojo/on","dojo/query","dojo/sniff","dojo/domReady!","dojo/NodeList-dom","dojo/NodeList-traverse"],function(e,t,o,a,n,r,i){"use strict";function s(){D||(D=setTimeout(function(){D=null;l()},66))}function l(){var e=window.matchMedia("(max-width: 768px)");if(e.matches){E.destruct();h()}else{f();E.init()}}function d(){var e=dojo.byId("headerWidget"),t=dojo.byId("header-top-banner"),n=dojo.byId("primary-nav"),r=e?dojo.position(e).h:0,s=t?dojo.position(t).h:0,l=n?dojo.position(n).h:0,d=dojo.body(),u=r+l-s;if(e)if(T.matches){if(s<$(window).scrollTop()&&!$("body").hasClass("sticky-header")){$("body").addClass("sticky-header");$("#headerWidget").css("margin-bottom",$("#header").outerHeight());c();$("#look-ahead").removeClass("active")}if(s>=$(window).scrollTop()&&$("body").hasClass("sticky-header")){$("body").removeClass("sticky-header");$("#headerWidget").css("margin-bottom",0)}}else{$("#headerWidget").css("margin-bottom",0);if(dojo.position(e).y+dojo.position(e).h<=0&&!dojo.hasClass(d,"sticky-header")){$("#search").attr("aria-expanded","false");$(".mini-cart.tab.persist-active").attr("aria-expanded","false");o.add(d,"sticky-header");$("#look-ahead").removeClass("active");a.set(d,"padding-top",u+"px");c();setTimeout(function(){o.add(i("#search")[0],"persist-active");null!=$(".mini-cart")[0]&&void 0!=$(".mini-cart")[0]&&o.add(i(".mini-cart")[0],"persist-active")},300)}if(dojo.position(e).y>=0&&dojo.hasClass(d,"sticky-header")){o.remove(d,"sticky-header");o.remove(i("#search")[0],"persist-active active");null!=$(".mini-cart")[0]&&void 0!=$(".mini-cart")[0]&&o.remove(i(".mini-cart")[0],"persist-active");a.set(d,"padding-top",0);a.set(dojo.byId("search"),{left:"auto",right:"auto"});null!=$(".mini-cart")[0]&&void 0!=$(".mini-cart")[0]&&a.set(i(".mini-cart")[0],{left:"",right:""})}}}function c(){var e=i(".persistent-search")[0],t=dojo.byId("search"),o=window.matchMedia("(max-width: 768px)");if(i("body.sticky-header").length>0){var n=dojo.position(t).w,r=dojo.position(e).x;r+n/2<window.innerWidth?o.matches?a.set(t,{left:"0px",right:"auto"}):a.set(t,{left:r-n/2+"px",right:"auto"}):a.set(t,{right:"20px",left:"auto"})}}function u(){var e=dojo.byId("search");$("#search").attr("aria-expanded","true");i("body.sticky-header").length>0&&o.add(e,"active")}function p(){var e=dojo.byId("search"),t=document.getElementById("SimpleSearchForm_SearchTerm");$("#search").attr("aria-expanded","false");t!==document.activeElement&&o.remove(e,"active")}function m(){$(".mini-cart.tab.persist-active").attr("aria-expanded","true");var e=i(".persistent-cart")[0],t=i(".mini-cart")[0];if(i("body.sticky-header").length>0){toggleMiniShopCartDropDown("mini-cart-icon","quick_cart_container","orderItemsList");o.add(t,"active");var n=dojo.position(t).w,r=dojo.position(e).x;r+n/2<window.innerWidth?a.set(t,{left:r-n/2+"px",right:"auto"}):a.set(t,{right:"0px",left:"auto"})}}function g(){var e=i(".mini-cart")[0];$(".mini-cart.tab.persist-active").attr("aria-expanded","true");o.remove(e,"active")}function f(){var e=window.matchMedia("(max-width: 768px)");if(!e.matches){i(".persistent-search, #search").on("mouseover",function(){u();setTimeout(function(){$("input#SimpleSearchForm_SearchTerm").length>0&&$("input#SimpleSearchForm_SearchTerm").focus()},500)});i(".persistent-search, #search").on("mouseout",function(){setTimeout(function(){p()},500)});i(".persistent-cart, .mini-cart.tab").on("mouseover",function(){m()});i(".persistent-cart, .mini-cart.tab").on("mouseout",function(){g()})}}function h(){function e(){t("none")}function t(e){for(var t=!1,a=0;a<r.length;a++)if(r[a]!=e)o.remove(r[a],"open");else{o.add(r[a],"open");t=!0}t?$("#mobileOverlay").css("display","block"):$("#mobileOverlay").css("display","none")}var a=document.getElementById("mobile-menu"),n=document.getElementById("mobileOverlay"),r=(document.getElementById("MiniShoppingCart"),["stores","MiniShoppingCart","search"]);if(n){n.onclick=function(t){e()};n.ontouchmove=function(t){e()}}var i=document.getElementById("header");i&&(i.ontouchmove=function(e){$(n).hasClass("active")&&e.preventDefault()});if(a&&T.matches){var s=document.getElementById("primary-nav"),l=document.getElementById("nav-exit"),d=(document.querySelectorAll(".mobile-header"),document.querySelectorAll(".toggle-open")),c=document.querySelectorAll(".shop-by-brand-fullpage .brand-filter a"),u=document.querySelectorAll(".shop-by-brand-fullpage .brand-list > ul > li");if(s){a.onclick=function(t){e();s.classList.add("active");document.body.classList.add("no-scroll")};l.onclick=function(e){for(var t=document.querySelectorAll("#primary-nav .open"),o=0;o<t.length;o++)t[o].classList.remove("open");s.classList.remove("active");document.body.classList.remove("no-scroll")};for(var p=0;p<d.length;p++)d[p].onclick=function(e){e.preventDefault();this.classList.toggle("open")};for(var m=0;m<c.length;m++)c[m].onclick=function(e){e.preventDefault();for(var t=document.querySelectorAll(".brand-filter a.active"),o=this.classList[0],a=0;a<t.length;a++)t[a].classList.remove("active");this.classList.add("active");if("all"===o)for(var n=0;n<u.length;n++)u[n].style.display="block";else{for(var r=0;r<u.length;r++)u[r].style.display="none";document.querySelectorAll(".shop-by-brand-fullpage .brand-list ."+o)[0].style.display="block";$("html, body").animate({scrollTop:$("#"+o).offset().top-300},500)}}}var g=document.getElementById("mobile-search");g&&(g.onclick=function(e){e.preventDefault();document.getElementById("search").style.left="0";t("search")});var f=document.getElementById("mobile-stores");f&&(f.onclick=function(e){e.preventDefault();t("stores")});var h=document.getElementById("mobile-cart");h&&(h.onclick=function(e){e.preventDefault();document.querySelectorAll(".mini-cart")[0].style.left="0";toggleMiniShopCartDropDown("mini-cart-icon","quick_cart_container","orderItemsList");t("MiniShoppingCart")})}}function v(){var e=dojo.byId("footer");if(e&&T.matches){var t=i("#footer h5");r(t,"click",function(){o.toggle(this,"open")})}if(document.querySelectorAll("#policy-collapse").length>0){var a=document.querySelectorAll("#policy-collapse")[0];a.onclick=function(e){e.preventDefault();this.nextElementSibling.classList.contains("open")?this.nextElementSibling.classList.remove("open"):this.nextElementSibling.classList.add("open")}}}function _(e){var t="departmentMenu_",a=e.id.slice(0,t.length)==t;if(a){wc.render.updateContext("departmentSubMenuContext",{targetId:e.id});"function"==typeof cX&&setTimeout(function(){cX("")},1e3)}else{var n=e.getAttribute("data-parent");n&&activeElements[n]&&deactivate(activeElements[n]);n&&_(document.getElementById(n));o.add(e,"active");i('a[data-activate="'+e.id+'"]').addClass("selected");i('a[data-toggle="'+e.id+'"]').addClass("selected");activeElements[n]=e}}function y(e){o.contains(e,"active")?deactivate(e):_(e)}function I(){r(document,"a[data-activate]:click",function(t){var o=this.getAttribute("data-activate");_(document.getElementById(o));e.stop(t)});r(document,"a[data-deactivate]:click",function(t){var o=this.getAttribute("data-deactivate");deactivate(document.getElementById(o));e.stop(t)});r(document,"a[data-toggle]:click",function(t){var o=this.getAttribute("data-toggle");null!=document.getElementById(o)&&y(document.getElementById(o));e.stop(t)});r(document,"a[data-toggle]:keydown",function(t){var o;if(27==t.keyCode){o=this.getAttribute("data-toggle");deactivate(document.getElementById(o));e.stop(t)}else if(40==t.keyCode){o=this.getAttribute("data-toggle");var a=document.getElementById(o);_(a);i('[class*="menuLink"]',a)[0].focus();e.stop(t)}});n("ie")<10&&i("input[placeholder]").forEach(function(e){var t=e.getAttribute("placeholder");if(t){var o=document.createElement("label");o.className="placeholder";o.innerHTML=t;var a=function(){o.style.display=e.value?"none":"block"};window.setTimeout(a,200);r(e,"blur, focus, keyup",a);r(o,"click",function(){e.focus()})}})}function S(){window.setTimeout(function(){var e=document.getElementById("SimpleSearchForm_SearchTerm");e&&r(e,"click",function(){var e=i('.selected:not(a[data-toggle="searchBar"])',document.getElementById("header"));e.forEach(function(e){deactivate(document.getElementById(e.getAttribute("data-toggle")))})})},100);i("#searchBox > .submitButton").on("click",function(){var e=document.getElementById("SimpleSearchForm_SearchTerm");e.value=t.trim(e.value);var o=t.trim(e.value.replace(/'|"/g,""));e.value&&""!=o&&document.getElementById("searchBox").submit()});i("#searchBox").on("submit",function(o){var a=document.getElementById("SimpleSearchForm_SearchTerm"),n=a.value,r=t.trim(a.value.replace(/'|"/g,""));a.value=r;if(!a.value){e.stop(o);return!1}a.value=t.trim(n).toLowerCase()});i("#SimpleSearchForm_SearchTerm").on("keyup",function(){var e=document.getElementById("SimpleSearchForm_SearchTerm"),t=document.getElementById("submitButton");e.value.length>0?t.classList.add("active"):t.classList.remove("active")})}function C(){wc.render.declareContext("departmentSubMenuContext",{targetId:""},"");wc.render.declareRefreshController({id:"departmentSubMenu_Controller",renderContext:wc.render.getContextById("departmentSubMenuContext"),url:"",formId:"",renderContextChangedHandler:function(e,t){cursor_wait();t.refresh(this.renderContext.properties)},postRefreshHandler:function(){updateDepartmentsMenu();_(document.getElementById(this.renderContext.properties.targetId));cursor_clear()}})}function b(){var e=i(".expandable");e&&r(e,"click",function(){o.toggle(this,"open")});var t=$(".banner-promo .collapse-toggle");if(t){var a=$(".banner-promo .close"),n=$(".banner-promo .carousel-inner .active a");t.attr("tabindex")||t.attr("tabindex","0");t.attr("aria-label")||t.attr("aria-label",t.find(".carousel-inner .item p").text()+" expandable promotion");t.attr("aria-expanded")||t.attr("aria-expanded","false");t.attr("role")||t.attr("role","button");t.on("click keydown",function(e){if("click"==e.type||"13"==e.which){$(this).addClass("open");$(".banner-promo .collapsible").addClass("open");t.attr("aria-expanded","true").attr("tabindex","-1");a.attr("tabindex","0");n.each(function(e){$(this).attr("tabindex","0")})}});a.on("click keydown",function(e){if("click"==e.type||"13"==e.which){$(".banner-promo .collapse-toggle").removeClass("open");$(".banner-promo .collapsible").removeClass("open");t.attr("aria-expanded","false").attr("tabindex","0");a.attr("tabindex","-1");n.each(function(e){$(this).attr("tabindex","-1")})}})}$(".carousel-sync").on("click",".carousel-control[data-slide]",function(e){e.preventDefault();$(".carousel-sync").carousel($(this).data("slide"))});$(".carousel-sync").on("mouseover",function(e){e.preventDefault();$(".carousel-sync").carousel("pause")});$(".carousel-sync").on("mouseleave",function(e){e.preventDefault();$(".carousel-sync").carousel("cycle")})}if(!dojo.byId("checkoutHeaderIdForJS")){var E=function(){function e(e,t){"boolean"!=typeof t&&(t=!1);var o=h.filter("."+T).length>0;MouseObserver.hoverTimeout&&clearTimeout(MouseObserver.hoverTimeout);MouseObserver.hoverTimeout=setTimeout(function(){h.filter("."+T).removeClass(T).find("> a").attr("aria-expanded","false").attr("tabIndex",-1);e.addClass(T).find("> a").attr("aria-expanded","true").attr("tabIndex",0);S.show();f.find("> ul").addClass("active");var o=e.attr("id");_.filter("."+T).removeClass(T).closest(".drawer-container").attr("aria-hidden","true");_.each(function(){var e=$(this);if(e.hasClass(o)){e.addClass(T).closest(".drawer-container").attr("aria-hidden","false");e.find(".pet-list li").removeClass(T).first().addClass(T).find("> a").attr("aria-expanded","true").attr("tabIndex",0);e.find(".pet-nav").removeClass(T).first().addClass(T).attr("aria-hidden",!1)}});t&&e.find("li > a").first().focus()},o?MouseObserver.hoverDelay:20)}function t(e){y.filter("."+T).removeClass(T).find("> a").attr("aria-expanded","false").attr("tabIndex",-1);e.addClass(T).find("> a").attr("aria-expanded","true").attr("tabIndex",0);var t=e.attr("id");I.filter("."+T).removeClass(T).attr("aria-hidden","true");I.each(function(){var e=$(this);e.hasClass(t)&&e.addClass(T).attr("aria-hidden","false");
})}function o(e){"boolean"!=typeof e&&(e=!1);var t=h.filter("."+T).length>0,o=t?h.filter("."+T):h.has('> a[tabindex="0"]');h.removeClass(T).find("> a").attr("aria-expanded","false").attr("tabIndex",-1);o.find("> a").attr("tabIndex",0);e&&o.find("> a").focus();_.removeClass(T);y.removeClass(T).find("> a").attr("aria-expanded","false").attr("tabIndex",-1);S.hide();f.find("> ul").removeClass("active");v.attr("aria-hidden","true");I.removeClass(T).attr("aria-hidden","true");MouseObserver.hoverTimeout&&clearTimeout(MouseObserver.hoverTimeout)}function a(t){i(t)?o(!0):e(t,!0)}function n(e,t){var o,a=t.prevAll().not(".mobile-only").first();o=a.length?a:e.last();return o}function r(e,t){var o,a=t.nextAll().not(".mobile-only").first();o=a.length?a:e.first();return o}function i(e){return e.hasClass(T)}function s(e,t){e.find("> a").attr("tabIndex",-1);t.find("> a").attr("tabIndex",0).focus()}function l(){f.on("keydown",function(l){if("TEXTAREA"!=l.target.tagName){var d=l.keyCode;if("I"!=l.target.tagName||d!==keyboardHelper.keys.ENTER&&d!==keyboardHelper.keys.SPACEBAR){if("I"==l.target.tagName&&9===d){p();g()}else if(keyboardHelper.isMenuKey(l.keyCode)){var c=h.filter("."+T).length>0,v=y.filter("."+T).length>0,I=y.filter("."+T),S=c?h.filter("."+T):h.has('> a[tabindex="0"]');if(d===keyboardHelper.keys.ESCAPE){l.preventDefault();l.stopPropagation();o(!0);return}if(d===keyboardHelper.keys.LEFTARROW){l.preventDefault();l.stopPropagation();var C=n(h,S);s(h,C);i(S)&&e(C,!0);return}if(d===keyboardHelper.keys.RIGHTARROW){l.preventDefault();l.stopPropagation();var b=r(h,S);s(h,b);i(S)&&e(b,!0);return}if(c)switch(d){case keyboardHelper.keys.UPARROW:l.preventDefault();l.stopPropagation();if(v){var E=f.find(".drawer."+T+" "+y.selector),C=n(E,I);s(E,C);t(C)}break;case keyboardHelper.keys.DOWNARROW:l.preventDefault();l.stopPropagation();if(v){var E=f.find(".drawer."+T+" "+y.selector),b=r(E,I);t(b);s(E,b)}break;case keyboardHelper.keys.SPACEBAR:case keyboardHelper.keys.ENTER:l.preventDefault();l.stopPropagation();var D=_.find(":focus");D.length&&(window.location=D.attr("href"))}else switch(d){case keyboardHelper.keys.UPARROW:case keyboardHelper.keys.DOWNARROW:l.preventDefault();l.stopPropagation();e(S,!0);break;case keyboardHelper.keys.SPACEBAR:case keyboardHelper.keys.ENTER:l.preventDefault();l.stopPropagation();a(S)}}}else{l.preventDefault();if(l.target.classList.contains("persistent-search")){u();setTimeout(function(){$("input#SimpleSearchForm_SearchTerm").focus()},500)}else{m();showMiniShopCartDropDownEvent(l,"MiniShoppingCart","MiniShopCartContents","orderItemsList");setTimeout(function(){$(".mini-cart.tab.persist-active #MiniShopCartContents").find("a")[0].focus()},500)}}}});h.on("mouseenter",function(){e($(this))});h.on("mouseleave",function(){MouseObserver.hoverTimeout&&clearTimeout(MouseObserver.hoverTimeout)});v.each(function(){var e=$(this),t=e.find(".drawer");t&&e.on("mouseover",function(e){var a=e.target,n=$.contains(t[0],a)||$(a).is(t);n||o()})});f.on("mouseleave",o);S.on("mouseenter",o);y.on("mouseenter",function(){t($(this))});C.on("click",function(){var e=$(this).attr("class"),t=$('.shop-by-brand-fullpage .brand-list a[href="#'+e+'"]'),o=1*t.offset().top-50;window.scrollTo(0,o);t.focus()})}function d(){f.off("keydown");h.off("mouseenter");h.off("mouseleave");v.off("mouseover");f.off("mouseleave");S.off("mouseenter");y.off("mouseenter");C.off("click")}function c(){if(!$("#nav-header-offer").length){var e=$("#header-offer").clone();e.removeClass("header-offer-mobile").attr("id","nav-header-offer");$("ul.nav-items").append(e);$("ul.nav-items #nav-header-offer").wrap('<li class="header-offer-desktop"></li>')}}var f=$("#primary-nav"),h=$(".nav-items > li:not(.mobile-only)"),v=$(".drawer-container"),_=$(".drawer"),y=($(".pet-list"),$(".pet-list li")),I=$(".pet-nav"),S=$(".nav-mask"),C=$(".shop-by-brand-fullpage .brand-filter a"),b=$("nav > .persistent-utility"),E=!1,T="focus";f.find("ul").attr("role","menu").end().find("> ul").attr("aria-label","Main Navigation").attr("role","menubar").end().find("li").attr("role","none").end().find("a").attr("role","menuitem").attr("tabIndex",-1).end().find(".drawer .container a").attr("tabIndex",0);h.find("> a").attr("aria-haspopup","true").attr("aria-expanded","false").first().attr("tabIndex",0);v.attr("aria-hidden","true");y.find("> a").attr("aria-haspopup","true").attr("aria-expanded","false").attr("tabIndex",-1);I.attr("aria-hidden","true");b.children("i").each(function(){$(this).attr("tabindex","0")});return{init:function(){if(!E){l();c();E=!0}},destruct:function(){if(E){d();E=!1}}}}();b();0==$("#reactHeader").length&&r(window,"scroll",function(){d()});I();var T=window.matchMedia("(max-width: 769px)");if(T.matches)h();else{f();E.init()}window.addEventListener("resize",s,!1);var D;v();S();C()}});var userType="",isGuest=!0,parameters=[],domain="";$("#cookieDomain").length>0&&(domain=$("#cookieDomain").val());$(document).ready(function(){wc.service.declare({id:"pingPetcoUserTypeAction",actionId:"pingPetcoUserTypeAction",url:$("span#PetcoPingUserTypeurl").html().trim().split("&amp;").join("&"),successHandler:function(e){var t=e.usertype,o=e.userid;invokeCookieForLoginUser(t,o)},failureHandler:function(e){console.debug("PetcoPingUserType: Unexpected error occurred during an xhrPost request.")}});var e=8,t=setInterval(function(){if("undefined"!=typeof rfk&&null!=rfk&&"function"==typeof rfk.uid){clearInterval(t);e=10;ReflektionHelperJS.reflektion_init()}else if(0==e){clearInterval(t);e=10;ReflektionHelperJS.reflektion_init()}else e--},800);pingPetcoUserType()});!function(){"use strict";function e(e){var t=dojo.cookie(e);return!(!t||"false"==t)}function t(){var t=e("obocookie");if(t&&null!=document.getElementById("oboRegisterLink")&&null!=document.getElementById("signOutLinkButton")){document.getElementById("oboRegisterLink").style.display="none";document.getElementById("signOutLinkButton").style.display="none"}else if(null!=document.getElementById("oboRegisterLink")&&null!=document.getElementById("signOutLinkButton")){document.getElementById("oboRegisterLink").style.display="inline";document.getElementById("signOutLinkButton").style.display="none"}}function o(){var e=(dojo.cookie("WC_CartOrderId_".concat(WCParamJS.storeId)),dojo.cookie("rCartTotal"));if(null!=e&&void 0!=e){document.getElementById("cart-count")&&(document.getElementById("cart-count").innerHTML=e);document.getElementById("persistent-cart-count")&&(document.getElementById("persistent-cart-count").innerHTML=e);document.getElementById("mobile-cart-count")&&(document.getElementById("mobile-cart-count").innerHTML=e)}}function a(){null!=document.getElementById("RemovedCartCheck")&&(document.getElementById("RemovedCartCheck").value="No");if(null!=document.getElementById("RemovedOrdCount")){var e=document.getElementById("RemovedOrdCount").value;document.getElementById("removeCartUndo_"+e)?document.getElementById("removeCartUndo_"+e).innerHTML=" ":document.getElementById("removeCartUndo")&&(document.getElementById("removeCartUndo").innerHTML=" ")}document.getElementById("removeCartUndo_last")&&(document.getElementById("removeCartUndo_last").innerHTML=" ");null!=document.getElementById("UndoValue")&&(document.getElementById("UndoValue").value="No");null!=document.getElementById("RDScheduleFrqValue")&&(document.getElementById("RDScheduleFrqValue").value="");null!=document.getElementById("removedAttrNames")&&(document.getElementById("removedAttrNames").value="");null!=document.getElementById("removedAttrvalue")&&(document.getElementById("removedAttrvalue").value="");null!=document.getElementById("RemovedDonation")&&(document.getElementById("RemovedDonation").value="")}$(document).ready(function(){try{if(dojo.byId("checkoutHeaderIdForJS"))return;t();o();a()}catch(e){console.log(e)}})}();wc.service.declare({id:"AjaxPetcoGetLocation",actionId:"AjaxPetcoGetLocation",url:getAbsoluteURL()+"AjaxPetcoGetLocation",formId:"",successHandler:function(e){var t=null!=e.city?e.city:"",o="";o=null!=dojo.byId("cookieDomain")?dojo.byId("cookieDomain").value:".petco.com";dojo.cookie("petco-us-city",t,{path:"/",domain:o});dojo.topic.publish("cookieAddedForPhysicalStoreId",t)},failureHandler:function(e){console.log("Error in AjaxPetcoGetLocation. "+e.errorMessage)}});var petcoLocation=function(){function e(e){var t=getCookie(e),o=!1;null!=t&&""!=t&&(o=!0);return o}function t(){var e,t=null!=getCookie(a)?getCookie(a):"",o=window.matchMedia("(max-width: 768px)").matches,n="Local",r="local";if(t){t=t.replace(/%20/g," ");(!o||t.length<15)&&(n=t);r=t}$(".petco-us-city-upper").html(n);$(".petco-us-city-lower").html(r);$(".petco-us-city-upper-full").html(r);var i=dojo.cookie("WC_UserId"),s="nearestStore_"+i,l=!1;LOCALSTORAGE_STORES_KEY="petcostores";if(null!=localStorage.getItem(LOCALSTORAGE_STORES_KEY)){oNearestStores=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY));if(null!=oNearestStores&&"undefined"!=typeof oNearestStores.petcostores){aPetcostores=JSON.parse(oNearestStores.petcostores);if(void 0!=aPetcostores&&null!=aPetcostores){oNearestStores=aPetcostores[0];e="undefined"!=oNearestStores.DSNAME?oNearestStores.DSNAME:sessionStorage.getItem(s);l=!0}else{var d=sessionStorage.getItem(s);if(null!=d&&"undefined"!=typeof d){e=d;l=!0}}}}else{var d=sessionStorage.getItem(s);if(null!=d&&"undefined"!=typeof d){e=d;l=!0}}if(l){var c=e+" Pet Services";e=e.replace(/[\W_]/g," ").split(/\s+/).slice(0,2).join(" ");var u=e;u.length>10&&(u=u.substring(0,10)+"...");$(".petco-us-city-upper-full").html(e);$(".petco-us-city-upper").html(u);$("#pet-services").attr("title",c)}}function o(t,o,n){try{var r=e(a),i=_akamaiCookie,s="",l=[];l.storeId=t;l.langId=n;l.catalogId=o;if(r)return!1;s=getCookie(i);if(null!=s&&""!=s){l.cityKey=s;wc.service.invoke("AjaxPetcoGetLocation",l)}}catch(e){console.log("An error has occured in petcoCommonJS.setPetcoLocationCookie. "+e)}}var a="petco-us-city";_akamaiCookie="Edgescape-City";$(".lsa-location").bind("DOMSubtreeModified",function(){var e=this.innerHTML;e&&e.indexOf("<br>")!==-1&&(e=e.split("<br>")[0]);if("undefined"!=e&&""!=e){$("#pet-services").attr("title",e+" Pet Services");e=e.replace(/[\W_]/g," ").split(/\s+/).slice(0,2).join(" ");var t=e;t.length>10&&(t=t.substring(0,10)+"...");$(".petco-us-city-upper").html(t);$(".petco-us-city-upper-full").html(e)}});return{setPetcoLocationCookie:o,populateCity:t}}(),petcoNearestLocations=function(){function fnXHRCall(e){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnXHRCall()");var t=e||{};t.method=e.method||"GET";t.url=e.url||"";t.contentType=e.contentType||"application/json";t.dataType=e.dataType||"json";t.data=e.data||{};t.timeout=e.timeout||_nXHRTimeout;t.requestType=e.requestType||"";if(_bIsDebuggingEnabled){console.debug("Debugging:: oRequestInfo object - "+JSON.stringify(t));console.debug("Debugging:: Entering $.ajax()")}$.ajax({url:t.url,type:t.method,contentType:t.contentType,dataType:t.dataType,data:JSON.stringify(t.data),cache:!1,timeout:t.timeout,success:function(e){fnSuccessHandler(e,t.requestType)},error:function(e){fnErrorHandler(e,t.requestType)}});_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnXHRCall()")}function fnBuildUrl(e){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnBuildUrl(urlType)");console.debug("Debugging:: urlType - "+e)}var t="",o=window.location.protocol,a=window.location.hostname,n=window.location.port,r="/wcs/resources/store/"+_sStoreId+"/petcostorelocator/";$('div.previewEspot[id^="ShowInformation_ID_"]').length>0&&(r="/wcs/previewresources/store/"+_sStoreId+"/petcostorelocator/");""!=n&&(a=a+":"+n);e==NEAREST_STORES_API?t=_sGoogleAPIUrl+_sKey:e==LATITUDE_LONGITUDE_API?t=o+"//"+a+r+"latitude/"+_geoLatitude+"/longitude/"+_geoLongitude+"/"+NEAREST_STORES_API:e==ZIPCODE_API?t=o+"//"+a+r+"getneareststoresbyzipcode":e==AKAMAI_ZIPCODE&&(t=o+"//"+a+r+"getneareststoresbyzipcode");if(_bIsDebuggingEnabled){console.debug("Debugging:: url - "+t);console.debug("Debugging:: Exiting fnBuildUrl(urlType)")}""!=_storePassedAsParam&&(t=t.indexOf("?")==-1?t+"?storeCode="+_storePassedAsParam:t+"&storeCode="+_storePassedAsParam);return t}function fnGeoLocation(){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnGeoLocation()");console.debug("Debugging:: _bIsHTML5Geolocation - "+_bIsHTML5Geolocation);console.debug("Debugging:: _bIsGoogleGeoAPI - "+_bIsGoogleGeoAPI)}if(_bIsHTML5Geolocation){_bIsDebuggingEnabled&&console.debug("Debugging:: navigator.geolocation - "+navigator.geolocation);if(navigator&&navigator.geolocation){var e={enableHighAccuracy:!0,timeout:_nHTML5GeoTimeout};navigator.geolocation.getCurrentPosition(fnProcessGeoResponse,fnProcessGeoError,e);jQuery(window).load(function(){setTimeout(function(){if(!IS_HTML5_CALL_COMPLETED){var e={};e.code=5;fnProcessGeoError(e);IS_HTML5_CALL_COMPLETED=!0}},_nHTML5GeoTimeout)})}else if(_bIsGoogleGeoAPI){_bIsDebuggingEnabled&&console.debug('Debugging:: HTML5 Geolocation is not used. Calling the fnGetData("neareststores").');fnGetData(NEAREST_STORES_API)}else{_bIsDebuggingEnabled&&console.debug("Debugging:: HTML5 Geolocation is not used and Google API is disabled. Inside the logic to show the link for select a store.");if(fnIsPDP()&&fnIsBOPUSItem()){0!=$("#isBOPUSHide").length&&($("#isBOPUSHide")[0].value="yes");dojo.topic.publish("ChangeBasedOnLocationCallCompleted","hide")}localStorage.setItem(LOCALSTORAGE_TIMEOUT_KEY,"true")}}else{if(_bIsDebuggingEnabled){console.debug("Debugging:: HTML5 Geolocation switch is off. _bIsHTML5Geolocation - "+_bIsHTML5Geolocation);console.debug("Debugging:: _bIsGoogleGeoAPI - "+_bIsGoogleGeoAPI)}if(_bIsGoogleGeoAPI){_bIsDebuggingEnabled&&console.debug('Debugging:: HTML5 Geolocation is disabled. Google API is enabled. Calling the fnGetData("neareststores").');fnGetData(NEAREST_STORES_API)}else{_bIsDebuggingEnabled&&console.debug("Debugging:: HTML5 Geolocation is disabled and Google API is disabled.");if(fnIsPDP()&&fnIsBOPUSItem()){_bIsDebuggingEnabled&&console.debug("Debugging:: Hide the store locator section.");fnHideStoreLocatorSection()}localStorage.setItem(LOCALSTORAGE_TIMEOUT_KEY,"true")}}_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnGeoLocation().")}function fnGeoLocationFromLatLongLocalStorage(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnGeoLocationFromLatLongLocalStorage()");var e=null!=JSON.parse(localStorage.getItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY))?JSON.parse(localStorage.getItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY)):{};if(null!=e&&0!=Object.keys(e).length){_geoLatitude=e.latitude;_geoLongitude=e.longitude;if(_bIsDebuggingEnabled){console.debug("Debugging:: latitude - "+_geoLatitude);console.debug("Debugging:: longitude - "+_geoLongitude);console.debug('Debugging:: Calling fnGetData("latlong")')}fnGetData(LATITUDE_LONGITUDE_API)}_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnGeoLocationFromLatLongLocalStorage().")}function fnProcessGeoError(e){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnProcessGeoError(oError).");if(!IS_HTML5_CALL_COMPLETED){IS_HTML5_CALL_COMPLETED=!0;var t=e.code,o={1:"Permission denied",2:"Position unavailable",3:"Request timeout",4:"Unknown error",5:"No input from user"};if(t){if(_bIsDebuggingEnabled){console.debug("Debugging:: Error - "+o[t]);console.debug("Debugging:: _bIsGoogleGeoAPI - "+_bIsGoogleGeoAPI)}if("5"==t){_bIsDebuggingEnabled&&console.debug("Debugging:: User did not allow or block HTML5 location. Take value from Akamai lat long.");fnGetData("AKAMAI_LATLONG")}else if(_bIsGoogleGeoAPI&&"5"!=t){_bIsDebuggingEnabled&&console.debug('Debugging:: Google API is enabled. Calling the fnGetData("neareststores").');fnGetData(NEAREST_STORES_API)}else{_bIsDebuggingEnabled&&console.debug("Debugging:: Google API is disabled. Inside the logic to show the link for select a store.");if(fnIsPDP()&&fnIsBOPUSItem()){_bIsDebuggingEnabled&&console.debug("Debugging:: Hide the store locator section.");fnHideStoreLocatorSection()}localStorage.setItem(LOCALSTORAGE_TIMEOUT_KEY,"true")}}dojo.topic.publish("callCompletedforLocationCheck","Not-AKAMAI");_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnProcessGeoError(oError).")}}function fnProcessGeoResponse(e){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnProcessGeoResponse(oPosition).");if(!IS_HTML5_CALL_COMPLETED){IS_HTML5_CALL_COMPLETED=!0;_geoLatitude=e.coords.latitude;_geoLongitude=e.coords.longitude;if(_bIsDebuggingEnabled){console.debug("Debugging:: latitude - "+_geoLatitude);console.debug("Debugging:: longitude - "+_geoLongitude);console.debug('Debugging:: Calling fnGetData("latlong")')}fnGetData(LATITUDE_LONGITUDE_API);fnLatitudeLongitudeSetLocalStorage(_geoLatitude,_geoLongitude);_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnProcessGeoResponse(oPosition).")}}function fnLatitudeLongitudeSetLocalStorage(e,t){localStorage.removeItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY);if(""!=e&&""!=t){var o={};o.latitude=e;o.longitude=t;var a=60*_nLocationExpirationMin*1e3;o.timestamp=_timestamp+a;localStorage.setItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY,JSON.stringify(o))}}function fnGetData(e,t){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnGetData(requestType).");console.debug("Debugging:: requestType - "+e)}if(e==NEAREST_STORES_API){_bIsDebuggingEnabled&&console.debug("Debugging:: Calling fnXHRCall({method: 'POST', url: fnBuildUrl(NEAREST_STORES_API)});");fnXHRCall({method:"POST",url:fnBuildUrl(NEAREST_STORES_API),requestType:NEAREST_STORES_API,dataType:"json",contentType:"application/json"})}else if("AKAMAI_LATLONG"==e){_bIsDebuggingEnabled&&console.debug("Debugging:: Calling fnXHRCall({method: 'GET', url: fnBuildUrl(LATITUDE_LONGITUDE_API)});");var o=dojo.cookie("Edgescape-Country"),a=dojo.cookie("Edgescape-Lat"),n=dojo.cookie("Edgescape-Long");if("undefined"!=typeof o&&"US"==o&&"undefined"!=typeof a&&"undefined"!=typeof n){_geoLatitude=a;_geoLongitude=n;fnLatitudeLongitudeSetLocalStorage(_geoLatitude,_geoLongitude);fnXHRCall({method:"GET",url:fnBuildUrl(LATITUDE_LONGITUDE_API)})}else fnGetData(NEAREST_STORES_API)}else if(e==LATITUDE_LONGITUDE_API){_bIsDebuggingEnabled&&console.debug("Debugging:: Calling fnXHRCall({method: 'GET', url: fnBuildUrl(LATITUDE_LONGITUDE_API)});");fnXHRCall({method:"GET",url:fnBuildUrl(LATITUDE_LONGITUDE_API)})}else e==ZIPCODE_API?fnXHRCall("undefined"!=typeof t?{method:"POST",url:fnBuildUrl(ZIPCODE_API),requestType:ZIPCODE_API,data:fnZIPCodeData(t),contentType:"application/json"}:{method:"POST",url:fnBuildUrl(ZIPCODE_API),requestType:ZIPCODE_API,data:fnZIPCodeData(),contentType:"application/json"}):e==AKAMAI_ZIPCODE&&fnXHRCall({method:"POST",url:fnBuildUrl(AKAMAI_ZIPCODE),requestType:AKAMAI_ZIPCODE,data:fnAkamaiZIPCodeData(),contentType:"application/json"});_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnGetData(requestType).")}function fnCheckLocalStorage(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnCheckLocalStorage().");var e=null!=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY))?JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY)):{},t=!1;if(null!=e&&0!=Object.keys(e).length){var o={};"undefined"!=typeof e.petcostores&&(o=null!=JSON.parse(e.petcostores)?JSON.parse(e.petcostores):{});if(e.timestamp>0&&_timestamp>e.timestamp){localStorage.removeItem(LOCALSTORAGE_STORES_KEY);e={};fnCreateCookie("WC_physicalStores","",-100);t=!0}else if(0==parseInt(e.timestamp))t=!1;else if(null!=o&&0==Object.keys(o).length){localStorage.removeItem(LOCALSTORAGE_STORES_KEY);e={};fnCreateCookie("WC_physicalStores","",-100);t=!0}}if(null==e||0==Object.keys(e).length||"true"==localStorage.getItem(LOCALSTORAGE_TIMEOUT_KEY)&&0==Object.keys(e.userDetails).length){localStorage.removeItem(LOCALSTORAGE_STORES_KEY);fnCreateCookie("WC_physicalStores","",-100);localStorage.removeItem(LOCALSTORAGE_TIMEOUT_KEY);t=!0}if(_bIsDebuggingEnabled){console.debug("Debugging:: oNeareststores - "+JSON.stringify(e));console.debug("Debugging:: bGetData - "+t);console.debug("Debugging:: Exiting fnCheckLocalStorage().")}return t}function fnCheckLocalStorageLatLong(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnCheckLocalStorageLatLong().");var e=null!=JSON.parse(localStorage.getItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY))?JSON.parse(localStorage.getItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY)):{},t=!1;if(null!=e&&0!=Object.keys(e).length)if(e.timestamp>0&&_timestamp>e.timestamp){localStorage.removeItem(LOCALSTORAGE_LATITUDE_LONGITUDE_KEY);e={};t=!0}else 0==parseInt(e.timestamp)&&(t=!1);else t=!0;if(_bIsDebuggingEnabled){console.debug("Debugging:: oLatLongData - "+JSON.stringify(e));console.debug("Debugging:: bGetData - "+t);console.debug("Debugging:: Exiting fnCheckLocalStorageLatLong().")}return t}function fnSuccessHandler(e,t){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnSuccessHandler(oData).");var o={},a={},n=60*_nExpirationMin*1e3;if(e.hasOwnProperty("location")&&t==NEAREST_STORES_API){_geoLatitude=e.location.lat;_geoLongitude=e.location.lng;fnLatitudeLongitudeSetLocalStorage(_geoLatitude,_geoLongitude);fnGetData(LATITUDE_LONGITUDE_API)}else if(e.stores&&e.stores.length>0){a=e.storeHours&&Object.keys(e.storeHours).length>0?e.storeHours:{};if(fnIsPDP()&&fnIsBOPUSItem()||fnIsCartPage()){if(t==ZIPCODE_API){fnHideXHRLoader();fnBuildModalUI(e.stores,a)}else{if(parseInt(_nExpirationMin)>0){o={petcostores:JSON.stringify(e.stores),shipmodes:JSON.stringify(e.shipmodedetails),storehours:JSON.stringify(a),userDetails:JSON.stringify(e.userDetails),timestamp:_timestamp+n};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}else{o={petcostores:JSON.stringify(e.stores),shipmodes:JSON.stringify(e.shipmodedetails),storehours:JSON.stringify(a),userDetails:JSON.stringify(e.userDetails),timestamp:0};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}fnSetPhysicalStoreCookie("WC_physicalStores",e.stores);fnBuildStoreInfoUI(e.stores,"",a)}for(i=0;i<e.stores.length;i++)_tempStoreData.push(e.stores[i]);_userData=e.userDetails;_oStoreHours=a;"undefined"!=typeof e.shipmodedetails&&(_shipmodedetails=e.shipmodedetails)}else{if(parseInt(_nExpirationMin)>0){o={petcostores:JSON.stringify(e.stores),shipmodes:JSON.stringify(e.shipmodedetails),storehours:JSON.stringify(a),userDetails:JSON.stringify(e.userDetails),timestamp:_timestamp+n};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}else{o={petcostores:JSON.stringify(e.stores),shipmodes:JSON.stringify(e.shipmodedetails),storehours:JSON.stringify(a),userDetails:JSON.stringify(e.userDetails),timestamp:0};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}fnSetPhysicalStoreCookie("WC_physicalStores",e.stores);fnBuildStoreInfoUI(e.stores)}localStorage.removeItem(LOCALSTORAGE_TIMEOUT_KEY)}else if(fnIsPDP()&&fnIsBOPUSItem()||fnIsCartPage()){_bIsDebuggingEnabled&&console.debug("Debugging:: Hide the store locator section.");if(t==ZIPCODE_API){fnHideXHRLoader();if(""==_nLastStoreDistance){var r=$(".row-set");$(r[0]).is(":visible")&&$(r).each(function(){$(this).remove()});$("#petco-store-locator-modal").append('<div id="store-locator-error-message" class="col-8 error-box">'+MessageHelper.messages.STORE_LOCATOR_MODAL_ERROR+"</div>");$("#load-more-button").removeClass("disabled").addClass("btn-primary").attr("onclick","petcoNearestLocations.fnGetMoreStores();return false;");$("#load-more-button").removeAttr("disabled","disabled");$("#load-more-button").hide()}else{$("#load-more-button").addClass("disabled").removeClass("btn-primary").removeAttr("onclick");$("#load-more-button").attr("disabled","disabled");$("#no-more-stores").show()}return!1}if(e.userDetails&&Object.keys(e.userDetails).length>0)if(parseInt(_nExpirationMin)>0){o={userDetails:JSON.stringify(e.userDetails),timestamp:_timestamp+n};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}else{o={userDetails:JSON.stringify(e.userDetails),timestamp:0};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}fnHideStoreLocatorSection()}else if(e.userDetails&&Object.keys(e.userDetails).length>0)if(parseInt(_nExpirationMin)>0){o={userDetails:JSON.stringify(e.userDetails),timestamp:_timestamp+n};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}else{o={userDetails:JSON.stringify(e.userDetails),timestamp:0};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o))}else localStorage.setItem(LOCALSTORAGE_TIMEOUT_KEY,"true");_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnSuccessHandler(oData).");if(t==AKAMAI_ZIPCODE||NoakamaiCalled){if(!akamaiCalled){akamaiCalled=!0;dojo.topic.publish("callCompletedforLocationCheck","AKAMAI")}}else{NoakamaiCalled=!0;dojo.topic.publish("callCompletedforLocationCheck","Not-AKAMAI")}dojo.topic.publish("BopusAreaRestrictionCheck","AjaxComplete");_populate_Service_location()}function fnErrorHandler(e,t){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnErrorHandler(oError).");console.debug("Debugging:: oError.statusText - "+e.statusText)}if(fnIsPDP()&&fnIsBOPUSItem()||fnIsCartPage()){if(t==ZIPCODE_API){fnHideXHRLoader();if(""==_nLastStoreDistance){var o=$(".row-set");$(o[0]).is(":visible")&&$(o).each(function(){$(this).remove()});$("#petco-store-locator-modal").append('<div id="store-locator-error-message" class="col-8 error-box">'+MessageHelper.messages.STORE_LOCATOR_MODAL_ERROR+"</div>");$("#load-more-button").removeClass("disabled").addClass("btn-primary").attr("onclick","petcoNearestLocations.fnGetMoreStores();return false;");$("#load-more-button").removeAttr("disabled","disabled");$("#load-more-button").hide();$("#no-more-stores").hide()}return!1}_bIsDebuggingEnabled&&console.debug("Debugging:: Hide the store locator section.");"timeout"!=e.statusText&&"error"!=e.statusText||localStorage.setItem(LOCALSTORAGE_TIMEOUT_KEY,"true");fnHideStoreLocatorSection();localStorage.removeItem(LOCALSTORAGE_STORES_KEY);fnCreateCookie("WC_physicalStores","",-100)}else if("timeout"==e.statusText||"error"==e.statusText){localStorage.setItem(LOCALSTORAGE_TIMEOUT_KEY,"true");localStorage.removeItem(LOCALSTORAGE_STORES_KEY);fnCreateCookie("WC_physicalStores","",-100)}t!=AKAMAI_ZIPCODE?dojo.topic.publish("callCompletedforLocationCheck","Not-AKAMAI"):dojo.topic.publish("callCompletedforLocationCheck","AKAMAI");_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnErrorHandler(oError).")}function fnIsCartPage(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnIsCartPage().");var e=!1,t=$("div.cart-product-listing div.standard-products-list div.cart-product-details");if(t.length>0)e=!0;else{t=$("article.cart-product-item");t.length>0&&(e=!0)}if(_bIsDebuggingEnabled){console.debug("Debugging:: Exiting fnIsCartPage().");console.debug("Debugging:: fnIsCartPage - "+fnIsCartPage)}return e}function fnIsPDP(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnIsPDP().");var e=!1,t=$('div[data-pageType="product-detail-page"]');t.length>0&&(e=!0);if(_bIsDebuggingEnabled){console.debug("Debugging:: Exiting fnIsPDP().");console.debug("Debugging:: bIsPDP - "+e)}return e}function fnBuildStoreInfoUI(e,t,o){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnBuildStoreInfoUI(oStoreData).");var a={},n={},r=[],s=t||"",l="",d="";$("#storeZipCode").val("");if(e&&"undefined"!=typeof e){a=e[0];"Y"==a.isPreferred&&e.length>1?$("#storeZipCode").val(e[1].ZIPCODE):$("#storeZipCode").val(a.ZIPCODE)}else{var c=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY)),u=JSON.parse(c.petcostores);if("undefined"!=typeof c.petcostores&&u.length>0){setTimeout(function(){checkIfStoreStatusAndClearStorage(JSON.parse(p.petcostores))},500);r=JSON.parse(c.petcostores);for(i=0;i<r.length;i++)_tempStoreData.push(r[i]);a=r[0];"Y"==a.isPreferred&&r.length>1?$("#storeZipCode").val(r[1].ZIPCODE):$("#storeZipCode").val(a.ZIPCODE)}}if(null!=o&&""!=o&&"undefined"!=typeof o)n=o;else{var p=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY));"undefined"!=typeof p.storehours&&(n=JSON.parse(p.storehours))}"PetcoStoreDetailsView?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&stlocId="+a.IDENTIFIER;if(null!=a&&Object.keys(a).length>0){fnHideStoreLink();var m=document.getElementById("bopusSelectStails");if(null!=m&&"true"==m.value){var g=$("#bopusdeailsInStockSelectable"),f=$("#bopusdeailsNotAvailableSelectable"),h=$("#bopusdeailsLowInventorySelectable"),v=document.getElementById("bopusSelectEnabledBopusAttrOn");if(null!=v){v.classList.add("show");v.classList.remove("hide")}else if(null!=v){v.classList.add("hide");v.classList.remove("show");setTimeout(function(){productDisplayJS.addBOPUSDetailsForInstock(a.STATE)},1e3)}if(""!=s)if("Available"==s){g.removeClass("hide");g.addClass("show");f.removeClass("show");f.addClass("hide");h.removeClass("show");h.addClass("hide")}else{g.removeClass("show");g.addClass("hide");f.removeClass("hide");f.addClass("show");h.removeClass("show");h.addClass("hide")}d=a.DSNAME;if("undefined"!=typeof d)if(d.toLowerCase().indexOf("unleashed")!=-1&&d.lastIndexOf("-")!=-1){$("span.selectableBopusSection .show .lsa-location").html(d.replace("-","<br>"));$("span#frozenFood .lsa-location").html(d.replace("-","<br>"))}else{$("span.selectableBopusSection .show .lsa-location").html(d);$("span#frozenFood .lsa-location").html(d)}if(null!=a.ADDRESS2&&""!=a.ADDRESS2){$("span.selectableBopusSection .show .lsa-street-address").text(a.ADDRESS1+" "+a.ADDRESS2);$("span#frozenFood .lsa-street-address").text(a.ADDRESS1+" "+a.ADDRESS2)}else{$("span.selectableBopusSection .show .lsa-street-address").text(a.ADDRESS1);$("span#frozenFood .lsa-street-address").text(a.ADDRESS1)}$("#CurrentBOPUSState").val(a.STATE);$("span.selectableBopusSection .show .lsa-city-state-zip").html(a.CITY+", "+a.STATE+'&nbsp;<span id="store-loc-zip-code">'+a.ZIPCODE+"</span>");$("span.selectableBopusSection .show .lsa-phone").text(a.PHONE);$("span#frozenFood .lsa-city-state-zip").html(a.CITY+", "+a.STATE+'&nbsp;<span id="store-loc-zip-code">'+a.ZIPCODE+"</span>");$("span#frozenFood .lsa-phone").text(a.PHONE);var _=new Date,y=new Date;if(n.hasOwnProperty(a.IDENTIFIER)){if("00:00:00"==n[a.IDENTIFIER].T1OPEN&&"00:00:00"==n[a.IDENTIFIER].T1CLOSE)l="<strong>Mon</strong><span>Closed</span><br/>";else{l="<strong>Mon</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T1OPEN.substring(0,n[a.IDENTIFIER].T1OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T1CLOSE.substring(0,n[a.IDENTIFIER].T1CLOSE.lastIndexOf(":")))+"</span><br/>";if("1"==_.getDay()&&null!=n[a.IDENTIFIER].T1CLOSE){_.setHours(n[a.IDENTIFIER].T1CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}if("00:00:00"==n[a.IDENTIFIER].T2OPEN&&"00:00:00"==n[a.IDENTIFIER].T2CLOSE)l+="<strong>Tue</strong><span>Closed</span><br/>";else{l+="<strong>Tue</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T2OPEN.substring(0,n[a.IDENTIFIER].T2OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T2CLOSE.substring(0,n[a.IDENTIFIER].T2CLOSE.lastIndexOf(":")))+"</span><br/>";if("2"==_.getDay()&&null!=n[a.IDENTIFIER].T2CLOSE){_.setHours(n[a.IDENTIFIER].T2CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}if("00:00:00"==n[a.IDENTIFIER].T3OPEN&&"00:00:00"==n[a.IDENTIFIER].T3CLOSE)l+="<strong>Wed</strong><span>Closed</span><br/>";else{l+="<strong>Wed</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T3OPEN.substring(0,n[a.IDENTIFIER].T3OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T3CLOSE.substring(0,n[a.IDENTIFIER].T3CLOSE.lastIndexOf(":")))+"</span><br/>";if("3"==_.getDay()&&null!=n[a.IDENTIFIER].T3CLOSE){_.setHours(n[a.IDENTIFIER].T3CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}if("00:00:00"==n[a.IDENTIFIER].T4OPEN&&"00:00:00"==n[a.IDENTIFIER].T4CLOSE)l+="<strong>Thu</strong><span>Closed</span><br/>";else{l+="<strong>Thu</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T4OPEN.substring(0,n[a.IDENTIFIER].T4OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T4CLOSE.substring(0,n[a.IDENTIFIER].T4CLOSE.lastIndexOf(":")))+"</span><br/>";
if("4"==_.getDay()&&null!=n[a.IDENTIFIER].T4CLOSE){_.setHours(n[a.IDENTIFIER].T4CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}if("00:00:00"==n[a.IDENTIFIER].T5OPEN&&"00:00:00"==n[a.IDENTIFIER].T5CLOSE)l+="<strong>Fri</strong><span>Closed</span><br/>";else{l+="<strong>Fri</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T5OPEN.substring(0,n[a.IDENTIFIER].T5OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T5CLOSE.substring(0,n[a.IDENTIFIER].T5CLOSE.lastIndexOf(":")))+"</span><br/>";if("5"==_.getDay()&&null!=n[a.IDENTIFIER].T5CLOSE){_.setHours(n[a.IDENTIFIER].T5CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}if("00:00:00"==n[a.IDENTIFIER].T6OPEN&&"00:00:00"==n[a.IDENTIFIER].T6CLOSE)l+="<strong>Sat</strong><span>Closed</span><br/>";else{l+="<strong>Sat</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T6OPEN.substring(0,n[a.IDENTIFIER].T6OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T6CLOSE.substring(0,n[a.IDENTIFIER].T6CLOSE.lastIndexOf(":")))+"</span><br/>";if("6"==_.getDay()&&null!=n[a.IDENTIFIER].T6CLOSE){_.setHours(n[a.IDENTIFIER].T6CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}if("00:00:00"==n[a.IDENTIFIER].T7OPEN&&"00:00:00"==n[a.IDENTIFIER].T7CLOSE)l+="<strong>Sun</strong><span>Closed</span>";else{l+="<strong>Sun</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T7OPEN.substring(0,n[a.IDENTIFIER].T7OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T7CLOSE.substring(0,n[a.IDENTIFIER].T7CLOSE.lastIndexOf(":")))+"</span>";if("0"==_.getDay()&&null!=n[a.IDENTIFIER].T7CLOSE){_.setHours(n[a.IDENTIFIER].T7CLOSE.substring(0,2),0,0,0);_.getHours()-y.getHours()<=2&&$("#bopus-option").text($("#bopusTitle_noRD").val())}}$("span.selectableBopusSection .show .lsa-hours").html('<a tabindex="0" href="javascript:void(0)" data-placement="top" data-toggle="popover" data-trigger="click" data-content="'+l+'">Store Hours</a>');$("span#frozenFood .lsa-hours").html('<a tabindex="0" href="javascript:void(0)" data-placement="top" data-toggle="popover" data-trigger="click" data-content="'+l+'">Store Hours</a>')}if(($("#bopusdeailsNotAvailableSelectable.show").length>0||$("#bopusdeailsLowInventorySelectable.show").length>0)&&$("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Not Available";$("#add2CartBtn_bopus")[0].disabled=!0}else if($("#bopusdeailsInStockSelectable.show").length>0&&$("#add2CartBtn_bopus").length>0){$("#add2CartBtn_bopus")[0].innerHTML="Add to Cart";$("#add2CartBtn_bopus")[0].disabled=!1;$("#pdp_atc").parent().length>0&&$("#pdp_atc").parent()[0].classList.contains("hide")&&$("#pdp_atc").parent().removeClass("hide")}}else{var I=$("#bopusdeailsInStock"),S=$("#bopusdeailsNotAvailable"),C=$("#bopusdeailsLowInventory");if(""!=s)if("Available"==s){I.removeClass("hide");I.addClass("show");S.removeClass("show");S.addClass("hide");C.removeClass("show");C.addClass("hide")}else{I.removeClass("show");I.addClass("hide");S.removeClass("hide");S.addClass("show");C.removeClass("show");C.addClass("hide")}d=a.DSNAME;d.toLowerCase().indexOf("unleashed")!=-1&&d.lastIndexOf("-")!=-1?$("#store-name").html(d.replace("-","<br>")):$("#store-name").html(d);null!=a.ADDRESS2&&""!=a.ADDRESS2?$("#store-street-address").text(a.ADDRESS1+" "+a.ADDRESS2):$("#store-street-address").text(a.ADDRESS1);$("#store-city-state-zip").html(a.CITY+", "+a.STATE+'&nbsp;<span id="store-loc-zip-code">'+a.ZIPCODE+"</span>");$("#store-phone").text(a.PHONE);if(n.hasOwnProperty(a.IDENTIFIER)){l="00:00:00"==n[a.IDENTIFIER].T1OPEN&&"00:00:00"==n[a.IDENTIFIER].T1CLOSE?"<strong>Mon</strong><span>Closed</span><br/>":"<strong>Mon</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T1OPEN.substring(0,n[a.IDENTIFIER].T1OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T1CLOSE.substring(0,n[a.IDENTIFIER].T1CLOSE.lastIndexOf(":")))+"</span><br/>";l+="00:00:00"==n[a.IDENTIFIER].T2OPEN&&"00:00:00"==n[a.IDENTIFIER].T2CLOSE?"<strong>Tue</strong><span>Closed</span><br/>":"<strong>Tue</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T2OPEN.substring(0,n[a.IDENTIFIER].T2OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T2CLOSE.substring(0,n[a.IDENTIFIER].T2CLOSE.lastIndexOf(":")))+"</span><br/>";l+="00:00:00"==n[a.IDENTIFIER].T3OPEN&&"00:00:00"==n[a.IDENTIFIER].T3CLOSE?"<strong>Wed</strong><span>Closed</span><br/>":"<strong>Wed</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T3OPEN.substring(0,n[a.IDENTIFIER].T3OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T3CLOSE.substring(0,n[a.IDENTIFIER].T3CLOSE.lastIndexOf(":")))+"</span><br/>";l+="00:00:00"==n[a.IDENTIFIER].T4OPEN&&"00:00:00"==n[a.IDENTIFIER].T4CLOSE?"<strong>Thu</strong><span>Closed</span><br/>":"<strong>Thu</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T4OPEN.substring(0,n[a.IDENTIFIER].T4OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T4CLOSE.substring(0,n[a.IDENTIFIER].T4CLOSE.lastIndexOf(":")))+"</span><br/>";l+="00:00:00"==n[a.IDENTIFIER].T5OPEN&&"00:00:00"==n[a.IDENTIFIER].T5CLOSE?"<strong>Fri</strong><span>Closed</span><br/>":"<strong>Fri</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T5OPEN.substring(0,n[a.IDENTIFIER].T5OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T5CLOSE.substring(0,n[a.IDENTIFIER].T5CLOSE.lastIndexOf(":")))+"</span><br/>";l+="00:00:00"==n[a.IDENTIFIER].T6OPEN&&"00:00:00"==n[a.IDENTIFIER].T6CLOSE?"<strong>Sat</strong><span>Closed</span><br/>":"<strong>Sat</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T6OPEN.substring(0,n[a.IDENTIFIER].T6OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T6CLOSE.substring(0,n[a.IDENTIFIER].T6CLOSE.lastIndexOf(":")))+"</span><br/>";l+="00:00:00"==n[a.IDENTIFIER].T7OPEN&&"00:00:00"==n[a.IDENTIFIER].T7CLOSE?"<strong>Sun</strong><span>Closed</span>":"<strong>Sun</strong><span>"+fnToDateTimeFormat(n[a.IDENTIFIER].T7OPEN.substring(0,n[a.IDENTIFIER].T7OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(n[a.IDENTIFIER].T7CLOSE.substring(0,n[a.IDENTIFIER].T7CLOSE.lastIndexOf(":")))+"</span>";$("#store-hours").html('<a href="javascript:void(0)" data-placement="top" data-toggle="popover" data-trigger="hover" data-content="'+l+'">Store Hours</a>')}}$("#modal-neareststores").is(":visible")&&fnCloseStoreInfoModal()}else fnDisplayStoreLink();if(_bIsDebuggingEnabled){console.debug("Debugging:: oNearestStores - "+a);console.debug("Debugging:: Exiting fnBuildStoreInfoUI(oStoreData).")}}function fnIsStoreClosed(e,t){if(null===e||""===e||e.indexOf(":")==-1||null===t||""===t||t.indexOf(":")==-1)return!1;var o=parseInt(e.split(":")[0]),a=parseInt(t.split(":")[0]),n=(new Date).getHours(),r=!1;(n<o||n>=a)&&(r=!0);return r}function fnDisplayStoreLink(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnDisplayStoreLink().");0!=$("#isBOPUSHide").length&&($("#isBOPUSHide")[0].value="no");$("#select-store-link").show();$("#bopis-store-info").hide();dojo.topic.publish("ChangeBasedOnLocationCallCompleted","show");_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnDisplayStoreLink().")}function fnHideStoreLink(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnHideStoreLink().");0!=$("#isBOPUSHide").length&&($("#isBOPUSHide")[0].value="no");$("#select-store-link").hide();$("#bopis-store-info").show();dojo.topic.publish("ChangeBasedOnLocationCallCompleted","show");_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnHideStoreLink().")}function fnHideStoreLocatorSection(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnHideStoreLocatorSection().");0!=$("#isBOPUSHide").length&&($("#isBOPUSHide")[0].value="yes");dojo.topic.publish("ChangeBasedOnLocationCallCompleted","hide");_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnHideStoreLocatorSection().")}function fnSetPhysicalStoreCookie(e,t){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnSetPhysicalStoreCookie(cookieName).");console.debug("Debugging:: storeData - "+JSON.stringify(t))}var o=t.length<=5?t.length:5,a="";for(i=0;i<o;i++)a+=t[i].STLOC_ID+(i!=o-1?"%2C":"");var n=$("#expirationMin");fnCreateCookie(e,a,n.val());""!=a&&dojo.topic.publish("cookieAddedForPhysicalStoreId",a);if(_bIsDebuggingEnabled){console.debug("Debugging:: cookieName - "+e);console.debug("Debugging:: cookieValue - "+a);console.debug("Debugging:: Exiting fnSetPhysicalStoreCookie(cookieName).")}}function fnCreateCookie(e,t,o){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnCreateCookie(name, value, mins).");console.debug("Debugging:: name - "+e);console.debug("Debugging:: value - "+t);console.debug("Debugging:: mins - "+o)}var a,n=document.location.hostname;n.substring(n.lastIndexOf(".",n.lastIndexOf(".")-1));if(o){var r=new Date;r.setTime(r.getTime()+60*o*1e3);a="; expires="+r.toGMTString()}else a="";document.cookie=e+"="+t+a+";path=/";_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnCreateCookie(name, value, mins).")}function fnIsBOPUSItem(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnIsBOPUSItem().");var e=!1,t=null!=document.getElementById("isBOPUSEnabledItem")&&void 0!=document.getElementById("isBOPUSEnabledItem")?document.getElementById("isBOPUSEnabledItem").value:"";""!=t&&null!=t&&"yes"==t.toLowerCase()&&(e=!0);return e}function fnBuildModalUI(e,t){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnBuildModalUI(storeData).");var o=[],a=$(".row-set"),n="",r="",s="",l="",d="",c="",u="",p="",m="",g="",f="",h="",v="",_="",y="",I="",S={},C="",b="",E={},T=[];""==_nLastStoreDistance&&$(a).is(":visible")&&$(a).each(function(){$(this).remove()});if(e)o=e;else{var D=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY));if(Object.keys(D).length>0){o=JSON.parse(D.petcostores);o.sort(fnGetSortOrder("DISTANCE"))}}if(null!=t&&""!=t)S=t;else{var k=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY));S=JSON.parse(k.storehours)}if(o.length>0){for(i=0;i<o.length;i++)r+=o[i].STLOC_ID+(i!=o.length-1?",":"");fnGetInventory(r);for(i=0;i<o.length;i++){d=null!=o[i].DISTANCE?o[i].DISTANCE:"";c=null!=o[i].PETCOSTORE?o[i].PETCOSTORE:"";u=document.querySelectorAll(".petcoNextStoreLocatorModal").length>0?c.indexOf("PETCO")!=-1?PETCO_NEXT_STORE_LOGO:UNLEASHED_NEXT_STORE_LOGO:c.indexOf("PETCO")!=-1?PETCO_STORE_LOGO:UNLEASHED_STORE_LOGO;p=null!=o[i].ADDRESS1?o[i].ADDRESS1:"";m=null!=o[i].ADDRESS2?o[i].ADDRESS2:"";g=null!=o[i].DSNAME?o[i].DSNAME:"";f=null!=o[i].CITY?o[i].CITY:"";h=null!=o[i].STATE?o[i].STATE:"";v=null!=o[i].ZIPCODE?o[i].ZIPCODE:"";_=null!=o[i].PHONE?o[i].PHONE:"";I=null!=o[i].BOPUS?o[i].BOPUS:"";y=_oInStoreInventoryData[o[i].STLOC_ID];i==o.length-1&&(_nLastStoreDistance=null!=o[i].DISTANCE?o[i].DISTANCE:"");if("Y"==I)if("GREEN"==y){s="remaining text-bold text-center";y="Available"}else if("YELLOW"==y){s="text-notice text-bold text-center";y="Low Inventory"}else{s="text-danger text-bold text-center";y="Not Available"}else{s="text-bold text-center";y="Pickup Currently Unavailable"}g.indexOf("Unleashed")!=-1&&(g=g.substring(0,g.indexOf("Unleashed")-2));"Y"==o[i].isPreferred&&(g+="<span class='icon-stores-dark'></span><span class='mystoreIndicator text-normal text-x-small'>My Store</span>");l=null!=m&&""!=m?p+" "+m:p;if(S.hasOwnProperty(o[i].IDENTIFIER)){switch((new Date).getDay()){case 0:b="00:00:00"==S[o[i].IDENTIFIER].T7CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T7OPEN,S[o[i].IDENTIFIER].T7CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T1OPEN.substring(0,S[o[i].IDENTIFIER].T1OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T7CLOSE.substring(0,S[o[i].IDENTIFIER].T7CLOSE.lastIndexOf(":")));break;case 1:b="00:00:00"==S[o[i].IDENTIFIER].T1CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T1OPEN,S[o[i].IDENTIFIER].T1CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T2OPEN.substring(0,S[o[i].IDENTIFIER].T2OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T1CLOSE.substring(0,S[o[i].IDENTIFIER].T1CLOSE.lastIndexOf(":")));break;case 2:b="00:00:00"==S[o[i].IDENTIFIER].T2CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T2OPEN,S[o[i].IDENTIFIER].T2CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T3OPEN.substring(0,S[o[i].IDENTIFIER].T3OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T2CLOSE.substring(0,S[o[i].IDENTIFIER].T2CLOSE.lastIndexOf(":")));break;case 3:b="00:00:00"==S[o[i].IDENTIFIER].T3CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T3OPEN,S[o[i].IDENTIFIER].T3CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T4OPEN.substring(0,S[o[i].IDENTIFIER].T4OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T3CLOSE.substring(0,S[o[i].IDENTIFIER].T3CLOSE.lastIndexOf(":")));break;case 4:b="00:00:00"==S[o[i].IDENTIFIER].T4CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T4OPEN,S[o[i].IDENTIFIER].T4CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T5OPEN.substring(0,S[o[i].IDENTIFIER].T5OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T4CLOSE.substring(0,S[o[i].IDENTIFIER].T4CLOSE.lastIndexOf(":")));break;case 5:b="00:00:00"==S[o[i].IDENTIFIER].T5CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T5OPEN,S[o[i].IDENTIFIER].T5CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T6OPEN.substring(0,S[o[i].IDENTIFIER].T6OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T5CLOSE.substring(0,S[o[i].IDENTIFIER].T5CLOSE.lastIndexOf(":")));break;case 6:b="00:00:00"==S[o[i].IDENTIFIER].T6CLOSE?"Closed":fnIsStoreClosed(S[o[i].IDENTIFIER].T6OPEN,S[o[i].IDENTIFIER].T6CLOSE)?"Opens at "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T7OPEN.substring(0,S[o[i].IDENTIFIER].T7OPEN.lastIndexOf(":"))):"Open until "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T6CLOSE.substring(0,S[o[i].IDENTIFIER].T6CLOSE.lastIndexOf(":")))}C="00:00:00"==S[o[i].IDENTIFIER].T1OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T1CLOSE?"<strong>Mon</strong><span>Closed</span><br/>":"<strong>Mon</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T1OPEN.substring(0,S[o[i].IDENTIFIER].T1OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T1CLOSE.substring(0,S[o[i].IDENTIFIER].T1CLOSE.lastIndexOf(":")))+"</span><br/>";C+="00:00:00"==S[o[i].IDENTIFIER].T2OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T2CLOSE?"<strong>Tue</strong><span>Closed</span><br/>":"<strong>Tue</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T2OPEN.substring(0,S[o[i].IDENTIFIER].T2OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T2CLOSE.substring(0,S[o[i].IDENTIFIER].T2CLOSE.lastIndexOf(":")))+"</span><br/>";C+="00:00:00"==S[o[i].IDENTIFIER].T3OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T3CLOSE?"<strong>Wed</strong><span>Closed</span><br/>":"<strong>Wed</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T3OPEN.substring(0,S[o[i].IDENTIFIER].T3OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T3CLOSE.substring(0,S[o[i].IDENTIFIER].T3CLOSE.lastIndexOf(":")))+"</span><br/>";C+="00:00:00"==S[o[i].IDENTIFIER].T4OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T4CLOSE?"<strong>Thu</strong><span>Closed</span><br/>":"<strong>Thu</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T4OPEN.substring(0,S[o[i].IDENTIFIER].T4OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T4CLOSE.substring(0,S[o[i].IDENTIFIER].T4CLOSE.lastIndexOf(":")))+"</span><br/>";C+="00:00:00"==S[o[i].IDENTIFIER].T5OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T5CLOSE?"<strong>Fri</strong><span>Closed</span><br/>":"<strong>Fri</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T5OPEN.substring(0,S[o[i].IDENTIFIER].T5OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T5CLOSE.substring(0,S[o[i].IDENTIFIER].T5CLOSE.lastIndexOf(":")))+"</span><br/>";C+="00:00:00"==S[o[i].IDENTIFIER].T6OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T6CLOSE?"<strong>Sat</strong><span>Closed</span><br/>":"<strong>Sat</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T6OPEN.substring(0,S[o[i].IDENTIFIER].T6OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T6CLOSE.substring(0,S[o[i].IDENTIFIER].T6CLOSE.lastIndexOf(":")))+"</span><br/>";C+="00:00:00"==S[o[i].IDENTIFIER].T7OPEN&&"00:00:00"==S[o[i].IDENTIFIER].T7CLOSE?"<strong>Sun</strong><span>Closed</span>":"<strong>Sun</strong><span>"+fnToDateTimeFormat(S[o[i].IDENTIFIER].T7OPEN.substring(0,S[o[i].IDENTIFIER].T7OPEN.lastIndexOf(":")))+" - "+fnToDateTimeFormat(S[o[i].IDENTIFIER].T7CLOSE.substring(0,S[o[i].IDENTIFIER].T7CLOSE.lastIndexOf(":")))+"</span>"}n="Available"!=y?'<div class="row border-top-thin row-set"><div class="mobile-second-col"><div class="store-locator-modal-availability-mobile"><p class="'+s+'">'+y+'</p></div><div class="store-locator-modal-distance-mobile"><p>'+d+'mi</p></div></div><div class="col-6 col-9-sm left-column-modal"><div class="col-3"><div class="store-locator-modal-logo"><img alt="'+$.trim(c)+'" src="'+u+'" ></div></div><div class="col-7"><div class="store-locator-modal-address"><p class="text-bold">'+g+"</p><p>"+l+"</p><p>"+f+", "+h+" "+v+'</p><a href="tel:'+_+'">'+_+'</a></div></div><div class="col-2"><div class="store-locator-modal-distance-desktop"><p>'+d+'mi</p></div></div></div><div class="col-6 right-column-modal"><div class="col-3"><div class="store-locator-modal-availability-desktop"><p class="'+s+'">'+y+'</p></div></div><div class="col-4"><p class="store-hours-message">'+b+'<br/><a href="#" data-placement="top" data-toggle="popover" data-trigger="click" data-content="'+C+'">Store Hours</a></p></div><div class="col-5"><div class="store-locator-modal-pickup-btn"><button tabindex="0" class="btn-primary disabled"  onclick="return false">'+MessageHelper.messages.STORE_LOCATOR_MODAL_STORE_BUTTON+"</button></div></div></div></div>":'<div class="row border-top-thin row-set"><div class="mobile-second-col"><div class="store-locator-modal-availability-mobile"><p class="'+s+'">'+y+'</p></div><div class="store-locator-modal-distance-mobile"><p>'+d+'mi</p></div></div><div class="col-6 col-9-sm left-column-modal"><div class="col-3"><div class="store-locator-modal-logo"><img alt="'+$.trim(c)+'" src="'+u+'" ></div></div><div class="col-7"><div class="store-locator-modal-address"><p class="text-bold">'+g+"</p><p>"+l+"</p><p>"+f+", "+h+" "+v+'</p><a href="tel:'+_+'">'+_+'</a></div></div><div class="col-2"><div class="store-locator-modal-distance-desktop"><p>'+d+'mi</p></div></div></div><div class="col-6 right-column-modal"><div class="col-3"><div class="store-locator-modal-availability-desktop text-center"><p class="'+s+'">'+y+'</p></div></div><div class="col-4"><p class="store-hours-message">'+b+'<br/><a href="#" data-placement="top" data-toggle="popover" data-trigger="click" data-content="'+C+'">Store Hours</a></p></div><div class="col-5"><div class="store-locator-modal-pickup-btn"><button tabindex="0" class="btn-primary" onclick="petcoNearestLocations.fnSelectStore(\''+o[i].IDENTIFIER+"','"+y+"')\">"+MessageHelper.messages.STORE_LOCATOR_MODAL_STORE_BUTTON+"</button></div></div></div></div>";$("#petco-store-locator-modal").append(n);$("#load-more-button").removeClass("disabled").addClass("btn-primary").attr("onclick","petcoNearestLocations.fnGetMoreStores();return false;");$("#load-more-button").removeAttr("disabled","disabled");$("#load-more-button").show();$("#no-more-stores").hide()}try{for(i=0;i<o.length;i++)T.push(o[i].IDENTIFIER);E.physical_store_id=T;E.event_name="store_modal_search";pushEvent(E)}catch(e){return!0}fnHideXHRLoader()}else{$("#petco-store-locator-modal").append('<div id="store-locator-error-message" class="col-8 error-box">'+MessageHelper.messages.STORE_LOCATOR_MODAL_ERROR+"</div>");$("#load-more-button").removeClass("disabled").addClass("btn-primary").attr("onclick","petcoNearestLocations.fnGetMoreStores();return false;");$("#load-more-button").removeAttr("disabled","disabled");$("#load-more-button").hide();$("#no-more-stores").hide();console.debug("Empty array - aNearestStores: "+o)}_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnBuildModalUI(storeData).")}function fnOpenStoreInfoModal(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnOpenStoreInfoModal().");try{petcoCommonJS.showModal("neareststores");_changeStoreModalClick=!0;try{var e={};e.event_name="store_modal_open";pushEvent(e,"changeStore")}catch(e){console.log("An error occurred in creating the event store_modal_open. "+e);return!0}$("#store-locator-zipcode").val("");_sZipCode=null!=document.getElementById("storeZipCode")?$("#storeZipCode").val():"";if(""!=_sZipCode){_sZipCode.indexOf("-")!=-1&&(_sZipCode=_sZipCode.substring(0,_sZipCode.indexOf("-")));fnShowXHRLoader();_nLastStoreDistance="";fnGetData(ZIPCODE_API)}}catch(e){fnHideXHRLoader();console.log("An error occured in fnOpenStoreInfoModal(). "+e)}_bIsDebuggingEnabled&&console.debug("Exiting:: Entering fnOpenStoreInfoModal().")}function fnCloseStoreInfoModal(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnCloseStoreInfoModal().");try{var e=$(".row-set");document.getElementById("store-locator-zipcode").value="";$("#load-more-button").removeClass("disabled").addClass("btn-primary").attr("onclick","petcoNearestLocations.fnGetMoreStores();return false;");$("#load-more-button").removeAttr("disabled","disabled");$("#no-more-stores").hide();$(e[0]).is(":visible")&&$(e).each(function(){$(this).remove()});$("#store-locator-error-message").is(":visible")&&$("#store-locator-error-message").remove();$("#store-locator-zipcode").removeClass("invalid");$("#store-locator-zipcode-error").html("");petcoCommonJS.hideModal("modal-neareststores")}catch(e){console.log("An error occured in fnCloseStoreInfoModal(). "+e)}_bIsDebuggingEnabled&&console.debug("Exiting:: Entering fnCloseStoreInfoModal().")}function fnGetNearestStoresByZipCode(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnGetNearestStoresByZipCode().");$("#store-locator-error-message").is(":visible")&&$("#store-locator-error-message").remove();_nLastStoreDistance="";_sZipCode=null!=document.getElementById("store-locator-zipcode")&&void 0!=document.getElementById("store-locator-zipcode")?document.getElementById("store-locator-zipcode").value:"";_sZipCode=$.trim(_sZipCode);_showPreferredStore=!1;var e='<span class="error">'+MessageHelper.messages.SHIPPING_ADDRESS_VALID_ZIP_CODE+"</span>";if(""==_sZipCode){$("#store-locator-zipcode").addClass("invalid");$("#store-locator-zipcode-error").html(e);return!1}if(_sZipCode.length<5||_sZipCode.length>5){$("#store-locator-zipcode").addClass("invalid");$("#store-locator-zipcode-error").html(e);return!1}if(!$.isNumeric(parseInt(_sZipCode))){$("#store-locator-zipcode").addClass("invalid");$("#store-locator-zipcode-error").html(e);return!1}$("#store-locator-zipcode").removeClass("invalid");$("#store-locator-zipcode-error").html("");fnShowXHRLoader();fnGetData(ZIPCODE_API);_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnGetNearestStoresByZipCode().")}function fnZIPCodeData(e){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnZIPCodeData().");var t={},o=[],a=document.getElementById("skuList"),n="";if(null!=a&&void 0!=a){o=JSON.parse(a.value);if(o.length>0)for(i=0;i<o.length;i++)n+=o[i]+(i!=o.length-1?",":"")}t.zipCode=_sZipCode;"undefined"!=typeof e?t.showPreferredStore=e:t.showPreferredStore=fnGetPreferedStoreData();""!=n&&null!=n&&(t.productIds=n);""!=_nLastStoreDistance&&null!=_nLastStoreDistance&&(t.distance=_nLastStoreDistance);if(_bIsDebuggingEnabled){console.debug("Debugging:: oJSONData - "+JSON.stringify(t));console.debug("Debugging:: Exiting fnZIPCodeData().")}return t}function fnGetPreferedStoreData(){var e=!1,t=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY)),o=t.petcostores;if("undefined"!=typeof o){var a=JSON.parse(o);if(a.length>1){for(var n=0;n<a.length;n++)if("undefined"!=typeof a[n].isPreferred&&"Y"==a[n].isPreferred){e=!0;break}}else 1==a.length&&"undefined"!=typeof a.isPreferred&&"Y"==a.isPreferred&&(e=!0)}return e}function fnSelectStore(e,t){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnSelectStore(positionInArray).");"undefined"!=typeof productDisplayJS&&(productDisplayJS.bopusInventoryDetailsPopulated=!1);var o={},a=60*_nExpirationMin*1e3,n={},r=[];_showPreferredStore=!1;fnLatitudeLongitudeSetLocalStorage(_userData.LATITUDE,_userData.LONGITUDE);o=parseInt(_nExpirationMin)>0?{petcostores:JSON.stringify(fnShiftArray(_tempStoreData,findIndexByKeyValue(_tempStoreData,"IDENTIFIER",e),0)),storehours:JSON.stringify(_oStoreHours),shipmodes:JSON.stringify(_shipmodedetails),userDetails:JSON.stringify(_userData),timestamp:_timestamp+a}:{petcostores:JSON.stringify(fnShiftArray(_tempStoreData,findIndexByKeyValue(_tempStoreData,"IDENTIFIER",e),0)),storehours:JSON.stringify(_oStoreHours),shipmodes:JSON.stringify(_shipmodedetails),userDetails:JSON.stringify(_userData),timestamp:0};localStorage.setItem(LOCALSTORAGE_STORES_KEY,JSON.stringify(o));n=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY));if(Object.keys(n).length>0){r=JSON.parse(n.petcostores);fnSetPhysicalStoreCookie("WC_physicalStores",r);if("function"==typeof window._updateUserStore){_store_got_Changed=!0;localStorage.removeItem("USER_SET_PREFERRED_STORE_NAME");localStorage.removeItem("USER_SET_PREFERRED_STORE_LOCATION_ID");localStorage.removeItem("USER_SET_PREFERRED_STORE_ID");window._updateUserStore({id:r[0].IDENTIFIER,locationId:r[0].STLOC_ID,name:r[0].DSNAME})}_populate_Service_location();dojo.topic.publish("changeStlocIdForCheckout",r[0].STLOC_ID)}try{var i={};i.physical_store_id=e;i.event_name="store_modal_changed_store";pushEvent(i)}catch(e){console.log("An error occurred in creating the event store_modal_changed_store. "+e);return!0}fnBuildStoreInfoUI(r,t);_nLastStoreDistance="";_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnSelectStore(positionInArray).")}function fnUpdateBopusHeader(){var e={},t=[],o={},e=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY));if(void 0!=e&&null!=e&&Object.keys(e).length>0){t=JSON.parse(e.petcostores);o=JSON.parse(e.storehours);var a=t[0].IDENTIFIER;if(Object.keys(o).length>0&&null!=a)switch(CheckoutHelperJS.presentDate.getDay()){case 0:"00:00:00"!=o[a].T7OPEN&&"00:00:00"!=o[a].T7CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T7CLOSE,CheckoutHelperJS.presentDate.getDay());break;case 1:"00:00:00"!=o[a].T1OPEN&&"00:00:00"!=o[a].T1CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T1CLOSE,CheckoutHelperJS.presentDate.getDay());break;case 2:"00:00:00"!=o[a].T2OPEN&&"00:00:00"!=o[a].T2CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T2CLOSE,CheckoutHelperJS.presentDate.getDay());break;case 3:"00:00:00"!=o[a].T3OPEN&&"00:00:00"!=o[a].T3CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T3CLOSE,CheckoutHelperJS.presentDate.getDay());break;case 4:"00:00:00"!=o[a].T4OPEN&&"00:00:00"!=o[a].T4CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T4CLOSE,CheckoutHelperJS.presentDate.getDay());break;case 5:"00:00:00"!=o[a].T5OPEN&&"00:00:00"!=o[a].T5CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T5CLOSE,CheckoutHelperJS.presentDate.getDay());break;case 6:"00:00:00"!=o[a].T6OPEN&&"00:00:00"!=o[a].T6CLOSE&&CheckoutHelperJS.checkStoreHours(o[a].T6CLOSE,CheckoutHelperJS.presentDate.getDay())}}}function fnShiftArray(e,t,o){if(_bIsDebuggingEnabled){console.debug("Debugging:: Entering fnShiftArray(array, old_index, new_index).");console.debug("Debugging:: array - "+e);console.debug("Debugging:: old_index - "+t);console.debug("Debugging:: new_index - "+o)}for(;t<0;)t+=e.length;for(;o<0;)o+=e.length;if(o>=e.length)for(var a=o-e.length;a--+1;)e.push(void 0);e.splice(o,0,e.splice(t,1)[0]);if(_bIsDebuggingEnabled){console.debug("Debugging:: array - "+e);console.debug("Debugging:: Exiting fnShiftArray(array, old_index, new_index).")}return e}function fnGetSortOrder(e){return function(t,o){return t[e]>o[e]?1:t[e]<o[e]?-1:0}}function findIndexByKeyValue(e,t,o){for(var a=0;a<e.length;a++)if(e[a][t]==o)return a;return null}function fnShowXHRLoader(){$("#store-loader").css({position:"absolute",top:"50%",left:"48%","z-index":"1001"}).show();$("#background-loader").css({position:"fixed",left:"0",top:"0",width:"100%",height:"300%","background-color":"rgba(255,255,255,0.80)","z-index":"999"}).show()}function fnHideXHRLoader(){$("#store-loader").hide();$("#background-loader").hide()}function fnGetInventory(e){var t=document.getElementById("catEntryIdForBOPUSModal"),o="";if(null!=e&&""!=e){null!=t&&void 0!=t&&(o=t.value.indexOf(",")!=-1?t.value.split(",")[0]:t.value);productDisplayJS.storeId=_sStoreId;var a=$("#inventorySystem").val();if(a!=-4){var n=productDisplayJS.findYIHInvetoryAvailabilityURL(o,e);$.ajax({url:n,type:"GET",contentType:"application/json",dataType:"json",data:"",cache:!1,async:!1,success:function(e){var t={};if("undefined"!=typeof e.inStoreInventory)for(var o=e.inStoreInventory,a=0;a<o.length;a++){var n=o[a].stlocId;t[n]=o[a].alertLevel}_oInStoreInventoryData=t},error:function(e){console.log("An error occurred in fnGetInventory() while making a call to GetInventoryStatusByIDView. "+e)}})}else{var r=new Object;r.itemId=o;r.langId=WCParamJS.langId;r.storeId=WCParamJS.storeId;r.catalogId=WCParamJS.catalogId;r.storeModal=!0;r.storeLoc=e;r.fetchStoreInventory=!0;dojo.xhrPost({url:getAbsoluteURL()+"GetInventoryStatusByIDView",handleAs:"json-comment-filtered",content:r,service:this,timeout:5e3,sync:!0,load:function(e){var t=[],o={};if("undefined"!=typeof e.inStoreInventory){var a=e.inStoreInventory;if(null!=a.stores&&""!=a.stores){t=a.stores;for(i=0;i<t.length;i++){var n=t[i].id;o[n]=t[i].alertLevel}}}_oInStoreInventoryData=o},error:function(e,t){console.log(storeNLS.INV_STATUS_RETRIEVAL_ERROR)}})}}}function fnGetMoreStores(){var e=$(".row-set");if(e.length>=20){$("#load-more-button").addClass("disabled").removeClass("btn-primary").removeAttr("onclick");$("#load-more-button").attr("disabled","disabled");$("#no-more-stores").show();return!1}fnShowXHRLoader();fnGetData(ZIPCODE_API,!1)}function fnToDateTimeFormat(e){var t=new Date;t.setHours(e.substr(0,e.indexOf(":")));t.setMinutes(e.substr(e.indexOf(":")+1));t.setSeconds(0);return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function checkAndProcessUrlStoreParam(){var e=window.location.search.substring(1);if(""!=e)for(var t=e.split("&"),o=0;o<t.length;o++){var a=t[o].split("=");if(a[0]==_storeCodeParameter&&""!=a[1].trim()){_storePassedAsParam=a[1].trim();localStorage.removeItem(LOCALSTORAGE_STORES_KEY);fnCreateCookie("WC_physicalStores","",-100);_sGoogleStoreCodePresent=!0}}}function checkIfStoreStatusAndClearStorage(e){null==ClosedStoreDetailsObj?$.ajax({url:getAbsoluteURL()+"ClosedStoreDetails?catalogId=10051&langId=-1&storeId=10151",type:"GET",cache:!1,contentType:"application/json",dataType:"json",data:"",success:function(t){IS_CLOSED_CALL_FIRED=!1;ClosedStoreDetailsObj=t;callClosedStoreDataFn(e,t)},error:function(e){console.log(e)}}):callClosedStoreDataFn(e,ClosedStoreDetailsObj)}function callClosedStoreDataFn(petcoStores,data){if(!IS_CLOSED_CALL_FIRED){for(var shoulExpireeStorageCleared=!0,triggeredCall=!1,i=0;i<petcoStores.length;i++){for(var ix in data.closedStores){for(var j in data.closedStores[ix])if(0==i&&j==petcoStores[i].IDENTIFIER){localStorage.removeItem(LOCALSTORAGE_STORES_KEY);shoulExpireeStorageCleared=!1;if($("#petcoNearestLocationsInitScript").length>0&&!IS_CLOSED_CALL_FIRED){triggeredCall=!0;IS_CLOSED_CALL_FIRED=!0;eval($("#petcoNearestLocationsInitScript").html());break}}if(triggeredCall)break}if(0==i)break}if(shoulExpireeStorageCleared){var mapFfromLocal={},isDataExistsForClosed=!1;for(var iy in data.closedStores)for(var jx in data.closedStores[iy]){mapFfromLocal[jx]="true";isDataExistsForClosed=!0}var expiredStoresFromLocal=localStorage.getItem(EXPIR_STORE_DATA);if(null!=expiredStoresFromLocal){var expiredStoresFromLocalJSONTmp=JSON.parse(expiredStoresFromLocal);if(0==expiredStoresFromLocalJSONTmp.closedStores.length){localStorage.setItem(EXPIR_STORE_DATA,JSON.stringify(data));
if(isDataExistsForClosed){if($("#petcoNearestLocationsInitScript").length>0&&!IS_CLOSED_CALL_FIRED){IS_CLOSED_CALL_FIRED=!0;eval($("#petcoNearestLocationsInitScript").html())}expiredStoresFromLocal=null}}}if(null!=expiredStoresFromLocal){var expiredStoresFromLocalJSON=JSON.parse(expiredStoresFromLocal);for(var ix in expiredStoresFromLocalJSON.closedStores)for(var j in expiredStoresFromLocalJSON.closedStores[ix])if("undefined"==typeof mapFfromLocal[j]){localStorage.removeItem(LOCALSTORAGE_STORES_KEY);if($("#petcoNearestLocationsInitScript").length>0&&!IS_CLOSED_CALL_FIRED){IS_CLOSED_CALL_FIRED=!0;eval($("#petcoNearestLocationsInitScript").html())}break}}}localStorage.setItem(EXPIR_STORE_DATA,JSON.stringify(data))}}function fnGetNearestLocations(e,t,o,a,n,r,i,s,l){if(_bIsDebuggingEnabled){console.debug("Debugging:: fnGetNearestLocations(storeId, expirationMin, isHTML5Geolocation, isGoogleGeoAPI, HTML5GeoTimeout, XHRTimeout, googleApiUrl, googleApiKey, isDebuggingEnabled).");console.debug("Debugging:: storeId - "+e);console.debug("Debugging:: expirationMin - "+t);console.debug("Debugging:: isHTML5Geolocation - "+o);console.debug("Debugging:: isGoogleGeoAPI - "+a);console.debug("Debugging:: HTML5GeoTimeout - "+n);console.debug("Debugging:: XHRTimeout - "+r);console.debug("Debugging:: googleApiUrl - "+i);console.debug("Debugging:: googleApiKey - "+s);console.debug("Debugging:: isDebuggingEnabled - "+l)}var d=dojo.cookie("isEASession");if("undefined"==typeof d||"yes"!=d){try{""!=e&&(_sStoreId=e);""!=t&&(_nExpirationMin=parseInt(t));""!=o&&(_bIsHTML5Geolocation="true"===o.toLowerCase());""!=a&&(_bIsGoogleGeoAPI="true"===a.toLowerCase());""!=n&&(_nHTML5GeoTimeout=parseInt(n));""!=r&&(_nXHRTimeout=parseInt(r));""!=i&&(_sGoogleAPIUrl=i);""!=s&&(_sKey=s);""!=l&&(_bIsDebuggingEnabled="true"===l.toLowerCase());checkIfReactLocationIsDifferent();checkAndProcessUrlStoreParam();if(fnCheckLocalStorage()){if(fnCheckLocalStorageLatLong())fnGeoLocation();else{fnGeoLocationFromLatLongLocalStorage();_populate_Service_location()}var c=dojo.cookie("Edgescape-Country");"undefined"!=typeof c&&"US"==c&&dojo.topic.subscribe("callCompletedforLocationCheck",function(e){setTimeout(function(){if("AKAMAI"!=e){if(fnCheckLocalStorage()){var t=dojo.cookie("Edgescape-Zip");if("undefined"!=typeof t&&""!=t&&null!=t){var o=t.split("+"),a=o[0].split("-");_akamaiZipCode=a[0];fnGetData(AKAMAI_ZIPCODE)}}}else fnIsPDP()&&fnIsBOPUSItem()&&(_changeStoreModalClick?_changeStoreModalClick=!1:fnBuildStoreInfoUI())},2e3)})}else{_populate_Service_location();dojo.topic.publish("BopusAreaRestrictionCheck","FromLocalHost");if(!fnIsPDP()||!fnIsBOPUSItem())return;fnBuildStoreInfoUI()}}catch(e){console.log("An error occurred in fnGetNearestLocations. "+e);return}_bIsDebuggingEnabled&&console.debug("Debugging:: Exiting fnGetNearestLocations(storeId, expirationMin, isHTML5Geolocation, isGoogleGeoAPI, isDebuggingEnabled).")}}function fnAkamaiZIPCodeData(){_bIsDebuggingEnabled&&console.debug("Debugging:: Entering fnZIPCodeData().");var e={},t=[],o=document.getElementById("skuList"),a="";if(null!=o&&void 0!=o){t=JSON.parse(o.value);if(t.length>0)for(i=0;i<t.length;i++)a+=t[i]+(i!=t.length-1?",":"")}e.zipCode=_akamaiZipCode;e.akamaiFlag="yes";""!=a&&null!=a&&(e.productIds=a);e.showPreferredStore=!0;if(_bIsDebuggingEnabled){console.debug("Debugging:: oJSONData - "+JSON.stringify(e));console.debug("Debugging:: Exiting fnZIPCodeData().")}return e}function updateReactStoreChange(e){try{if("undefined"!=typeof e){var t=e.id;console.log("_storePassedAsParam"+t);_storePassedAsParam=t;localStorage.removeItem(LOCALSTORAGE_STORES_KEY);document.body.style.zoom=window.innerWidth/window.outerWidth;IS_CHANGE_CALL_FROM_REACT_FIRED=!1;checkIfReactLocationIsDifferent();($('div[dojotype="wc.widget.RefreshArea"][controllerid^="searchBasedNavigation_controller"]').length>0||$('div[dojotype="wc.widget.RefreshArea"][controllerid^="rfkSearchResultDisplayController"]').length>0||$('div[dojotype="wc.widget.RefreshArea"][controllerid^="rfkCategoryResultDisplayController"]').length>0||$('div[dojotype="wc.widget.RefreshArea"][controllerid^="ShopCartDisplayController"]').length>0)&&setTimeout(function(){var e=window.location.href,t=e.indexOf("#");t>0?window.location=e.substring(0,t):window.location.reload(!0)},2e3)}}catch(e){console.log(e)}}function checkIfReactLocationIsDifferent(){console.log("IS_CHANGE_CALL_FROM_REACT_FIRED">>IS_CHANGE_CALL_FROM_REACT_FIRED);if(!IS_CHANGE_CALL_FROM_REACT_FIRED){_populate_Service_location();try{var reactStoreId=localStorage.getItem("USER_SET_PREFERRED_STORE_ID"),reactPhysicalStoreId=localStorage.getItem("USER_SET_PREFERRED_STORE_LOCATION_ID");console.log("reactStoreId>>>>>>"+reactStoreId);var oNeareststores=null!=JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY))?JSON.parse(localStorage.getItem(LOCALSTORAGE_STORES_KEY)):{};console.log("oNeareststores>>>>>>"+oNeareststores);if((null==oNeareststores||null!=oNeareststores&&0==Object.keys(oNeareststores).length||null!=oNeareststores&&Object.keys(oNeareststores).length>0&&"undefined"==typeof oNeareststores.petcostores)&&null!=reactStoreId&&!IS_CHANGE_CALL_FROM_REACT_FIRED){IS_CHANGE_CALL_FROM_REACT_FIRED=!0;console.log("oNeareststores>>>>>>"+oNeareststores);_storePassedAsParam=reactStoreId;localStorage.removeItem(LOCALSTORAGE_STORES_KEY);fnCreateCookie("WC_physicalStores","",-100);$("#petcoNearestLocationsInitScript").length>0&&eval($("#petcoNearestLocationsInitScript").html())}else if(null!=reactStoreId&&null!=reactPhysicalStoreId&&""!=reactStoreId&&""!=reactPhysicalStoreId&&!IS_CHANGE_CALL_FROM_REACT_FIRED){IS_CHANGE_CALL_FROM_REACT_FIRED=!0;var isStoreSame=!1,WC_physicalStores=decodeURIComponent(getCookie("WC_physicalStores")).split(",");""!=WC_physicalStores[0]&&WC_physicalStores[0].trim()===reactPhysicalStoreId&&(isStoreSame=!0);if(!isStoreSame){_storePassedAsParam=reactStoreId;localStorage.removeItem(LOCALSTORAGE_STORES_KEY);fnCreateCookie("WC_physicalStores","",-100);$("#petcoNearestLocationsInitScript").length>0&&eval($("#petcoNearestLocationsInitScript").html())}}}catch(e){console.log(e)}IS_CHANGE_CALL_FROM_REACT_FIRED||(IS_CHANGE_CALL_FROM_REACT_FIRED=!0)}}function _populate_Service_location(){console.log("in _populate_Service_location");if(("undefined"==typeof window.pagetype||"undefined"!=typeof window.pagetype&&"home"==!window.pagetype)&&"undefined"!=typeof petcoLocation)try{setTimeout(function(){petcoLocation.populateCity();console.log("in _populate_Service_location")},500)}catch(e){}}var _sStoreId="10151",_nExpirationMin=window.LOCALSTORAGE_EXPIRY_MINUTES?window.LOCALSTORAGE_EXPIRY_MINUTES:1440,_timestamp=(new Date).getTime(),_geoLatitude="",_geoLongitude="",_bIsHTML5Geolocation=!0,_bIsGoogleGeoAPI=!0,_nHTML5GeoTimeout=1e4,_nXHRTimeout=5e3,_bIsDebuggingEnabled=!1,_changeStoreModalClick=!1,_sZipCode="",_tempStoreData=[],_userData={},_oStoreHours={},_shipmodedetails={},_oInStoreInventoryData={},_nLastStoreDistance="",_sKey="",_sGoogleAPIUrl="",_showPreferredStore=!0,_storePassedAsParam="",_storeCodeParameter="store_code",_sGoogleStoreCodePresent=!1,_akamaiZipCode="",_nLocationExpirationMin=window.locationExpirationMin?window.locationExpirationMin:129600,NEAREST_STORES_API="getneareststores",ZIPCODE_API="zipcode",AKAMAI_ZIPCODE="akamai_zipcode",LATITUDE_LONGITUDE_API="latlong",LOCALSTORAGE_STORES_KEY="petcostores",LOCALSTORAGE_LATITUDE_LONGITUDE_KEY="petcostores_latitude_longitude",EXPIR_STORE_DATA="expiredStoreData",LOCALSTORAGE_TIMEOUT_KEY="geolocationtimeout",PETCO_STORE_LOGO="/wcsstore/PetcoStore/img/brand-logo.png",PETCO_NEXT_STORE_LOGO="/wcsstore/PetcoStore/img/next_brand-logo.png",UNLEASHED_STORE_LOGO="/wcsstore/PetcoStore/img/logo-unleashed.gif",UNLEASHED_NEXT_STORE_LOGO="/wcsstore/PetcoStore/img/next_logo-unleashed.png",MAP_PIN_ICON="/wcsstore/PetcoStore/img/map-pin-icon.png",ClosedStoreDetailsObj=null,_store_got_Changed=!1,IS_HTML5_CALL_COMPLETED=!1,akamaiCalled=!1,NoakamaiCalled=!1,IS_CLOSED_CALL_FIRED=!1,IS_CHANGE_CALL_FROM_REACT_FIRED=!1;return{fnGetNearestLocations:fnGetNearestLocations,fnOpenStoreInfoModal:fnOpenStoreInfoModal,fnCloseStoreInfoModal:fnCloseStoreInfoModal,fnGetNearestStoresByZipCode:fnGetNearestStoresByZipCode,fnSelectStore:fnSelectStore,fnGetMoreStores:fnGetMoreStores,fnUpdateBopusHeader:fnUpdateBopusHeader,fnSetPhysicalStoreCookie:fnSetPhysicalStoreCookie,updateReactStoreChange:updateReactStoreChange}}(),PetcoDataLayer={},product={};$(document).ready(function(){function e(e){v=e;if(null!=v&&""!=v){var t=v.split("|");for(i=0;i<t.length;i++){0===i&&(l=t[i]);1===i&&(d=t[i]);2===i&&(c=t[i]);3===i&&(u=t[i]);4===i&&(p=t[i]);5===i&&(m=t[i]);6===i&&(g=t[i]);7===i&&(f=t[i]);8===i&&(h=t[i])}}}var t=getCookie("pcustData"),o=getCookie("pfirstname"),a=getCookie("WC_UserType"),n=(getCookie("WC_UserId"),new Array);n.push("No");var r=new Array;r.push("0.00");var s="guest";if("G"!=a){null!=document.getElementById("firstName")&&void 0!=o&&"undefined"!=o?document.getElementById("firstName").innerHTML="&nbsp;"+o:null!=document.getElementById("hdr-welcome")&&(document.getElementById("hdr-welcome").style.display="none");s="logged in"}null!=o&&void 0!=o||(o="");var l="",d="",c="",u="",p="",m="",g="",f="",h="",v="";e(t)});var global_data_for_user_reg={},parentGroup_Telium='{"WC_UserRegistrationUpdateForm_FormInput_firstName_In_Register_1|_|firstName":"customer_name","WC_UserRegistrationUpdateForm_FormInput_lastName_In_Register_1|_|lastName":"customer_name","WC_UserRegistrationUpdateForm_FormInput_logonId_In_Register_1|_|logonId":"customer_email","find-pals-member-num|_|palsRewardsNumber":"customer_pals_number","verify-pals-email|_|email2":"customer_email","new-address-addressLine1|_|address1":"customer_address1","new-address-addressLine2|_|address2":"customer_address2","new-address-city|_|city":"customer_city","new-address-zipCode|_|zipCode":"customer_zip","shipping-address-state|_|state":"customer_state","EMAILPREF_1|_|EMAILPREF_4":"customer_newsletter","EMAILPREF_2|_|EMAILPREF_1":"customer_newsletter","EMAILPREF_3|_|EMAILPREF_2":"customer_newsletter","EMAILPREF_4|_|EMAILPREF_3":"customer_newsletter","PETS_1|_|PETS_11":"customer_pettype","PETS_2|_|PETS_7":"customer_pettype","PETS_3|_|PETS_6":"customer_pettype","PETS_4|_|PETS_12":"customer_pettype","PETS_5|_|PETS_10":"customer_pettype","PETS_6|_|PETS_9":"customer_pettype","PETS_7|_|PETS_8":"customer_pettype","WC_UserRegistrationAddForm_FormInput_firstName_In_Register_1|_|firstName":"customer_name","WC_UserRegistrationAddForm_FormInput_lastName_In_Register_1|_|lastName":"customer_name","WC_UserRegistrationAddForm_FormInput_logonId_In_Register_1|_|logonId":"customer_email","WC_UserRegistrationAddForm_FormInput_Address1_In_Register_1|_|address1":"customer_address1","WC_UserRegistrationAddForm_FormInput_Address2_In_Register_1|_|address2":"customer_address2","WC_UserRegistrationAddForm_FormInput_City_In_Register_1|_|city":"customer_city","WC_UserRegistrationAddForm_FormInput_ZipCode_In_Register_1|_|zipCode":"customer_zip","WC_UserRegistrationAddForm_FormInput_Address2_In_Register_1|_|address2":"customer_address2","WC_UserRegistrationAddForm_FormInput_City_In_Register_1|_|city":"customer_city","WC_UserRegistrationAddForm_FormInput_ZipCode_In_Register_1|_|zipCode":"customer_zip","WC_UserRegistrationAddForm_FormInput_palsRewardsNumber_In_Register_1|_|palsRewardsNumber":"customer_pals_number"}',parentGroupJson_telium=JSON.parse(parentGroup_Telium);$(document).ready(function(){location.search.split("&");$(document.emailPreferencesForm).each(function(e){$("script#dataLayerPageObj").length>0&&$("button",e).each(function(e){dojo.connect(e,"click",function(e){readAndFireTeliumTagForReg()})})});dojo.forEach(dojo.query("input"),function(e){"hidden"!=e.type&&"undefined"!=typeof parentGroupJson_telium[e.id+"|_|"+e.name]&&(global_data_for_user_reg[e.id+"|_|"+e.name]=e.value)});$("select").each(function(e){"undefined"!=typeof parentGroupJson_telium[e.id+"|_|"+e.name]&&(global_data_for_user_reg[e.id+"|_|"+e.name]=e.value)})});if("undefined"==typeof ReflektionHelperJS||null==ReflektionHelperJS||!ReflektionHelperJS)var ReflektionHelperJS=function(){function e(){var e=!1;o();a();r();n();var i,s=localStorage.getItem(Y);if(null!=s){i=JSON.parse(s);var l=i.expiryTime,d=(new Date).getTime();if(d>l)e=!1;else{e=!0;te=i.accessToken;oe=!0;t()}}else e=!1;if(!e&&""!=ne){var c=ne,u='{"scope":["search-rec"]}';$.ajax({url:c,type:"POST",data:u,beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},success:function(e){var o={};o.accessToken=e.accessToken;o.expiryTime=new Date(e.accessTokenExpiryDate).getTime();te=e.accessToken;oe=!0;localStorage.setItem(Y,JSON.stringify(o));t()},dataType:"json",error:function(e,t,o){te="";removeCookie(ee);oe=!0}})}}function t(){removeCookie(ee);var e=JSON.parse(localStorage.getItem(Y));setCookie(ee,e.accessToken,{path:"/"})}function o(){var e=$("#REFLEKTION_HOST_URL");e.length>0&&(ae=$(e).val())}function a(){var e=$("#REFLEKTION_GET_ACCESS_TOKEN_URL");e.length>0&&(ne=$(e).val());if(""==ne){var t=$("#storeId").val();""!=t&&(ne="/shop/AjaxReflektionGetAccessTokenView?requesttype=ajax&catalogId=10051&storeId="+t+"&langId=-1")}}function n(){var e=$("#REFLEKTION_API_TIMEOUT");e.length>0&&(re=$(e).val())}function r(){var e=$("#ENABLE_REFLEKTION");e.length>0&&(he=!0)}function i(e){e?$("#look-ahead").addClass("active"):$("#look-ahead").removeClass("active")}function s(){r();"undefined"!=typeof document.CatalogSearchForm&&"undefined"!=typeof document.CatalogSearchForm.searchTerm&&he&&$(document.CatalogSearchForm.searchTerm).on("click keyup blur",function(e){var t=setInterval(function(){if(oe){clearInterval(t);if("blur"==e.type)setTimeout(function(){i(!1)},800);else{if("keyup"==e.type&&13==e.keyCode){ReflektionHelperJS.checkBeforeSearchSubmit()&&document.CatalogSearchForm.submit();return}l()}}},100)})}function l(){var e=document.CatalogSearchForm.searchTerm.value.trim();d(e.length>1?e:"");j()}function d(e){if(me!=e){var t=6;$("#noofproducts").length>0&&(t=1*$("#noofproducts").val());se.data.n_item=t;me=e;se.data.query.keyphrase.value=[];""!=e&&se.data.query.keyphrase.value.push(e);var o="";$("#REFLEKTION_RFKID_AUTOCOMPLETE").length>0&&(o=$("#REFLEKTION_RFKID_AUTOCOMPLETE").val());se.data.widget.rfkid=o;var a="RFK_UUID";"undefined"!=typeof rfk&&null!=rfk&&"undefined"!=typeof rfk.uid&&"function"==typeof rfk.uid&&(a=rfk.uid());se.data.context.user.uuid=a;var n="//"+ae;$.ajax({url:n,type:"POST",data:JSON.stringify(se),headers:{Authorization:"Bearer "+te},beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},success:function(t){var o=getCookie("isNewEASession");if(null!=o&&"yes"==o)u(t,e);else{c(t,e);ReflektionHelperJS.bopusAreaRestrictionCheck()}},dataType:"json",error:function(e,t,o){p()}})}else ge&&$("#look-ahead").addClass("active")}function c(e,t){ge=!0;var o=!1,a=t.toLowerCase(),n="",r="";$("#reflektion_autocomplete_brand_emptybox").addClass("hide");$("#reflektion_autocomplete_searchterm_emptybox").addClass("hide");var i=$("#RFLK_SEE_ALL").val(),s=($("#RFLK_SEE_ALL_TRENDING_PRODUCTS").val(),$("#RFLK_TOP_PRODUCTS").val()),l=$("#RFLK_TRENDING_PRODUCTS").val(),d=$("#RFLK_RELATED_SEARCH").val(),c=$("#RFLK_TOP_BRANDS").val(),u=$("#RFLK_TRENDING_CATEGORIES").val(),p=$("#RFLK_TOP_CATEGORIES").val(),m="",g="";if(""!=t){g="PreviewSearch-_-TopCategories:";if("undefined"!=typeof e&&"undefined"!=typeof e.suggestion&&"undefined"!=typeof e.suggestion.category)for(var f in e.suggestion.category){o=!0;n=n+"<li id='categoryItem_"+f+"' role='listitem' tabindex='-1'>";n=n+"<a manual_cm_sp='"+g+(1*f+1)+"-_-"+e.suggestion.category[f].text.split(" ").join("")+"' onclick='clickTrackLink(this);' role='listitem' href='"+M(document.domain+e.suggestion.category[f].url)+"' onmouseout='this.className=\"\"' ";n=n+" title='"+e.suggestion.category[f].text+"'";n=n+" id='category_autoSelectOption_"+f+"'>";n+=e.suggestion.category[f].text.replace(a,"<span class='highlight'>"+t+"</span>");n+="</a></li>"}if(o){r="<div id='topCategoryResults'><div id='topCategoryResults_header'><strong>"+p+"</strong>";r+="<div class='list_section'>";r+="<div title='Category' role='list'>";r+=" <ul class='list-unstyled'>";r+=n;r+="</ul></div></div></div></div>";$("#reflektion_autocomplete_category").html(r);$("#reflektion_autocomplete_category").show();$("#reflektion_autocomplete_category").addClass("show");$("#look-ahead").addClass("active")}else if(""!=t){$("#reflektion_autocomplete_category").hide();$("#reflektion_autocomplete_category").removeClass("show");$("#reflektion_autocomplete_category").html("")}}if(""==t){g="PreviewSearch-_-TrendingCategories:";if("undefined"!=typeof e&&"undefined"!=typeof e.suggestion&&"undefined"!=typeof e.suggestion.trending_category)for(var f in e.suggestion.trending_category){o=!0;n=n+"<li id='categoryItem_"+f+"' role='listitem' tabindex='-1'>";n=n+"<a manual_cm_sp='"+g+(1*f+1)+"-_-"+e.suggestion.trending_category[f].text.split(" ").join("")+"' onclick='clickTrackLink(this);' role='listitem' href='"+M(document.domain+e.suggestion.trending_category[f].url)+"' onmouseout='this.className=\"\"' ";n=n+"  title='"+e.suggestion.trending_category[f].text+"'";n=n+" id='category_autoSelectOption_"+f+"'>";n+=e.suggestion.trending_category[f].text.replace(a,"<span class='highlight'>"+t+"</span>");n+="</a></li>"}if(o){r="<div id='topCategoryResults'><div id='topCategoryResults_header'><strong>"+u+"</strong>";r+="<div class='list_section'>";r+="<div title='Category' role='list'>";r+=" <ul class='list-unstyled'>";r+=n;r+="</ul></div></div></div></div>";$("#reflektion_autocomplete_category").html(r);$("#reflektion_autocomplete_category").show();$("#reflektion_autocomplete_category").addClass("show");$("#look-ahead").addClass("active")}else if(""!=t){$("#reflektion_autocomplete_category").hide();$("#reflektion_autocomplete_category").removeClass("show");$("#reflektion_autocomplete_category").html("")}}var h="PreviewSearch-_-TopBrands:",v=!1,_="";r="";if("undefined"!=typeof e&&"undefined"!=typeof e.suggestion&&"undefined"!=typeof e.suggestion.brand)for(var f in e.suggestion.brand){v=!0;_=_+"<li id='brandItem_"+f+"' role='listitem' tabindex='-1'>";_=_+"<a manual_cm_sp='"+h+(1*f+1)+"-_-"+e.suggestion.brand[f].text.split(" ").join("")+"' onclick='clickTrackLink(this);' role='listitem' href='//"+document.domain+e.suggestion.brand[f].url+"' onmouseout='this.className=\"\"' ";_=_+" title='"+e.suggestion.brand[f].text+"'";_=_+" id='brand_autoSelectOption_"+f+"'>";_+=e.suggestion.brand[f].text.replace(a,"<span class='highlight'>"+t+"</span>");_+="</a></li>"}if(v){r="<div id='topBrandResults'><div id='topBrandResults_header'><strong>"+c+"</strong>";r+="<div class='list_section'>";r+="<div title='Brand' role='list'>";r+=" <ul class='list-unstyled'>";r+=_;r+="</ul></div></div></div></div>";$("#reflektion_autocomplete_brand").html(r);$("#reflektion_autocomplete_brand").show();$("#reflektion_autocomplete_brand").addClass("show");$("#look-ahead").addClass("active")}else if(""!=t){$("#reflektion_autocomplete_brand").hide();$("#reflektion_autocomplete_brand").removeClass("show");$("#reflektion_autocomplete_brand").html("")}var y="PreviewSearch-_-RelatedSearches:",I=!1,S="";r="";if("undefined"!=typeof e&&"undefined"!=typeof e.suggestion&&"undefined"!=typeof e.suggestion.keyphrase)for(var f in e.suggestion.keyphrase)if(""!=e.suggestion.keyphrase[f].text.trim()){I=!0;S=S+"<li id='searchtermItem_"+f+"' role='listitem' tabindex='-1'>";S=S+"<a manual_cm_sp='"+y+(1*f+1)+"-_-"+e.suggestion.keyphrase[f].text.split(" ").join("")+"'   role='listitem' href='#' onmouseout='this.className=\"\"' ";S=S+" onmouseover='SearchJS.enableAutoSelect(\""+f+"\");'  ";S=S+" onclick='clickTrackLink(this);SearchJS.selectAutoSuggest(this.title); return false;' title='"+e.suggestion.keyphrase[f].text+"'";S=S+" id='searchterm_autoSelectOption_"+f+"'>";S+=e.suggestion.keyphrase[f].text;S+="</a></li>"}if(I){r="<div id='topsearchtermResults'><div id='topsearchtermResults_header'><strong>"+d+"</strong>";r+="<div class='list_section'>";r+="<div title='Search Term' role='list'>";r+=" <ul class='list-unstyled'>";r+=S;r+="</ul></div></div></div></div>";$("#reflektion_autocomplete_searchterm").html(r);$("#reflektion_autocomplete_searchterm").show();$("#reflektion_autocomplete_searchterm").addClass("show");$("#look-ahead").addClass("active")}else if(""!=t){$("#reflektion_autocomplete_searchterm").hide();$("#reflektion_autocomplete_searchterm").removeClass("show");$("#reflektion_autocomplete_searchterm").html("")}var C="PreviewSearch-_-TopProducts:",b=!1;if(e.content.product.total_item>0){var E="<div class='row'>";if(""==t){C="PreviewSearch-_-TrendingProducts:";E=E+"<div class='col-12'><strong>"+l+"</strong></div></div>"}else{C="PreviewSearch-_-TopProducts:";E=E+"<div class='col-12'><strong>"+s+"</strong></div></div>"}E+="<div class='row'>";if("undefined"!=typeof e&&"undefined"!=typeof e.content&&"undefined"!=typeof e.content.product)for(var f in e.content.product.value){m="undefined"!=typeof e.content.product.value[f].swatch&&"undefined"!=typeof e.content.product.value[f].swatch[0].is_bopus_area_restriction_req?e.content.product.value[f].swatch[0].is_bopus_area_restriction_req:"";b=!0;E=E+'<div manual_cm_sp="'+C+(1*f+1)+"-_-"+e.content.product.value[f].sku.split(" ").join("")+'"  class="col-4 prod-tile-rfl" onclick="clickTrackLink(this);location.href=\'//'+document.domain+e.content.product.value[f].url+"'\">";"undefined"!=typeof e.content.product.value[f].listprice_USD&&1*e.content.product.value[f].listprice_USD.replace("$","")>e.content.product.value[f].final_price&&(E+='<img class="badge" src="/wcsstore/PetcoStore/img/ON_SALE.png"/>');E+='<div class="col-12 col-4-sm text-center " >';var T=e.content.product.value[f].image_url.replace("/wcsstore/PetcoCAS/",""),D=T+"?$tile-recommendations$",k=T+"?$PDP-thumbnail$";if(isCloudniaryEnabled()){D=T.replace("f_auto,q_auto","f_auto,q_auto,t_tile-recommendations");k=T.replace("f_auto,q_auto","f_auto,q_auto,t_PDP-thumbnail")}E=E+'<img class="desktop-only rfk-img-responsive" src="'+D+'" title="'+e.content.product.value[f].name+'">';E=E+'<img class="mobile-only rfk-img-responsive" src="'+k+'" title="'+e.content.product.value[f].name+'">';E+="</div>";E+='<div class="col-12 col-8-sm text-left product-name" >';var R=e.content.product.value[f].brands[0];if("undefined"!=typeof R&&0==e.content.product.value[f].name.indexOf(R)){E=E+"<strong>"+R+"</strong>";E+=e.content.product.value[f].name.replace(R,"")}else E+=e.content.product.value[f].name;E+="</div>";E+="undefined"!=typeof m&&""!=m&&"yes"==m.toLowerCase()?'<div class="col-8-sm mobile-only hideBopusAreaRestriction product-pricing rfk-product-pricing-mobile" >':'<div class="col-8-sm mobile-only product-pricing rfk-product-pricing-mobile" >';E=E+'<span class="product-price-promo">'+e.content.product.value[f].price_USD+"</span>";"undefined"!=typeof e.content.product.value[f].listprice_USD&&1*e.content.product.value[f].listprice_USD.replace("$","")>e.content.product.value[f].final_price&&(E=E+'<span class="product-price-crossout"> was'+e.content.product.value[f].listprice_USD+"</span>");E+="</div>";E+="undefined"!=typeof m&&""!=m&&"yes"==m.toLowerCase()?'<div class="col-12  text-center desktop-only product-pricing hideBopusAreaRestriction" >':'<div class="col-12  text-center desktop-only product-pricing" >';var L="";if("undefined"!=typeof e.content.product.value[f].final_price){L=e.content.product.value[f].final_price;"string"!=typeof L&&(L=L.toString());L.indexOf("$")==-1&&(L="$"+L)}else L=e.content.product.value[f].listprice_USD;E=E+'<span class="product-price-promo">'+L+"</span>";"undefined"!=typeof e.content.product.value[f].listprice_USD&&1*e.content.product.value[f].listprice_USD.replace("$","")>e.content.product.value[f].final_price&&(E=E+'<span class="product-price-crossout"> was'+e.content.product.value[f].listprice_USD+"</span>");E+="</div>";E+="</div>"}E+="</div>";E+="<div class='row desktop-only'>";""==t||(E=E+'<div class="col-2">&nbsp;</div><div class="col-8 text-center"><a href="javascript:document.CatalogSearchForm.submit()" class="btn btn-primary margin-bottom-sm btn-full" role="button">'+i+'</a></div><div class="col-2"></div></div>')}else if(""!=t){$("#productSuggestionResults_div").html("");$("#productSuggestionResults_div").hide();$("#productSuggestionResults_div").removeClass("show")}if(b){$("#productSuggestionResults_div").show();$("#productSuggestionResults_div").addClass("show");$("#productSuggestionResults_div").html(E);$("#look-ahead").addClass("active")}$("#reflektion_AutoCompleteList").addClass("show");$("#reflektion_AutoCompleteList").removeClass("hide");$("#reflektion_AutoCompleteList_empty").addClass("hide");$("#reflektion_AutoCompleteList_empty").removeClass("show");var O=window.matchMedia("(max-width: 768px)").matches;O||setTimeout(function(){$(".prod-tile-rfl .product-name").dotdotdot()},25);var w=.5*$(window).width();2*$("#SimpleSearchForm_SearchTerm").width()<w&&(w=2*$("#SimpleSearchForm_SearchTerm").width());var A=window.innerHeight-$("#header").height();$("#search.search.persist-active.active").length>0&&(A-=$("#search.search.persist-active.active").height());if(O){$("#look-ahead").width($(window).width());$("#look-ahead").height((window.innerHeight-($("#header").height()+$("#search").height()))/2);$("#look-ahead").css("maxHeight",(window.innerHeight-($("#header").height()+$("#search").height()))/2+"px")}else{$("#productSuggestionResults_div").height()>$("#infoPart").height()?$("#infoPart").height($("#productSuggestionResults_div").height()):$("#productSuggestionResults_div").height($("#infoPart").height());$("#infoPart").height()+5<A&&(A=$("#infoPart").height()+5);$("#look-ahead").width(w);$("#look-ahead").height(A);$("#look-ahead").css("maxHeight",A+"px");$("#search.search.persist-active.active").length>0?$("#look-ahead").css("marginLeft","-"+($("#look-ahead").width()-$("#search.search.persist-active.active").width())+"px"):$("#look-ahead").css("marginLeft","0px")}if(""==a){$("#reflektion_autocomplete_brand").html($("#reflektion_autocomplete_brand_emptybox").html());$("#reflektion_autocomplete_searchterm").html($("#reflektion_autocomplete_searchterm_emptybox").html())}else if(!($("#reflektion_autocomplete_category").hasClass("show")||$("#reflektion_autocomplete_brand").hasClass("show")||$("#reflektion_autocomplete_searchterm").hasClass("show")||$("#productSuggestionResults_div").hasClass("show")||""==t)){$("#reflektion_AutoCompleteList_empty").addClass("show");$("#reflektion_AutoCompleteList_empty").removeClass("hide");$("#reflektion_AutoCompleteList").addClass("hide");$("#reflektion_AutoCompleteList").removeClass("show");O?$("#reflektion_AutoCompleteList_empty div.row div.col-12.emptyresult").html('<strong>No results for "'+t.substring(0,150)+'"</strong>'):$("#reflektion_AutoCompleteList_empty div.row div.col-12.emptyresult").html('<strong>No results for "'+t+'"</strong>');$("#look-ahead").height(1.2*$("#reflektion_AutoCompleteList_empty").height())}}function u(e,t){ge=!0;var o=t.toLowerCase(),a="";$("#reflektion_autocomplete_brand_emptybox").addClass("hide");$("#reflektion_autocomplete_searchterm_emptybox").addClass("hide");var n=$("#RFLK_SEE_ALL").val(),r=($("#RFLK_SEE_ALL_TRENDING_PRODUCTS").val(),$("#RFLK_TOP_PRODUCTS").val()),i=$("#RFLK_TRENDING_PRODUCTS").val(),s=($("#RFLK_RELATED_SEARCH").val(),$("#RFLK_TOP_BRANDS").val()),l=($("#RFLK_TRENDING_CATEGORIES").val(),$("#RFLK_TOP_CATEGORIES").val(),"PreviewSearch-_-TopBrands:"),d=!1,c="";a="";if("undefined"!=typeof e&&"undefined"!=typeof e.suggestion&&"undefined"!=typeof e.suggestion.brand)for(var u in e.suggestion.brand){d=!0;c=c+"<li id='brandItem_"+u+"' role='listitem' tabindex='-1'>";c=c+"<a manual_cm_sp='"+l+(1*u+1)+"-_-"+e.suggestion.brand[u].text.split(" ").join("")+"' onclick=role='listitem' href='//"+(document.domain+e.suggestion.brand[u].url).replace("petcostore","petcoea")+"' onmouseout='this.className=\"\"' ";c=c+" title='"+e.suggestion.brand[u].text+"'";c=c+" id='brand_autoSelectOption_"+u+"'>";c+=e.suggestion.brand[u].text.replace(o,"<span class='highlight'>"+t+"</span>");c+="</a></li>"}if(d){a="<div id='topBrandResults'><div id='topBrandResults_header'><strong>"+s+"</strong>";a+="<div class='list_section'>";a+="<div title='Brand' role='list'>";a+=" <ul class='list-unstyled'>";a+=c;a+="</ul></div></div></div></div>";$("#reflektion_autocomplete_brand").html(a);$("#reflektion_autocomplete_brand").show();$("#reflektion_autocomplete_brand").addClass("show");$("#look-ahead").addClass("active")}else if(""!=t){$("#reflektion_autocomplete_brand").hide();$("#reflektion_autocomplete_brand").removeClass("show");$("#reflektion_autocomplete_brand").html("")}var p="PreviewSearch-_-TopProducts:",m=!1;if(e.content.product.total_item>0){var g="<div class='row'>";if(""==t){p="PreviewSearch-_-TrendingProducts:";g=g+"<div class='col-12'><strong>"+i+"</strong></div></div>"}else{p="PreviewSearch-_-TopProducts:";g=g+"<div class='col-12'><strong>"+r+"</strong></div></div>"}g+="<div class='row'>";if("undefined"!=typeof e&&"undefined"!=typeof e.content&&"undefined"!=typeof e.content.product)for(var u in e.content.product.value){m=!0;g=g+'<div manual_cm_sp="'+p+(1*u+1)+"-_-"+e.content.product.value[u].sku.split(" ").join("")+'"  class="col-4 prod-tile-rfl" onclick="location.href=\'//'+(document.domain+e.content.product.value[u].url).replace("petcostore","petcoea")+"'\">";"undefined"!=typeof e.content.product.value[u].listprice_USD&&1*e.content.product.value[u].listprice_USD.replace("$","")>e.content.product.value[u].final_price&&(g+='<img class="badge" src="/wcsstore/PetcoStore/img/ON_SALE.png"/>');g+='<div class="col-12 col-4-sm text-center " >';var f=e.content.product.value[u].image_url.replace("/wcsstore/PetcoCAS/",""),h=f+"?$tile-recommendations$",v=f+"?$PDP-thumbnail$";if(isCloudniaryEnabled()){h=f.replace("f_auto,q_auto","f_auto,q_auto,t_tile-recommendations");v=f.replace("f_auto,q_auto","f_auto,q_auto,t_PDP-thumbnail")}g=g+'<img class="desktop-only rfk-img-responsive" src="'+h+'" title="'+e.content.product.value[u].name+'">';g=g+'<img class="mobile-only rfk-img-responsive" src="'+v+'" title="'+e.content.product.value[u].name+'">';g+="</div>";g+='<div class="col-12 col-8-sm text-left product-name" >';var _=e.content.product.value[u].brands[0];if("undefined"!=typeof _&&0==e.content.product.value[u].name.indexOf(_)){g=g+"<strong>"+_+"</strong>";g+=e.content.product.value[u].name.replace(_,"")}else g+=e.content.product.value[u].name;g+="</div>";g+='<div class="col-8-sm mobile-only product-pricing rfk-product-pricing-mobile" >';g=g+'<span class="product-price-promo">'+e.content.product.value[u].price_USD+"</span>";"undefined"!=typeof e.content.product.value[u].listprice_USD&&1*e.content.product.value[u].listprice_USD.replace("$","")>e.content.product.value[u].final_price&&(g=g+'<span class="product-price-crossout"> was'+e.content.product.value[u].listprice_USD+"</span>");g+="</div>";g+='<div class="col-12  text-center desktop-only product-pricing" >';g=g+'<span class="product-price-promo">'+e.content.product.value[u].price_USD+"</span>";"undefined"!=typeof e.content.product.value[u].listprice_USD&&1*e.content.product.value[u].listprice_USD.replace("$","")>e.content.product.value[u].final_price&&(g=g+'<span class="product-price-crossout"> was'+e.content.product.value[u].listprice_USD+"</span>");g+="</div>";g+="</div>"}g+="</div>";g+="<div class='row desktop-only'>";""==t||(g=g+'<div class="col-2">&nbsp;</div><div class="col-8 text-center"><a href="javascript:document.CatalogSearchForm.submit()" class="btn btn-primary margin-bottom-sm btn-full" role="button">'+n+'</a></div><div class="col-2"></div></div>')}else if(""!=t){$("#productSuggestionResults_div").html("");$("#productSuggestionResults_div").hide();$("#productSuggestionResults_div").removeClass("show")}if(m){$("#productSuggestionResults_div").show();$("#productSuggestionResults_div").addClass("show");$("#productSuggestionResults_div").html(g);$("#look-ahead").addClass("active");
}$("#reflektion_AutoCompleteList").addClass("show");$("#reflektion_AutoCompleteList").removeClass("hide");$("#reflektion_AutoCompleteList_empty").addClass("hide");$("#reflektion_AutoCompleteList_empty").removeClass("show");var y=window.matchMedia("(max-width: 768px)").matches;y||setTimeout(function(){$(".prod-tile-rfl .product-name").dotdotdot()},25);var I=.5*$(window).width();2*$("#SimpleSearchForm_SearchTerm").width()<I&&(I=2*$("#SimpleSearchForm_SearchTerm").width());var S=window.innerHeight-$("#header").height();$("#search.search.persist-active.active").length>0&&(S-=$("#search.search.persist-active.active").height());if(y){$("#look-ahead").width($(window).width());$("#look-ahead").height((window.innerHeight-($("#header").height()+$("#search").height()))/2);$("#look-ahead").css("maxHeight",(window.innerHeight-($("#header").height()+$("#search").height()))/2+"px")}else{$("#productSuggestionResults_div").height()>$("#infoPart").height()?$("#infoPart").height($("#productSuggestionResults_div").height()):$("#productSuggestionResults_div").height($("#infoPart").height());$("#infoPart").height()+5<S&&(S=$("#infoPart").height()+5);$("#look-ahead").width(I);$("#look-ahead").height(S);$("#look-ahead").css("maxHeight",S+"px");$("#search.search.persist-active.active").length>0?$("#look-ahead").css("marginLeft","-"+($("#look-ahead").width()-$("#search.search.persist-active.active").width())+"px"):$("#look-ahead").css("marginLeft","0px")}if(""==o){$("#reflektion_autocomplete_brand").html($("#reflektion_autocomplete_brand_emptybox").html());$("#reflektion_autocomplete_searchterm").html($("#reflektion_autocomplete_searchterm_emptybox").html())}else if(!($("#reflektion_autocomplete_category").hasClass("show")||$("#reflektion_autocomplete_brand").hasClass("show")||$("#reflektion_autocomplete_searchterm").hasClass("show")||$("#productSuggestionResults_div").hasClass("show")||""==t)){$("#reflektion_AutoCompleteList_empty").addClass("show");$("#reflektion_AutoCompleteList_empty").removeClass("hide");$("#reflektion_AutoCompleteList").addClass("hide");$("#reflektion_AutoCompleteList").removeClass("show");y?$("#reflektion_AutoCompleteList_empty div.row div.col-12.emptyresult").html('<strong>No results for "'+t.substring(0,150)+'"</strong>'):$("#reflektion_AutoCompleteList_empty div.row div.col-12.emptyresult").html('<strong>No results for "'+t+'"</strong>');$("#look-ahead").height(1.2*$("#reflektion_AutoCompleteList_empty").height())}}function p(){}function m(){var e=$("#SimpleSearchForm_SearchTerm"),t=$("#submitButton");if(e.val().length>0){t.addClass("active");var o=e.val();e.val(o.split("").join("'"));if(o.indexOf(",")>-1&&o.split(",").length>2){o=o.replace(",","<<COMMA>>");o=o.replace(",","<<COMMA>>");o=o.split(",").join("");o=o.split("<<COMMA>>").join(",");e.val(o)}}else t.removeClass("active")}function g(){v();e();f();I()}function f(){var e="RFK_UUID",t="-1002",o="";"undefined"!=typeof rfk&&null!=rfk&&"undefined"!=typeof rfk.uid&&"function"==typeof rfk.uid&&(e=rfk.uid());var a=getCookie("WC_UserId");"undefined"!=typeof a&&(t=a);$("#REFLEKTION_RFKID_AUTOCOMPLETE").length>0&&(o=$("#REFLEKTION_RFKID_AUTOCOMPLETE").val());se={};se.data={};se.data.context={};se.data.context.page={};se.data.context.page.uri="/full_search_page";se.data.context.user={};se.data.context.user.uuid=e;se.data.context.user.user_id=t;se.data.widget={};se.data.widget.rfkid=o;var n=6;$("#noofproducts").length>0&&(n=1*$("#noofproducts").val());se.data.n_item=n;se.data.page_number=1;se.data.query={};se.data.query.keyphrase={};se.data.query.keyphrase.value=[];se.data.suggestion={};se.data.suggestion.brand={};se.data.suggestion.brand.max=3;se.data.suggestion.keyphrase={};se.data.suggestion.keyphrase.max=2;se.data.suggestion.category={};se.data.suggestion.category.max=4;se.data.suggestion.trending_category={};se.data.suggestion.trending_category.max=4;se.data.content={};se.data.content.product={};se.data.content.product.field={};se.data.content.product.field.value=[];se.data.content.product.field.value.push("sku");se.data.content.product.field.value.push("price");se.data.content.product.field.value.push("final_price");se.data.content.product.field.value.push("category_names");se.data.content.product.field.value.push("name");se.data.content.product.field.value.push("url");se.data.content.product.field.value.push("image_url");se.data.content.product.field.value.push("prod_partnumber");se.data.content.product.field.value.push("listprice_USD");se.data.content.product.field.value.push("bopusprice_USD");se.data.content.product.field.value.push("price_USD");se.data.content.product.field.value.push("name");se.data.content.product.field.value.push("price");se.data.content.product.field.value.push("rd_price_USD");se.data.content.product.field.value.push("sku_partnumber");se.data.content.product.field.value.push("brands");se.data.content.product.field.value.push("ptc_omni_repeat_delivery_fl");se.data.content.product.field.value.push("swatch")}function h(e,t){var o=getAbsoluteURL()+e;if(t){var a=getCookie("RFKHeader");if("undefined"!=typeof a&&null!=a&&"rfk"==a){$("#ENABLE_REFLEKTION").val("true");o+="&reflektionEnabled=true"}else{setCookie("RFKHeader","rfk");$("#ENABLE_REFLEKTION").val("true");o+="&reflektionEnabled=true"}}else{$("#ENABLE_REFLEKTION").val("false");o+="&reflektionEnabled=false"}return o}function v(){var e=JSON.parse(localStorage.getItem("petcostores"));if(void 0!=e&&null!=e&&Object.keys(e).length>0){var t=e.petcostores;if("undefined"!=typeof t){var o=JSON.parse(t);if(o.length>1)for(var a=0;a<o.length;a++)if("undefined"==typeof o[a].isPreferred||"Y"!=o[a].isPreferred){ue.zipCode=o[a].ZIPCODE;ue.state=o[a].STATE;ue.country="US";break}}}}function _(e){pe=e}function y(e){if(N())var t=setInterval(function(){if(oe){S(e);clearInterval(t)}},100)}function I(){var e="RFK_UUID",t="-1002";"undefined"!=typeof rfk&&null!=rfk&&"undefined"!=typeof rfk.uid&&"function"==typeof rfk.uid&&(e=rfk.uid());var o=getCookie("WC_UserId");"undefined"!=typeof o&&(t=o);le={};le.data={};le.data.n_item={};le.data.batch=[];le.data.appearance={};le.data.appearance.templates={};le.data.appearance.variables={};le.data.context={};if(Object.keys(ue).length>0){le.data.context.geo={};le.data.context.geo.country=ue.country;le.data.context.geo.state=ue.state;le.data.context.geo.zip=ue.zipCode}le.data.context.page={};le.data.context.page.sku={};le.data.context.user={};le.data.context.user.uuid=e;le.data.context.user.user_id=t;le.data.query={};le.data.query.keyphrase={};le.data.query.keyphrase.value=[];le.data.content={};le.data.content.product={};le.data.content.product.field={};le.data.content.product.field.value=[];le.data.content.product.field.value.push("sku");le.data.content.product.field.value.push("price");le.data.content.product.field.value.push("final_price");le.data.content.product.field.value.push("category_names");le.data.content.product.field.value.push("name");le.data.content.product.field.value.push("brand");le.data.content.product.field.value.push("url");le.data.content.product.field.value.push("image_url");le.data.content.product.field.value.push("prod_partnumber");le.data.content.product.field.value.push("listprice_USD");le.data.content.product.field.value.push("bopusprice_USD");le.data.content.product.field.value.push("price_USD");le.data.content.product.field.value.push("name");le.data.content.product.field.value.push("price");le.data.content.product.field.value.push("rd_price_USD");le.data.content.product.field.value.push("sku_partnumber");le.data.content.product.field.value.push("swatch");le.data.content.product.field.value.push("ptc_omni_repeat_delivery_fl");le.data.content.product.field.value.push("review_rating");le.data.content.product.field.value.push("review_count");le.data.content.product.field.value.push("ptc_omni_personalized_item_fl");le.data.content.product.field.value.push("ptc_omni_rx_food_ind");le.data.content.product.field.value.push("ptc_omni_pdp_behavior_template");le.data.content.product.field.value.push("ptc_omni_in_store_only_flag")}function S(e){var t,o,a,n,r,i="//"+ae,s="",l="",d="",c=5,u=[],p=[],m=!0;o="#"+e+"-rfkwidgetControlParam";a="#"+e+"-rfkWidgetName";n="#"+e+"-rfkTitleWidgetName";r="#"+e+"-rfkNoOfProducts";$(o).length>0&&(d=$(o).val());$(a).length>0&&(s=$(a).val());$(n).length>0&&(l=$(n).val());$(r).length>0&&(c=parseInt($(r).val()));if("UID"==d);else if("PDP"==d){u=pe;le.data.context.page.sku=[];le.data.context.page.sku.push(u);fe[s]==u&&(m=!1);fe[s]=u}else if("CART"==d||"OCP"==d||"PDP_ATC_MODAL"==d){$("#rfkRecommendationPartNumber").length>0&&(u=$("#rfkRecommendationPartNumber").val().split(","));le.data.context.page.sku=[];le.data.context.page.sku=u}else if("PLP"==d){$("#rfkRecommendationCategories").length>0&&(p=$("#rfkRecommendationCategories").val().split(","));le.data.context.page.all_category_ids=[];le.data.context.page.all_category_ids=p}else if("SRCHPLP"==d){$("#rfkSearchTerm").length>0&&(t=$("#rfkSearchTerm").val());le.data.query.keyphrase.value=[];""!=t?le.data.query.keyphrase.value.push(t):m=!1}le.data.n_item=c;le.data.batch=[];var g={};g.widget={};g.widget.rfkid=s;le.data.batch.push(g);if(""!=l.trim()){g={};g.widget={};g.widget.rfkid=l.trim();le.data.batch.push(g)}var f="RFK_UUID";"undefined"!=typeof rfk&&null!=rfk&&"undefined"!=typeof rfk.uid&&"function"==typeof rfk.uid&&(f=rfk.uid());le.data.context.user.uuid=f;m&&$.ajax({url:i,type:"POST",data:JSON.stringify(le),headers:{Authorization:"Bearer "+te},beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},success:function(t){if("undefined"!=typeof t){k(t,e,s,l.trim());ReflektionHelperJS.bopusAreaRestrictionCheck()}else console.log("invalid response from RFK")},dataType:"json",timeout:re,error:function(e,t,o){T(e,t,o);O()},complete:function(t,o){C(e,t,o,s,l.trim())}})}function C(e,t,o,a,n){try{Z.push(e);var r=!0;$("div[rfk_widget_id]").each(function(e,t){Z.includes($(t).attr("rfk_widget_id"))||(r=!1)});if("success"===o){var i,s=t.responseJSON;if(""==n)i=s;else for(var l in s.batch){var d=s.batch[l].widget.rfkid;d==a&&(i=s.batch[l])}if(i){i.content;if("undefined"!=typeof i.content&&"undefined"!=typeof i.content.product&&"undefined"!=typeof i.content.product.value){var c=i.content.product.value;for(var u in c)for(var p in c[u].swatch){var m=c[u].swatch[p].sku_uid;X.includes(m)||X.push(m)}}}}if(r&&Object.getOwnPropertyNames(Q).length>0){r=!1;for(var g in X)if("undefined"==typeof Q[X[g]]){r=!0;break}r||E()}if(r&&!ye){var f="productIds="+X.toString();$.ajax({url:getAbsoluteURL()+"PetcoFetchPriceFromSolr",type:"POST",data:f,beforeSend:function(e){ye=!0},success:function(e){for(var t in e){var o=e[t].productId,a=e[t].listprice_USD,n=e[t].price_USD,r=e[t].rd_price_USD,i={};i.listprice_USD=a;i.price_USD=n;i.rd_price_USD=r;Q[o]=i}E()},complete:function(){ye=!1},dataType:"json",timeout:5e3})}}catch(e){console.log(e)}}function b(e,t,o){try{if("success"===t){var a=e.responseJSON,n=[],r=!1;$.each(o.widgetArr,function(e,t){var o={},i=t.rfkWidgetName;for(var s in a.batch){var l=a.batch[s].widget.rfkid;if(l==i){o=a.batch[s];break}}if(o){o.content;if("undefined"!=typeof o.content&&"undefined"!=typeof o.content.product&&"undefined"!=typeof o.content.product.value){var d=o.content.product.value;for(var c in d)for(var u in d[c].swatch){var p=d[c].swatch[u].sku_uid;n.includes(p)||n.push(p)}}}if(Object.getOwnPropertyNames(Q).length>0){for(var m in n)if("undefined"==typeof Q[n[m]]){r=!0;break}}else r=!0});if(r&&!ye){var i="productIds="+n.toString();$.ajax({url:getAbsoluteURL()+"PetcoFetchPriceFromSolr",type:"POST",data:i,beforeSend:function(e){ye=!0},success:function(e){for(var t in e){var o=e[t].productId,a=e[t].listprice_USD,n=e[t].price_USD,r=e[t].rd_price_USD,i={};i.listprice_USD=a;i.price_USD=n;i.rd_price_USD=r;Q[o]=i}E()},complete:function(){ye=!1},dataType:"json",timeout:5e3})}else E()}}catch(e){console.log(e)}}function E(){try{var e=$('input[id$="productId-tagging"]');if("undefined"==typeof Q)return;$(e).each(function(e,t){if(""!=t.value){var o=t.id.replace("-productId-tagging",""),a=t.value,n=Q[a];if("undefined"!=typeof n){var r=n.price_USD,i=n.listprice_USD,s=n.rd_price_USD;if(""!=r){var l="#"+o+"-price-promo";$(l).length>0&&$(l).html(r);var d="#"+o+"-price-crossout";"undefined"!=typeof i&&""!=i&&1*i.replace("$","")>1*r.replace("$","")?$(d).length>0&&$(d).html("was "+i):$(d).length>0&&$(d).html("");var c="#"+o+"-price-rd-val";$(c).length>0&&""!=s?$(c).html(s):$(c).length>0&&""==s&&$(c).html("")}}}})}catch(e){console.log(e)}}function T(e,t,o){if("timeout"==t)console.log("Reflektion API request timed out");else{var a=jQuery.parseJSON(e.responseText);console.log("Reflektion error code:"+a.err);console.log("Reflektion error message:"+a.msg)}}function D(e,t){var o=new RegExp(t,"ig");return e.replace(o,"<strong>"+t+"</strong>")}function k(e,t,o,a){void 0!=de[t]&&delete de[t];var n={},r={};if(""==a)n=e;else for(var i in e.batch){var s=e.batch[i].widget.rfkid;s==o?n=e.batch[i]:s==a&&(r=e.batch[i])}if("undefined"!=typeof n.content&&"undefined"!=typeof n.content.product){var l="#"+t+"-";$('select[id^="'+t+'-"]').remove();var d,c=l+"widgetTitle",u=l+"prev",p=l+"next",m=l+"rfkEnableSkuSelection";$(m).length>0&&(d=$(m).val());if("undefined"!=typeof r&&"undefined"!=typeof r.appearance&&"undefined"!=typeof r.appearance.variables&&"undefined"!=typeof r.appearance.variables.title){var g=r.appearance.css_names;$(g).each(function(e,t){$(c).addClass(t)});var f=r.appearance.variables,h=f["text-color"].value;""!=h&&$(c).css("color",h);var v=f.title.value;""!=v&&$(c).html(v)}var _=parseInt(n.n_item);if(_>0){$(c).show();for(var y in n.content.product.value){elementIndex=parseInt(y)+1;prodMainDiv=l+elementIndex;$(prodMainDiv).show();w(n.content.product.value[y],t,d);var I=n.content.product.value[y].prod_partnumber,S=de[t].products[I].selected_swatch;L(t,elementIndex,S,I,!1)}R(t,!0);if(_>3){$(u).length>0&&$(u).css({display:"block"});$(p).length>0&&$(p).css({display:"block"})}}}}function R(e,t){var o="#"+e+"-parent";if($(o).length>0){var a,n=$(o).val();if(n.length>0){a="#container_rfk_recommendation_"+n;1==t?$(a).show():$(a).hide()}}}function L(e,t,o,a,n,r){var i="",s="#"+e+"-rfkwidgetControlParam";$(s).length>0&&(i=$(s).val());var l=!1;"undefined"!=typeof r&&(l=!0);var d,c,u,p=de[e].products[a].name,m=de[e].products[a].brand,g=de[e].products[a].primary_sku,f=de[e].products[a].image_url,h=de[e].products[a].price_USD,v=de[e].products[a].listprice_USD,_=de[e].products[a].rd_price_USD,y=(de[e].products[a].review_rating,de[e].products[a].rd_eligible),I=de[e].products[a].defining_attr_count,S=de[e].products[a].url,C=de[e].products[a].personalizedItemFlag,b=de[e].products[a].rxFoodIndicator,E=de[e].products[a].rxPharmaIndicator,T=de[e].products[a].inStoreOnlyIndicator,k="",R="#"+e+"-",L="#clsLoading-"+e+"-",O=R+"rfkEnableSkuSelection",w=R+"rfkEnableAddToCart";$(O).length>0&&(d=$(O).val());$(w).length>0&&(c=$(w).val());if(0==n){var x=R+t,N=L+t,F=R+t+"-name-link";$(x).show();$(N).hide();if($(F).length>0){$(F).click(function(){location.href=S});void 0!=m&&""!=m?formattedName=D(p,m):formattedName=p;$(F).html(formattedName);"break-word"!=$(F).css("overflow-wrap")&&$(F).dotdotdot()}A(e,t,a);"yes"==d&&P(e,a,t,I)}if(Object.keys(o).length>0){g=o.sku_partnumber;f=o.image_url;h=o.price_USD;v=o.listprice_USD;y=o.ptc_omni_repeat_delivery_fl;_=o.rd_price_USD;u=o.ptc_omni_bopus_flag;k=o.is_bopus_area_restriction_req}var B=R+t+"-price-rd",j=R+t+"-price";if("undefined"!=typeof k&&""!=k&&"yes"==k.toLowerCase()){$(B+".product-pricing").addClass("hideBopusAreaRestriction");$(j+".product-pricing").addClass("hideBopusAreaRestriction")}else{$(B+".product-pricing").removeClass("hideBopusAreaRestriction");$(j+".product-pricing").removeClass("hideBopusAreaRestriction")}var M=R+t+"-img";if($(M).length>0)if($(M+".verticalImage_rfk").length>0){var H=f+"?$tile-recommendations$";isCloudniaryEnabled()&&(H=f.replace("f_auto,q_auto","f_auto,q_auto,t_tile-recommendations"));"PDP_ATC_MODAL"==i?$(M).html('<a href="'+S+'" target="_parent" onclick="javascript:trackATCInterstitailClick(\'modal_prod_rec_click\'); return true;"><img class="img-responsive"  src="'+H+'" title="'+p+'"></a>'):$(M).html('<a href="'+S+'" target="_parent" onclick="clickTrackLink(this);"><img class="img-responsive"  src="'+H+'" title="'+p+'"></a>')}else{var H=f+"?$PLP-item-large$";isCloudniaryEnabled()&&(H=f.replace("f_auto,q_auto","f_auto,q_auto,t_PLP-item-large"));"PDP_ATC_MODAL"==i?$(M).html('<a href="'+S+'" target="_parent" onclick="javascript:trackATCInterstitailClick(\'modal_prod_rec_click\');return true;"><img src="'+H+'" title="'+p+'"></a>'):$(M).html('<a href="'+S+'" target="_parent" onclick="clickTrackLink(this);"><img src="'+H+'" title="'+p+'"></a>')}var U=!0;void 0!=T&&null!=T&&"yes"==T.toLowerCase()&&(void 0!=u&&null!=u&&"yes"==u.toLowerCase()||(U=!1));if(U){var J=R+t+"-price-promo";$(J).length>0&&$(J).html(h);var G=R+t+"-price-crossout";"undefined"!=typeof v&&1*v.replace("$","")>1*h.replace("$","")&&$(G).length>0&&$(G).html("was "+v);var W=R+t+"-price-rd",q=R+t+"-price-rd-val",K=R+t+"-price-rd-logo";if(void 0!=y&&null!=y&&"yes"==y.toLowerCase()){if($(W).length>0){$(q).html(_);$(W).show()}}else{$(q).html("");$(K).html("");$(K).removeClass("rd-logo")}}else{var W=R+t+"-price-rd",q=R+t+"-price-rd-val",K=R+t+"-price-rd-logo";$(q).html("");$(K).html("");$(K).removeClass("rd-logo")}var V=e+"-"+t+"-productName-tagging",z=e+"-"+t+"-partNumber-tagging",Y=e+"-"+t+"-productId-tagging";document.getElementById(Y)&&(document.getElementById(Y).value=o.sku_uid);document.getElementById(V)&&(document.getElementById(V).value=p);document.getElementById(z)&&(document.getElementById(z).value=g);if("yes"==c){addToCartVar=R+t+"-addToCart";var Z=!0;I>1?Z=!1:void 0!=C&&null!=C&&"yes"==C.toLowerCase()?Z=!1:void 0!=b&&null!=b&&"yes"==b.toLowerCase()?Z=!1:void 0!=E&&null!=E&&"rx medication pdp"==E.toLowerCase()?Z=!1:void 0!=T&&null!=T&&"yes"==T.toLowerCase()&&(Z=!1);var X=e+"-"+t+"-addToCartBtn",Q=$("#"+e+"-vertical-rfk-rec").parents("#recent-purchase-container").length,ee=$("#"+e+"-horizontal-rfk-rec").parents("#recent-purchase-container").length,te=e+"-"+t;if(Z)if($('select[id^="'+e+"-"+a+'"] option').size()>1&&!l){$('select[id^="'+e+"-"+a+'"]').val("");Q>0||ee>0?$(addToCartVar).html('<a disabled="disabled" class="show rfladdTocartLink text-underLine" id="'+X+'" onclick="petcoAddToCartJS.AddItem2ShopCartAjaxFromRecommendation(\''+g+"','"+te+"');\">Add to Cart</a>"):$(addToCartVar).html('<button disabled="disabled" class="btn btn-primary btn-full show rfladdTocartLink" id="'+X+'" onclick="petcoAddToCartJS.AddItem2ShopCartAjaxFromRecommendation(\''+g+"','"+te+"');\">Add to Cart</button>")}else Q>0||ee>0?$(addToCartVar).html('<a class="show rfladdTocartLink text-underLine" id="'+X+'" onclick="petcoAddToCartJS.AddItem2ShopCartAjaxFromRecommendation(\''+g+"','"+te+"');\">Add to Cart</a>"):$(addToCartVar).html('<button class="btn btn-primary btn-full show rfladdTocartLink" id="'+X+'" onclick="petcoAddToCartJS.AddItem2ShopCartAjaxFromRecommendation(\''+g+"','"+te+"');\">Add to Cart</button>");else Q>0||ee>0?$(addToCartVar).html('<a  id="'+e+"-"+a+'-viewdetails" class="rflviewDetailsLink text-underLine" onclick="clickTrackLink(this);" href="'+S+'" target="_parent">View Details</a>'):$(addToCartVar).html('<a  id="'+e+"-"+a+'-viewdetails" class="rflviewDetailsLink" onclick="clickTrackLink(this);" href="'+S+'" target="_parent"><button class="btn btn-primary btn-full rflViewDetailsLink show">View Details</button></a>')}if("undefined"!=typeof page&&null!=page){var oe=page.page_type.split(" ").join(""),ae=$("#"+e+"-widgetTitle"),ne="",re=R+t+"-rating-link",ie=R+t+"-img a",se=R+t+"-name-link",le=R+t+"-addToCart .rfladdTocartLink",ce=R+t+"-addToCart .rflviewDetailsLink";if(ae.length>0){ne=$(ae).html();ne=ne.split(" ").join("");var ue=oe+"-_-"+ne+":"+t+"-_-"+g;$(re).attr("manual_cm_sp",ue);$(ie).attr("manual_cm_sp",ue);$(se).attr("manual_cm_sp",ue);if($(le).length>0){var pe=ue+":addtocart";$(le).attr("manual_cm_sp",pe)}$(ce).length>0&&$(ce).attr("manual_cm_sp",ue)}}}function O(){}function w(e,t,o){var a={},n={},r=[],i=0,s=e.prod_partnumber,l=e.name,d=e.brand,c=e.sku_partnumber,u={},p=e.image_url,m=e.price_USD,g=e.listprice_USD,f=e.rd_price_USD,h=e.review_rating,v=e.review_count,_=e.ptc_omni_repeat_delivery_fl,y=e.url,I=e.ptc_omni_personalized_item_fl,S=e.ptc_omni_rx_food_ind,C=e.ptc_omni_pdp_behavior_template,b=e.ptc_omni_in_store_only_flag;if(void 0==de[t]){de[t]={};de[t].products={}}else void 0==de[t].products[s]&&(de[t].products[s]={attributes:{}});if("yes"==o){u=e.swatch;void 0!=u&&$.each(u,function(e,t){i=0;"undefined"!=typeof t.defining_attributes&&$.each(t.defining_attributes,function(e,t){for(var o in t){var a=t[o];if(void 0==n[o]){r=[];r.push(a);n[o]=r}else{r=n[o];var i=!1;$.each(r,function(e,t){a==t&&(i=!0)});if(0==i){r.push(a);n[o]=r}}}});$.each(t,function(e,o){e==ie&&o==c&&(a=t)})})}else{u=e.swatch;void 0!=u&&$.each(u,function(e,t){$.each(t,function(e,o){e==ie&&o==c&&(a=t)})})}for(var E in n)i++;de[t].products[s]={name:l,brand:d,review_rating:h,review_count:v,url:y,image_url:p,price_USD:m,listprice_USD:g,rd_price_USD:f,rd_eligible:_,attributes:n,swatches:u,primary_sku:c,selected_swatch:a,defining_attr_count:i,personalizedItemFlag:I,rxFoodIndicator:S,rxPharmaIndicator:C,inStoreOnlyIndicator:b}}function A(e,t,o){var a="#"+e+"-",n=de[e].products[o].review_rating,r=de[e].products[o].review_count,i=a+t+"-rating",s=a+t+"-star_limiter  .longbar",l=a+t+"-rating-link",d=a+t+"-review-count",c=de[e].products[o].url+"#customerReviews",u=5;void 0!=n&&null!=n||(n=0);void 0!=r&&null!=r||(r=0);if(!isNaN(n)){$(i).attr("title",n+"stars");var p=Math.round(100*n/u);p>100&&(p=100);$(s).width(p+"%");$(l).length>0&&($(l)[0].href=c);$(d).html("("+r+")")}}function P(e,t,o,a){var n,r,i,s=de[e].products[t].selected_swatch,l=de[e].products[t].attributes,d="#"+e+"-",c=d+o+"-skuDetailsDiv";$(c).addClass("select-style");$(c).removeClass("select-attribute");var u=!0;if(a>0){var p=!1;$.each(l,function(l,d){if(u){var c=e+"-"+t+"-"+l;"undefined"!=typeof s.defining_attributes&&(i=s.defining_attributes[0][l]);if(a>1){n=$("<select></select>").attr("id",c).attr("name",c).attr("class","form-control disabled").attr("disabled","disabled");p=!0}else n=$("<select></select>").attr("id",c).attr("name",c).attr("class","form-control");n.attr("onchange","ReflektionHelperJS.changeAttributeSelection('"+e+"',"+t+","+o+",this.value)");r=$("<option />",{text:"Select "+l,value:""});n.append(r);$.each(d,function(e,t){r=i==t?$("<option />",{text:t,value:t,selected:!0}):$("<option />",{text:t,value:t});n.append(r)});a>1&&(u=!1)}});$(c).append(n);p&&$(c).css("visibility","hidden")}else{var m=e+"-"+t+"-SELECT",c=d+o+"-skuDetailsDiv";$(c).addClass("select-style");$(c).removeClass("select-attribute");$(c).html('<select id="'+m+'"  class="form-control disabled" disabled><option value=""> Select </option> </select>');$(c).css("visibility","hidden")}}function x(e,t,o,a){var n=de[e].products[t].attributes,r=(de[e].products[t].name,{}),i="",s="";if("undefined"!=typeof n){$.each(n,function(e,t){$.each(t,function(t,o){if(o==a){i=e;s=o}})});if(""!=i&&""!=s){var l=de[e].products[t].swatches;$.each(l,function(e,t){"undefined"!=typeof t.defining_attributes&&$.each(t.defining_attributes,function(e,o){for(var a in o)i==a&&s==o[a]&&(r=t)})});if(Object.keys(r).length>0){L(e,o,r,t,!0,!0);$("#"+e+"-"+o+"-addToCartBtn").removeAttr("disabled","disabled")}else $("#"+e+"-"+o+"-addToCartBtn").attr("disabled","disabled")}else $("#"+e+"-"+o+"-addToCartBtn").attr("disabled","disabled")}E()}function N(){r();var e=!1;if(he){var t=getCookie("RFKHeader");if("undefined"!=typeof t&&null!=t&&"rfk"==t){$("#ENABLE_REFLEKTION").val("true");e=!0}else{setCookie("RFKHeader","rfk");e=!0;$("#ENABLE_REFLEKTION").val("true")}}else{e=!1;$("#ENABLE_REFLEKTION").val("false")}return e}function F(){var e=$("#SimpleSearchForm_SearchTerm");if(e.length>0)return""!=$(e).val().trim()}function B(e){_e=getAbsoluteURL()+e}function j(){ReflektionHelperJS.retrievedCachedSuggestions||$.ajax({method:"GET",url:_e,dataType:"script"})}function M(e){e="//"+e;if("undefined"!=typeof reflektionList){var t=e.split("/"),o=t[t.length-1],a=reflektionList[o];return"undefined"!=typeof a&&null!=a&&""!=a?a:e}return e}function H(e){localStorage.setItem(SEARCH_SOURCE_KEY,e)}function U(){var e=JSON.parse(localStorage.getItem("petcostores")),t="";if(null!=e&&0!=Object.keys(e).length){var o={};if("undefined"!=typeof e.petcostores){o=null!=JSON.parse(e.petcostores)?JSON.parse(e.petcostores):{};var a=o[0];t=a.STATE;$("#CurrentBOPUSStateGlobal").val(t);if($("#isBOPUSAreaRestictionEnabeledTMP").length>0&&"true"==$("#isBOPUSAreaRestictionEnabeledTMP").val()){var n="";if($("#BOPUSAreaRestictionStateTMP").length>0){n=$("#BOPUSAreaRestictionStateTMP").val();for(var r=n.split(","),i=0;i<r.length;i++)if(r[i]==t){$(".hideBopusAreaRestriction p").html("In-Store Only");break}}}}}}function J(e,t,o){for(var a in productDisplayJS.entitledItems)if(t==productDisplayJS.entitledItems[a].catentry_id){ReflektionHelperJS.setRfkRecommendationSKU(productDisplayJS.entitledItems[a].PartNum);var n=10,r=setInterval(function(){if("undefined"!=typeof rfk&&null!=rfk&&"function"==typeof rfk.uid){clearInterval(r);n=10;ReflektionHelperJS.rfkRecommendation_init(e)}else if(0==n){clearInterval(r);n=10;ReflektionHelperJS.rfkRecommendation_init(e)}else n--},200)}}function G(e){var t=10,o=setInterval(function(){if("undefined"!=typeof rfk&&null!=rfk&&"function"==typeof rfk.uid){clearInterval(o);t=10;ReflektionHelperJS.rfkRecommendation_init(e)}else if(0==t){clearInterval(o);t=10;ReflektionHelperJS.rfkRecommendation_init(e)}else t--},200)}function W(e){var t=10,o=setInterval(function(){if("undefined"!=typeof rfk&&null!=rfk&&"function"==typeof rfk.uid){clearInterval(o);t=10;ReflektionHelperJS.rfkRecommendation_initBatch(e)}else if(0==t){clearInterval(o);t=10;ReflektionHelperJS.rfkRecommendation_initBatch(e)}else t--},200)}function q(e){var t=K(e);if(void 0!=t.widgetArr&&N())var o=setInterval(function(){if(oe){V(t);clearInterval(o)}},100)}function K(e){var t={},o=0,a=[];$("#rfkRecommendationPartNumber").length>0&&(a=$("#rfkRecommendationPartNumber").val().split(","));var n=[];$("input[name='rfkWidgetId']").each(function(e){var t=$(this).val(),a=!1;$.each(ce.split(","),function(e,o){if(o==t){a=!0;return!1}});if(1==a)return!0;ce=""==ce?t:ce+","+t;var r=$("#"+t+"-rfkWidgetName").val(),i=$("#"+t+"-rfkTitleWidgetName").val(),s=$("#"+t+"-rfkNoOfProducts").val();parseInt(s)>o&&(o=parseInt(s));var l=$("#"+t+"-rfkwidgetControlParam").val(),d={};d.widgetId=t;d.rfkWidgetName=r;d.rfkTitleWidgetName=i;d.rfkWidgetControlParam=l;n.push(d)});if(0==n.length)return t;t.widgetArr=n;t.rfkSkus=a;t.rfkNumberOfProductToDisplay=o;return t}function V(e){var t="//"+ae,o=!0;$.each(e.widgetArr,function(t,a){if("CART"==a.rfkWidgetControlParam||"OCP"==a.rfkWidgetControlParam){le.data.context.page.sku=[];le.data.context.page.sku=e.rfkSkus}else if("UID"!=a.rfkWidgetControlParam){o=!1;return!1}});1==o&&void 0!=e.rfkNumberOfProductToDisplay&&""!=e.rfkNumberOfProductToDisplay?le.data.n_item=e.rfkNumberOfProductToDisplay:o=!1;if(1==o&&void 0!=e.widgetArr&&e.widgetArr.length>0){le.data.batch=[];$.each(e.widgetArr,function(e,t){var o={};if(void 0!=t.rfkWidgetName&&t.rfkWidgetName.length>0){o.widget={};o.widget.rfkid=t.rfkWidgetName;le.data.batch.push(o)}if(void 0!=t.rfkTitleWidgetName&&t.rfkTitleWidgetName.length>0){o={};o.widget={};o.widget.rfkid=t.rfkTitleWidgetName;le.data.batch.push(o)}})}else o=!1;var a="RFK_UUID";"undefined"!=typeof rfk&&null!=rfk&&"undefined"!=typeof rfk.uid&&"function"==typeof rfk.uid&&(a=rfk.uid());le.data.context.user.uuid=a;o&&$.ajax({url:t,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+te},timeout:re,beforeSend:function(e){e.setRequestHeader("Content-Type","application/json")},data:JSON.stringify(le),success:function(t){if("undefined"!=typeof t){z(t,e);ReflektionHelperJS.bopusAreaRestrictionCheck()}else console.log("invalid response from RFK")},error:function(e,t,o){T(e,t,o);O()},complete:function(t,o){b(t,o,e)}})}function z(e,t){$.each(t.widgetArr,function(t,o){var a={},n={},r=o.widgetId,i=o.rfkWidgetName,s=o.rfkTitleWidgetName;for(var l in e.batch){var d=e.batch[l].widget.rfkid;d==i?a=e.batch[l]:d==s&&(n=e.batch[l])}if("undefined"==typeof a.content||"undefined"==typeof a.content.product)return!0;var c="#"+r+"-";$('select[id^="'+r+'-"]').remove();var u,p=c+"widgetTitle",m=c+"prev",g=c+"next",f=c+"rfkEnableSkuSelection";$(f).length>0&&(u=$(f).val());if("undefined"!=typeof n&&"undefined"!=typeof n.appearance&&"undefined"!=typeof n.appearance.variables&&"undefined"!=typeof n.appearance.variables.title){var h=n.appearance.css_names;$(h).each(function(e,t){$(p).addClass(t)});var v=n.appearance.variables,_=v["text-color"].value;""!=_&&$(p).css("color",_);var y=v.title.value;""!=y&&$(p).html(y)}var I=parseInt(a.n_item),S=$(c+"rfkNoOfProducts").val();if(I>0){$(p).show();for(var C in a.content.product.value){elementIndex=parseInt(C)+1;if(elementIndex<=S){prodMainDiv=c+elementIndex;$(prodMainDiv).show();w(a.content.product.value[C],r,u);var b=a.content.product.value[C].prod_partnumber,E=de[r].products[b].selected_swatch;L(r,elementIndex,E,b,!1)}}R(r,!0);if(S>3){$(m).length>0&&$(m).css({display:"block"});$(g).length>0&&$(g).css({display:"block"})}}})}var Y="reflektion_api_accesstoken",Z=[],X=[],Q={},ee="RFK_ACCESS_TOKEN",te="",oe=!1,ae="",ne="",re="",ie="sku_partnumber",se={},le={},de={},ce="",ue={},pe="",me=" ",ge=!1,fe={},he=!1,ve=!1,_e="",ye=!1;SEARCH_SOURCE_KEY="search_source";return{reflektion_init:g,autoComplete_init:s,autoComplete_removeCommaBeforeSubmit:m,generateReflektionAutoCompleteUrl:h,setRfkRecommendationSKU:_,RECOMMENDATION_PDP_SKU:pe,rfkRecommendation_init:y,changeAttributeSelection:x,checkBeforeSearchSubmit:F,setCachedSuggestionsURL:B,retrievedCachedSuggestions:ve,setSearchSource:H,bopusAreaRestrictionCheck:U,recomentationPDPCall:J,recomentationNoNPDPCall:G,recommendationNoNPDPBatchCall:W,rfkRecommendation_initBatch:q,widgetsFiredForRecommetnaions:Z}}();wc.render.declareContext("rfkSearchBasedNavigationContext",{contentBeginIndex:"0",productBeginIndex:"0",beginIndex:"0",orderBy:"0",facetId:"",pageView:"",resultType:"both",orderByContent:"",searchTerm:"",facet:"",facetLimit:"",minPrice:"",maxPrice:"",pageSize:"48",action:"",physicalStoreId:"0000",pageNumber:"1",rfkFacet:"",categoryLevel:"1"},"");wc.render.declareRefreshController({id:"rfkSearchResultDisplayController",renderContext:wc.render.getContextById("rfkSearchBasedNavigationContext"),url:getAbsoluteURL()+"RfkSearchResultDisplayView",formId:"",renderContextChangedHandler:function(e,t){var o=[];this.renderContext;$("#pageContextParameter").size()>0&&($("#pageContextParameter")[0].id="pageContextParameter_old");o.orderBy=this.renderContext.properties.orderBy;o.rfkFacet=this.renderContext.properties.rfkFacet;o.searchTerm=this.renderContext.properties.searchTerm;o.pageNumber=this.renderContext.properties.pageNumber;o.pageSize=this.renderContext.properties.pageSize;o.categoryLevel=this.renderContext.properties.categoryLevel;t.refresh(o)},postRefreshHandler:function(widget){resetRequest();this.facetSelectionChanged=!1;var totalFacetCount=document.getElementById("totalFacetCount").value,facetWidgetSuffix=document.getElementById("facetWidgetSuffix").value,allFacets=document.getElementById("allFacets").value;if(""!=allFacets)for(var facetList=allFacets.split(","),facetCount=0;facetCount<totalFacetCount;facetCount++){var facetSection=facetList[facetCount],facetValueCountVar="fv_count_"+facetSection,facetValueCount=document.getElementById(facetValueCountVar).value;facetValueCount>5&&RfkSearchBasedNavigationDisplayJS.hideFacetValues(facetSection,facetValueCount);facetCount>=3&&RfkSearchBasedNavigationDisplayJS.collapseFacets(facetSection+facetWidgetSuffix)}$("div.products-row.products-section").length>0&&$(".collapseFacets").each(function(){var e=$(this).val();RfkSearchBasedNavigationDisplayJS.collapseFacets(e);
});RfkSearchBasedNavigationDisplayJS.showSearchResultSummary();RfkSearchBasedNavigationDisplayJS.showSelectedFacet();RfkSearchBasedNavigationDisplayJS.showBreadcrumbTrail();setTimeout(function(){RfkSearchBasedNavigationDisplayJS.populateDynamicEspotContent()},500);RfkSearchBasedNavigationDisplayJS.showProductRating();RfkSearchBasedNavigationDisplayJS.showRecommendationWdigets();RfkSearchBasedNavigationDisplayJS.triggerPDPTagging();ReflektionHelperJS.bopusAreaRestrictionCheck();$("#pageContextParameter").size()>0&&eval($("#pageContextParameter")[0].innerHTML);lazy_image_loader(!1);RfkSearchBasedNavigationDisplayJS.brandFilterSetUp();populateCurentBopusStore();var countOfSelectedFilter=$("div#facetFilterListWrapper-PetcoNext a.selectedFacets").length;countOfSelectedFilter>0&&$("#sort_filter").html("Sort and Filter ("+countOfSelectedFilter+")");RfkSearchBasedNavigationDisplayJS.isSortChanged=!1;RfkSearchBasedNavigationDisplayJS.displaySelectedFacets();RfkSearchBasedNavigationDisplayJS.updateHistory();RFKCallCitrusFilter();cursor_clear()}});wc.render.declareContext("rfkCategoryBasedNavigationContext",{storeId:"10151",contentBeginIndex:"0",productBeginIndex:"0",beginIndex:"0",orderBy:"0",facetId:"",pageView:"",resultType:"both",orderByContent:"",searchTerm:"",facet:"",facetLimit:"",minPrice:"",maxPrice:"",pageSize:"48",action:"",physicalStoreId:"0000",pageNumber:"1",rfkFacet:"",categoryLevel:"1"},"");wc.render.declareRefreshController({id:"rfkCategoryResultDisplayController",renderContext:wc.render.getContextById("rfkCategoryBasedNavigationContext"),url:getAbsoluteURL()+"RfkCategoryResultDisplayView",formId:"",renderContextChangedHandler:function(e,t){var o=[],a=this.renderContext;if(null!=byId("bopusItemfacet")){var n=byId("bopusItemfacet").value.replace("facetDiv","");if("0000"!=RfkSearchBasedNavigationDisplayJS.isFileterWithStoreId()&&($(byId(byId("bopusItemfacet").value)[0]).find('input[type="checkbox"]:checked').length>0||this.renderContext.properties.rfkFacet.indexOf(n)!=-1)&&$("#bopusInfoTabInPlp_conatiner").length>0){a.properties.physicalStoreId=RfkSearchBasedNavigationDisplayJS.isFileterWithStoreId();o.physicalStoreId=this.renderContext.properties.physicalStoreId}}$("#pageContextParameter").size()>0&&($("#pageContextParameter")[0].id="pageContextParameter_old");o.orderBy=this.renderContext.properties.orderBy;o.rfkFacet=this.renderContext.properties.rfkFacet;o.categoryId=this.renderContext.properties.categoryId;o.storeId=this.renderContext.properties.storeId;o.pageNumber=this.renderContext.properties.pageNumber;o.pageSize=this.renderContext.properties.pageSize;o.categoryLevel=this.renderContext.properties.categoryLevel;t.refresh(o)},postRefreshHandler:function(widget){resetRequest();this.facetSelectionChanged=!1;var totalFacetCount=document.getElementById("totalFacetCount").value,facetWidgetSuffix=document.getElementById("facetWidgetSuffix").value,allFacets=document.getElementById("allFacets").value;if(""!=allFacets)for(var facetList=allFacets.split(","),facetCount=0;facetCount<totalFacetCount;facetCount++){var facetSection=facetList[facetCount],facetValueCountVar="fv_count_"+facetSection,facetValueCount=document.getElementById(facetValueCountVar).value;facetValueCount>5&&RfkSearchBasedNavigationDisplayJS.hideFacetValues(facetSection,facetValueCount);facetCount>=3&&RfkSearchBasedNavigationDisplayJS.collapseFacets(facetSection+facetWidgetSuffix)}$("div.products-row.products-section").length>0&&$(".collapseFacets").each(function(){var e=$(this).val();RfkSearchBasedNavigationDisplayJS.collapseFacets(e)});RfkSearchBasedNavigationDisplayJS.showSelectedFacet();RfkSearchBasedNavigationDisplayJS.populateDynamicEspotContent();RfkSearchBasedNavigationDisplayJS.showProductRating();RfkSearchBasedNavigationDisplayJS.showRecommendationWdigets();RfkSearchBasedNavigationDisplayJS.triggerPDPTagging();ReflektionHelperJS.bopusAreaRestrictionCheck();$("#pageContextParameter").size()>0&&eval($("#pageContextParameter")[0].innerHTML);lazy_image_loader(!1);RfkSearchBasedNavigationDisplayJS.brandFilterSetUp();populateCurentBopusStore();var countOfSelectedFilter=$("div#facetFilterListWrapper-PetcoNext a.selectedFacets").length;countOfSelectedFilter>0&&$("#sort_filter").html("Sort and Filter ("+countOfSelectedFilter+")");RfkSearchBasedNavigationDisplayJS.isSortChanged=!1;RfkSearchBasedNavigationDisplayJS.displaySelectedFacets();RfkSearchBasedNavigationDisplayJS.updateHistory();RFKCallCitrusFilter();cursor_clear()}});"undefined"!=typeof RfkSearchBasedNavigationDisplayJS&&null!=RfkSearchBasedNavigationDisplayJS&&RfkSearchBasedNavigationDisplayJS||(RfkSearchBasedNavigationDisplayJS={isSortChanged:!1,contextValueSeparator:"&",contextKeySeparator:":",widgetId:"",facetArray:{},selectedFacetDetails:{},selectedMobileFacets:{},selectedCategoryFilters:{},facetIdsArray:new Array,facetIdsParentArray:new Array,uniqueParentArray:new Array,bopusFilterQueryForPhysicalStrPopulate:{},facetSelectionChanged:!1,hierarchyIndicator:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),isFileterWithStoreId:function(){var e="0000",t=!1,o="",a="0000",n=dojo.cookie("WC_physicalStores");if("undefined"!=typeof n){var r=n.split(",");if(r.length>0){o=r[0];if(""!=o){a=RfkSearchBasedNavigationDisplayJS.extractStoreIdentiferFromPhysicalStoreId(o);t=!0}}}t&&null!=byId("bopusItemfacet")&&byId(byId("bopusItemfacet").value).className.indexOf("bopusfacetholder")!=-1&&(e=a);return e},extractStoreIdentiferFromPhysicalStoreId:function(e){var t="",o="petcostores",a=localStorage.getItem(o);if(null!=a){var n=JSON.parse(a);if("undefined"!=typeof n.petcostores){var r=JSON.parse(n.petcostores);for(var i in r)if(r[i].STLOC_ID==e){t=r[i].IDENTIFIER;break}}}return t},initConstants:function(e,t,o,a){this.removeCaption=e;this.moreMsg=t;this.lessMsg=o;this.currencySymbol=a},sortResults:function(e){var t="Page";$("#tagPrefix").length>0&&(t=$("#tagPrefix").val());var o=$(e).children("option:selected").text(),a=$(e).val();$(e).attr("manual_cm_sp",t+"-_-Sort By-_-"+o.trim());clickTrackLink(e);cursor_wait();if(null!=document.getElementById("rfkSearchTerm")){var n=document.getElementById("rfkSearchTerm").value;wc.render.updateContext("rfkSearchBasedNavigationContext",{productBeginIndex:"0",orderBy:a,searchTerm:n,resultType:"products"})}if(null!=document.getElementById("RFKcategoryId")){var r=document.getElementById("RFKcategoryId").value,i=document.getElementById("RFKCategoryLevel").value;wc.render.updateContext("rfkCategoryBasedNavigationContext",{productBeginIndex:"0",orderBy:a,categoryId:r,storeId:$("#storeId").val(),resultType:"products",categoryLevel:i})}RfkSearchBasedNavigationDisplayJS.updateHistory();MessageHelper.hideAndClearMessage()},paginateSearchResult:function(e,t){cursor_wait();if(null!=document.getElementById("rfkSearchTerm")){var o=document.getElementById("rfkSearchTerm").value;wc.render.updateContext("rfkSearchBasedNavigationContext",{pageNumber:e,pageSize:t,searchTerm:o,resultType:"products"})}if(null!=document.getElementById("RFKcategoryId")){var a=document.getElementById("RFKcategoryId").value,n=document.getElementById("RFKCategoryLevel").value;wc.render.updateContext("rfkCategoryBasedNavigationContext",{pageNumber:e,pageSize:t,categoryId:a,storeId:$("#storeId").val(),resultType:"products",categoryLevel:n})}MessageHelper.hideAndClearMessage()},addCategoryFilter:function(e,t,o){this.selectedFacetDetails={};this.facetArray={};var a=parseInt(o);if(void 0==this.selectedCategoryFilters[a]||null==this.selectedCategoryFilters[a]){var n="fdn_"+t,r=document.getElementById(n).value;this.selectedCategoryFilters[a]={facetId:t,facet:e,fdn:r,level:o}}if(void 0!=this.facetArray[e]&&void 0!=this.facetArray[e].values){var i=this.facetArray[e].values;i.push(t)}else{var s=[];s.push(t);this.facetArray[e]={};this.facetArray[e].values={};this.facetArray[e].values=s}this.filterSearchResults(o)},searchBySuggestedSearchTerm:function(e){this.selectedFacetDetails={};this.facetArray={};cursor_wait();if(null!=document.getElementById("rfkSearchTerm")){document.getElementById("rfkSearchTerm").value=e;wc.render.updateContext("rfkSearchBasedNavigationContext",{pageNumber:"1",pageSize:"48",searchTerm:e,rfkFacet:"",resultType:"products"})}RfkSearchBasedNavigationDisplayJS.updateHistory();MessageHelper.hideAndClearMessage()},addSearchResultFilter:function(e,t,o){var a="fdn_"+e+"_"+t,n=document.getElementById(a).value,r=window.matchMedia("(max-width: 768px)").matches;if(r){this.selectedMobileFacets[t]={facet:e,fdn:n,facetSection:o};this.showSelectedFacet()}else{this.selectedFacetDetails[t]={facet:e,fdn:n,facetSection:o};if(void 0!=this.facetArray[e]&&void 0!=this.facetArray[e].values){var i=this.facetArray[e].values;i.push(t)}else{var s=[];s.push(t);this.facetArray[e]={};this.facetArray[e].values={};this.facetArray[e].values=s}this.filterSearchResults("")}},filterSearchResults:function(e){var t,o,a="",n=0,r=$('select[id^="product-listing-sort-by"]').length>0?$('select[id^="product-listing-sort-by"]').val():0;for(var i in this.facetArray){t=this.facetArray[i].values;o=0;var s="";for(var l in t){s=0==o?t[l]:s+","+t[l];o+=1}0==n&&""!=s?a=a+i+":"+s:""!=s&&(a=a+"#"+i+":"+s);n+=1}cursor_wait();if(null!=document.getElementById("rfkSearchTerm")){var d=document.getElementById("rfkSearchTerm").value;""!=e?wc.render.updateContext("rfkSearchBasedNavigationContext",{pageNumber:1,searchTerm:d,rfkFacet:a,resultType:"products",categoryLevel:e,orderBy:r}):wc.render.updateContext("rfkSearchBasedNavigationContext",{pageNumber:1,searchTerm:d,rfkFacet:a,resultType:"products",orderBy:r})}if(null!=document.getElementById("RFKcategoryId")){var c=document.getElementById("RFKcategoryId").value;e=document.getElementById("RFKCategoryLevel").value;""!=e?wc.render.updateContext("rfkCategoryBasedNavigationContext",{pageNumber:1,categoryId:c,rfkFacet:a,resultType:"products",storeId:$("#storeId").val(),categoryLevel:e,orderBy:r}):wc.render.updateContext("rfkCategoryBasedNavigationContext",{pageNumber:1,categoryId:c,storeId:$("#storeId").val(),rfkFacet:a,resultType:"products",orderBy:r})}RfkSearchBasedNavigationDisplayJS.updateHistory();MessageHelper.hideAndClearMessage()},removeSearchResultFilter:function(e,t){if(void 0!=this.facetArray[e]&&void 0!=this.facetArray[e].values){var o=this.facetArray[e].values,a=[];for(var n in o)o[n]!=t&&a.push(o[n]);this.facetArray[e].values={};a.length>0?this.facetArray[e].values=a:delete this.facetArray[e];delete this.selectedFacetDetails[t];this.facetSelectionChanged=!0}var r=window.matchMedia("(max-width: 768px)").matches;if(r){void 0!=this.selectedMobileFacets[t]&&delete this.selectedMobileFacets[t];var i=document.getElementById("product-filters"),s=!1;void 0!=i&&i.classList.contains("active")&&(s=!0);if(0==s)this.filterSearchResults("");else{var l=e+"_"+t,d=document.getElementById(l);void 0!=d&&null!=d&&(d.checked=!1);this.showSelectedFacet()}}else this.filterSearchResults("")},resetSearch:function(){this.selectedFacetDetails={};this.selectedCategoryFilters={};this.facetArray={};var e=document.getElementById("rfkSearchTerm").value;cursor_wait();wc.render.updateContext("rfkSearchBasedNavigationContext",{pageNumber:1,searchTerm:e,rfkFacet:"",resultType:"products",categoryLevel:"1"});RfkSearchBasedNavigationDisplayJS.updateHistory();MessageHelper.hideAndClearMessage()},clearAllFilter:function(e){if(e){var t=document.getElementById(e+"-filters"),o=document.querySelectorAll("body")[0];if(t){t.classList.remove("active");o.classList.remove("no-scroll")}}this.selectedMobileFacets={};this.selectedFacetDetails={};this.selectedCategoryFilters={};this.facetArray={};this.filterSearchResults("")},refreshCategoryFilter:function(e){if("0"!=e){for(var t=parseInt(e),o=Object.keys(this.selectedCategoryFilters).length,a=this.selectedCategoryFilters[e],n=a.facet,r=a.facetId,i=Object.keys(this.selectedCategoryFilters),s=0;s<o;s++){var l=parseInt(i[s]);l>t&&delete this.selectedCategoryFilters[l]}this.addCategoryFilter(n,r,e)}else{this.resetSearch();var d=wc.render.getContextById("rfkSearchBasedNavigationContext");parseInt(d.properties.categoryLevel)}},showBreadcrumbTrail:function(){var e,t,o=document.getElementById("rfkSearchTerm").value,a=1;if(Object.keys(this.selectedCategoryFilters).length>0){var n=byId("rfkBreadcrumbTrail"),r=byId("breadcrumb_srch_term");t="Search:"+o;e=t+"_"+this.hierarchyIndicator[a];if(null==r){r=document.createElement("li");r.setAttribute("id","breadcrumb_srch_term");r.innerHTML="<a  href='#' manual_cm_sp='Search_PLP-_-Breadcrumbs-_-"+e+"' onclick='javascript:clickTrackLink(this);RfkSearchBasedNavigationDisplayJS.refreshCategoryFilter(\"0\"); return false;'>"+t+"</a>";n.appendChild(r)}var i=Object.keys(this.selectedCategoryFilters).length,s=1;for(var l in this.selectedCategoryFilters){a+=1;this.selectedCategoryFilters[l].facet;t=this.selectedCategoryFilters[l].fdn;var d="cgry_link_"+l,c=byId(d);if(null==c){c=document.createElement("li");c.setAttribute("id",d)}n.appendChild(c);if(s==i){c.setAttribute("class","active");c.innerHTML=t}else{e=t+"_"+this.hierarchyIndicator[a];c.innerHTML="<a  href='#' manual_cm_sp='Search_PLP-_-Breadcrumbs-_-"+e+"' onclick='javascript:clickTrackLink(this);RfkSearchBasedNavigationDisplayJS.refreshCategoryFilter(\""+l+"\"); return false;'>"+t+"</a>"}s+=1}}else{var n=byId("rfkBreadcrumbTrail"),u=byId("breadcrumb_1");n.innerHTML="";n.appendChild(u)}},showSelectedFacet:function(){$("#facetFilterListWrapper").empty();$("#facetFilterListWrapper-PetcoNext").empty();$("#facetFilterListWrapper_mobile").empty();var e=byId("facetFilterListWrapper"),t=byId("facetFilterList");if(Object.keys(this.selectedFacetDetails).length>0||Object.keys(this.selectedMobileFacets).length>0){if(null==t){t=document.createElement("ul");t.setAttribute("id","facetFilterList");t.setAttribute("class","list-unstyled");var e=byId("facetFilterListWrapper");e.appendChild(t)}}else{$("#facetFilterListWrapper").empty();$("#facetFilterListWrapper_mobile").empty();$("#facetFilterListWrapper-PetcoNext").empty()}if(Object.keys(this.selectedFacetDetails).length>0){for(var o in this.selectedFacetDetails){var a=this.selectedFacetDetails[o].facet,n="selected_"+o,r=byId(n);if(null==r){r=document.createElement("li");r.setAttribute("id",n);r.setAttribute("class","facetSelected")}t.appendChild(r);var i=this.selectedFacetDetails[o].fdn,s="";s=0==i.indexOf("rating_")?byId("facetLabel_"+a+"_"+o).innerHTML:this.selectedFacetDetails[o].fdn;r.innerHTML="<h4><div class='filter_option'><div class='close'></div><span>"+s+"</span><div class='clear_float'></div></div></h4>";r.innerHTML="<a  role='button' href='#' onclick='javascript:setCurrentId(\""+o+'");RfkSearchBasedNavigationDisplayJS.removeSearchResultFilter("'+a+'", "'+o+"\"); return false;' class='selectedFacets'><span class='remove'>remove</span>"+s+"</a>";var l=a+"_"+o,d=document.getElementById(l);void 0!=d&&null!=d&&(d.checked=!0);var c=document.getElementById("facetWidgetSuffix").value,u=this.selectedFacetDetails[o].facetSection,p=u+c,m=byId("icon_"+p);void 0!=m&&null!=m&&"collapsed"==m.className&&this.toggleExpand(p)}var g=document.getElementById("clear_all_filter_new");if(null==g){g=document.createElement("li");g.setAttribute("id","clear_all_filter_new");g.innerHTML="<a class='clear-filters' manual_cm_sp='PLP-_-ClearAllFilters-_-Link' role='button' href='#' aria-label='Clear All Filters' id='clear_all_filter' onclick='RfkSearchBasedNavigationDisplayJS.clearAllFilter()';'>Clear All Filters</a>";t.appendChild(g)}}if(Object.keys(this.selectedMobileFacets).length>0){for(var o in this.selectedMobileFacets){var a=this.selectedMobileFacets[o].facet,n="selected_"+o,r=byId(n);if(null==r){r=document.createElement("li");r.setAttribute("id",n);r.setAttribute("class","facetSelected")}t.appendChild(r);var i=this.selectedMobileFacets[o].fdn,s="";s=0==i.indexOf("rating_")?byId("facetLabel_"+a+"_"+o).innerHTML:this.selectedMobileFacets[o].fdn;r.innerHTML="<h4><div class='filter_option'><div class='close'></div><span>"+s+"</span><div class='clear_float'></div></div></h4>";r.innerHTML="<a  role='button' href='#' onclick='javascript:setCurrentId(\""+o+'");RfkSearchBasedNavigationDisplayJS.removeSearchResultFilter("'+a+'", "'+o+"\"); return false;' class='selectedFacets'><span class='remove'>remove</span>"+s+"</a>";var l=a+"_"+o,d=document.getElementById(l);void 0!=d&&null!=d&&(d.checked=!0);var c=document.getElementById("facetWidgetSuffix").value,u=this.selectedMobileFacets[o].facetSection,p=u+c,m=byId("icon_"+p);void 0!=m&&null!=m&&"collapsed"==m.className&&this.toggleExpand(p)}RfkSearchBasedNavigationDisplayJS.displaySelectedFacets()}$("#facetFilterListWrapper_mobile").empty();$("#facetFilterListWrapper_mobile").append($("#facetFilterListWrapper").html());$("#facetFilterListWrapper-PetcoNext").length&&$("#facetFilterListWrapper-PetcoNext").html($("#facetFilterListWrapper").html())},showSearchResultSummary:function(){var e,t=dojo.byId("searchTabProdCount"),o=(dojo.byId("widgetSuffixHid"),dojo.byId("prodCount")),a=$("#searchBoxText").val();if(null!=o){e=o.value;null!=t&&"undefined"!=typeof a&&(t.innerHTML=e+' results for "<strong>'+a+'</strong>"')}},showProductRating:function(){activateRatings()},toggleExpand:function(e){var t=byId("icon_"+e),o=byId("section_list_"+e),a=byId("section_button_"+e);if("expand"==t.className){t.className="collapsed";o.setAttribute("aria-expanded","false");a.setAttribute("aria-expanded","false");o.style.display="none"}else{t.className="expand";o.setAttribute("aria-expanded","true");a.setAttribute("aria-expanded","true");o.style.display="block"}},hideFacetValues:function(e,t){for(var o=null,a=6;a<=t;a++){o="flag_"+e+"_"+a;if(null!=dojo.byId(o)){document.getElementById(o).classList.add("hide-filter");document.getElementById(o).style.display="none"}}},showAll:function(e,t){var o=document.getElementById("showAll_"+e);if(null!=o){dojo.style(o,"display","none");if("2"!=e||dojo.query('div[id^="flag_top_2"]').length)for(var a=null,n=6;n<=t;n++){a="flag_"+e+"_"+n;null!=byId(a)&&dojo.style(a,"display","");dojo.removeClass(a,"hide-filter")}else for(var a=null,n=0;n<=t;n++){a="flag_"+e+"_"+n;null!=byId(a)&&dojo.style(a,"display","")}}var r=document.getElementById("collapseAll_"+e);null!=r&&dojo.style(r,"display","")},collapseAll:function(e,t){var o=document.getElementById("collapseAll_"+e);if(null!=o){dojo.style(o,"display","none");if("2"!=e||0==dojo.query('div[id^="flag_top_2"]').length)for(var a=null,n=6;n<=t;n++){a="flag_"+e+"_"+n;null!=byId(a)&&dojo.style(a,"display","none");dojo.addClass(a,"hide-filter")}else for(var a=null,n=0;n<=t;n++){a="flag_"+e+"_"+n;null!=byId(a)&&dojo.style(a,"display","none")}}var r=document.getElementById("showAll_"+e);null!=r&&dojo.style(r,"display","")},collapseFacets:function(e){var t=document.getElementById("icon_"+e),o=(dojo.byId("iconSign_"+e),dojo.byId("section_list_"+e));t.className="collapsed";o.setAttribute("aria-expanded","false");o.style.display="none"},toggleMobileFilters:function(e){var t=document.getElementById(e+"-filters"),o=document.querySelectorAll(".filter-title .expand"),a=document.querySelectorAll('.facetSelectContainer[aria-expanded="true"]:not(.categoryFilterExpd)'),n=document.querySelectorAll("body")[0];if(t){t.classList.add("active");n.classList.add("no-scroll");for(var r=0;r<o.length;r++){o[r].classList.add("collapsed");o[r].classList.remove("expand");if(r<a.length){a[r].setAttribute("aria-expanded","false");a[r].style.display="none"}}}},closeMobileFilters:function(e){var t=document.getElementById(e+"-filters"),o=document.querySelectorAll("body")[0];if(t){t.classList.remove("active");o.classList.remove("no-scroll")}if(Object.keys(this.selectedMobileFacets).length>0){for(var a in this.selectedMobileFacets){var n=this.selectedMobileFacets[a];this.selectedFacetDetails[a]=n;var r=this.selectedMobileFacets[a].facet;if(void 0!=this.facetArray[r]&&void 0!=this.facetArray[r].values){var i=this.facetArray[r].values;i.push(a)}else{var n=[];n.push(a);this.facetArray[r]={};this.facetArray[r].values={};this.facetArray[r].values=n}}this.selectedMobileFacets={};this.facetSelectionChanged=!0}else RfkSearchBasedNavigationDisplayJS.isSortChanged&&$('div.mobile-only div.mobile-sort-by-container select[id^="product-listing-sort-by"]').length>0&&RfkSearchBasedNavigationDisplayJS.sortResults($('div.mobile-only div.mobile-sort-by-container select[id^="product-listing-sort-by"]')[0]);if(1==this.facetSelectionChanged){this.facetSelectionChanged=!1;this.filterSearchResults("")}},changeIcon:function(){var e=document.getElementById("catIconSign"),t=document.getElementById("collapseOne");"in"==t.className?e.className="glyphicon glyphicon-plus-sign":e.className="glyphicon glyphicon-minus-sign"},updateHistory:function(){try{var e=null;$("#rfkSearchResultDisplay").length>0?e=wc.render.getContextById("rfkSearchBasedNavigationContext").properties:$("#rfkCategoryResultDisplay").length>0&&(e=wc.render.getContextById("rfkCategoryBasedNavigationContext").properties);var t=document.body.scrollTop;history.pushState?history.pushState(null,null,"#"+JSON.stringify(e)):window.location.hash=JSON.stringify(e);document.body.scrollTop=t}catch(e){console.log("issue in adding history "+e)}},restoreHistoryContext:function(){try{if(null!=location.hash&&"#"!=location.hash&&""!=location.hash){var e=JSON.parse(decodeURI(location.hash).substring(1,decodeURI(location.hash).length));if(e.rfkFacet&&""!=e.rfkFacet||e.orderBy&&"0"!=e.orderBy||e.pageNumber&&"1"!=e.pageNumber){var t=e.rfkFacet;if(""!=t){var o=t.split("#");for(var a in o){var n=o[a].split(":");if(n.length>0){var r=n[0],i=n[1],s=i.split(",");for(var l in s){var d="fdn_"+r+"_"+s[l],c=window.matchMedia("(max-width: 768px)").matches;document.getElementById(d)&&(c?this.selectedMobileFacets[s[l]]={facet:r,fdn:document.getElementById(d).value,facetSection:r}:this.selectedFacetDetails[s[l]]={facet:r,fdn:document.getElementById(d).value,facetSection:r});this.facetArray||(this.facetArray={});if(void 0!=this.facetArray[r]&&void 0!=this.facetArray[r].values){var u=this.facetArray[r].values;u.push(s[l])}else{var i=[];i.push(s[l]);this.facetArray[r]={};this.facetArray[r].values={};this.facetArray[r].values=i}}}}}if(!submitRequest())return;cursor_wait();$("#rfkSearchResultDisplay").length>0?wc.render.updateContext("rfkSearchBasedNavigationContext",e):$("#rfkCategoryResultDisplay").length>0&&wc.render.updateContext("rfkCategoryBasedNavigationContext",e)}}}catch(e){console.log("issue in restoring history "+e)}},changeProductArticleTab:function(e){$("#products").removeClass("active");$("#articles").removeClass("active");$("#"+e).addClass("active");try{if("articles"==e){var t={};t.event_name="article_search";pushEvent(t);var o=PetcoDataLayer.search,a={};for(var n in o)"event_product_search_impression"!=n&&(a[n]=o[n]);a.search_group="Article";a.search_results_type="Article";PetcoDataLayer.search=a}}catch(e){console.log("issue in tagging "+e)}},showRecommendationWdigets:function(){new Array;$("input[name=rfkWidgetId]").each(function(){var e=$(this).val();ReflektionHelperJS.rfkRecommendation_init(e)})},triggerPDPTagging:function(){try{}catch(e){console.log("error occured in trigger PDP Tagging")}},populateDynamicEspotContent:function(){try{$(".dynamicContentEspotHTMLDesktop").remove();$(".dynamicContentEspotHTMLMobile").remove();var e=$("ul.pagination  li.active a.active.selected").html(),t=!1;if("undefined"==typeof e){e="1";t=!0}var o=window.matchMedia("(max-width: 768px)").matches;if("undefined"!=typeof e){var a=$("div.product-display-grid.product_listing_container").height();null===a&&(a=$($("div.products-row.products-section")[0]).outerHeight()*$("div.products-row.products-section").length);var n=$($("div.prod-tile")[0]).outerHeight();null===n&&(n=$($("div.products-row.products-section")[0]).outerHeight());var r=a/n;r=Math.floor(r);var i=$("div.product-display-grid.product_listing_container").width();null===i&&(i=$($("div.products-row.products-section")[0]).outerWidth());var s=$($("div.prod-tile")[0]).outerWidth();null===s&&(s=$($("div.products-row.products-section article.product-tile")[0]).outerWidth());var l=i/s;t||(l=$("div.prod-tile").length>0?$("div.prod-tile").length/r:$("article.product-tile").length/r);l=Math.ceil(l);l=l>4?4:l;$("div.dynamicEspot").each(function(t,a){var n=$(a).find(".PageNumberDesktop")[0].value,r=$(a).find(".PageNumberMobile")[0].value;if(n!=e||o){if(r==e&&o){var i=$(a).find(".EspotNameMobile")[0].value;if(""!=i.trim()){var s=$(a).find(".RowNumberMobile")[0].value,d=$(a).find(".EspotHeightMobile")[0].value+"px",c=$(a).find(".dynamicEspotContentMobile").html();$("div.dynamicContentEspotHTMLMobile").each(function(e,t){1*$(t).attr("rownum")>0&&1*$(t).attr("rownum")<1*s&&(s=1*s-1)});var u=(1*s-1)*l;u=u;var p=$(".prod-tile").length>0?".prod-tile":".product-tile",m=$(p)[u];if(null!=m)$(m).before('<div class="conatiner dynamicContentEspotHTMLMobile" rownum="'+s+'"><div class="row"><div class="col-12" style="max-height:'+d+'">'+c+"</div></div></div>");else{m=$("#prod-tile-"+($('[id^="prod-tile-"]').length-1));$(m).after('<div class="conatiner dynamicContentEspotHTMLMobile" rownum="0"><div class="row"><div class="col-12 dynamicContentEspotHTML" style="max-height:'+d+'">'+c+"</div></div></div>")}}}}else{var g=$(a).find(".EspotNameDesktop")[0].value;if(""!=g.trim()){var f=$(a).find(".RowNumberDesktop")[0].value,h=$(a).find(".EspotHeightDesktop")[0].value+"px",v=$(a).find(".dynamicEspotContentDesktop").html();$("div.dynamicContentEspotHTMLDesktop").each(function(e,t){1*$(t).attr("rownum")>0&&1*$(t).attr("rownum")<1*f&&(f=1*f-1)});var _=(1*f-1)*l;_=_;var y=$(".prod-tile").length>0?".prod-tile":".product-tile",I=$(y)[_];if(null!=I)$(I).before('<div class="conatiner dynamicContentEspotHTMLDesktop" rownum="'+f+'"><div class="row"><div class="col-12" style="max-height:'+h+'">'+v+"</div></div></div>");else{I=$("#prod-tile-"+($('[id^="prod-tile-"]').length-1));$(I).after('<div class="conatiner dynamicContentEspotHTMLDesktop" rownum="0"><div class="row"><div class="col-12 dynamicContentEspotHTML" style="max-height:'+h+'">'+v+"</div></div></div>")}}}});lazy_image_loader(!1)}window._generatePortals&&window._generatePortals()}catch(e){console.log("error occured in dynamic espot content")}},pullRfkbopusCount:function(){if(0!=$("#bopusInfoTabInPlp_conatiner").length){var e=$('body[data-wc-device="mobile"] section#products-listing-section').length>0;if(e)var t=document.getElementById("bopusInfoTabInPlp_mobile");else var t=document.getElementById("bopusInfoTabInPlp");var o=RfkSearchBasedNavigationDisplayJS.isFileterWithStoreId();if("0000"!=o){var a=window.categoryreflektion_filterQuery,n=byId("bopusItemfacet").value.replace("facetDiv","");if(a.indexOf(n)==-1)if(a.indexOf("how_to_get_it")==-1)a=a+"#how_to_get_it:"+n;else{for(var r="",i=a.split("#"),s=0;s<i.length;s++)r=i[s].indexOf("how_to_get_it")!=-1?""==r?i[s]+","+n:r+"#"+i[s]+","+n:""==r?i[s]+","+n:r+"#"+i[s];a=r}var l={};l.catalogId=WCParamJS.catalogId;l.storeId=WCParamJS.storeId;l.categoryId=window.categoryreflektion_categoryId;l.orderBy=window.categoryreflektion_orderBy;l.pageNumber=window.categoryreflektion_pageNumber;l.categoryLevel=window.categoryreflektion_categoryLevel;l.rfkFacet=a;l.physicalStoreId=o;$.post(getAbsoluteURL()+"RfkFetchProductCountForBOPUSStore",l,function(o,a){if("success"==a){1*o.totalSearchCount>0?$("#bopusInfoTabInPlp").removeClass("hide"):$("#bopusInfoTabInPlp").addClass("hide");1*o.totalSearchCount>0?null!=t&&(t.style="display : block"):null!=t&&(t.style="display : none !important");if(e){$("#bopusInfoTabInPlp_conatiner").addClass("hide");$("#bopusInfoTabInPlp_conatiner").removeClass("show");$("#bopusInfoTabInPlp_conatiner_mobile").addClass("show");$("#bopusInfoTabInPlp_conatiner_mobile").removeClass("hide")}else{$("#bopusInfoTabInPlp_conatiner").addClass("show");$("#bopusInfoTabInPlp_conatiner").removeClass("hide");$("#bopusInfoTabInPlp_conatiner_mobile").addClass("hide");$("#bopusInfoTabInPlp_conatiner_mobile").removeClass("show")}null!=byId("isSameDayDeliveryEnabled")&&"true"===$("#isSameDayDeliveryEnabled").val()&&RfkSearchBasedNavigationDisplayJS.showHideSameDayDeliveryFacet(!1)}else{$("#bopusInfoTabInPlp_conatiner_mobile").addClass("hide");$("#bopusInfoTabInPlp_conatiner_mobile").removeClass("show");$("#bopusInfoTabInPlp_conatiner").addClass("hide");$("#bopusInfoTabInPlp_conatiner").removeClass("show");null!=t&&(t.style="display : none !important");null!=byId("isSameDayDeliveryEnabled")&&"true"===$("#isSameDayDeliveryEnabled").val()&&RfkSearchBasedNavigationDisplayJS.showHideSameDayDeliveryFacet(!0)}},"json")}else{null!=t&&(t.style="display : none !important");null!=byId("isSameDayDeliveryEnabled")&&"true"===$("#isSameDayDeliveryEnabled").val()&&RfkSearchBasedNavigationDisplayJS.showHideSameDayDeliveryFacet(!0)}}},toggleAllItemToBopusTab:function(){$("#bopusCheckBoxPLP")[0].checked?$("#bopusCheckBoxPLP")[0].checked=!0:$("#bopusCheckBoxPLP")[0].checked=!1;$("#bopusCheckBoxPLP_mobile").length>0&&($("#bopusCheckBoxPLP_mobile")[0].checked?$("#bopusCheckBoxPLP_mobile")[0].checked=!0:$("#bopusCheckBoxPLP_mobile")[0].checked=!1);if(null!=byId("bopusItemfacet")&&byId(byId("bopusItemfacet").value).className.indexOf("bopusfacetholder")!=-1){var e=byId(byId("bopusItemfacet").value);if(null!=e){var t=e.id.replace("facetDiv","");setTimeout(function(){$(byId("how_to_get_it_"+t)).trigger("click");RfkSearchBasedNavigationDisplayJS.closeMobileFilters("product")},500)}}},toggleToSameDayDeliveryTab:function(){$("#SameDayDeliveryCheckBoxPLP")[0].checked?$("#SameDayDeliveryCheckBoxPLP")[0].checked=!0:$("#SameDayDeliveryCheckBoxPLP")[0].checked=!1;$("#SameDayDeliveryCheckBoxPLP_mobile").length&&($("#SameDayDeliveryCheckBoxPLP_mobile")[0].checked?$("#SameDayDeliveryCheckBoxPLP_mobile")[0].checked=!0:$("#SameDayDeliveryCheckBoxPLP_mobile")[0].checked=!1);if(null!=byId("sameDayDelfacet")){var e=byId(byId("sameDayDelfacet").value);if(null!=e){var t=e.id.replace("facetDiv","");setTimeout(function(){$(byId("how_to_get_it_"+t)).trigger("click");RfkSearchBasedNavigationDisplayJS.closeMobileFilters("product")},500)}}},showHideSameDayDeliveryFacet:function(e){var t=0;if(null!=byId("sameDayDelfacet")){var o=byId(byId("sameDayDelfacet").value);if(null!=o){var a=o.id.replace("facetDiv","");if(document.getElementById("how_to_get_it_"+a).checked){$("#SameDayDeliveryCheckBoxPLP")[0].checked=!0;$("#SameDayDeliveryCheckBoxPLP_mobile").length&&($("#SameDayDeliveryCheckBoxPLP_mobile")[0].checked=!0)}else{$("#SameDayDeliveryCheckBoxPLP")[0].checked=!1;$("#SameDayDeliveryCheckBoxPLP_mobile").length&&($("#SameDayDeliveryCheckBoxPLP_mobile")[0].checked=!1)}null!=document.getElementById("sameDayDelfacetCount")&&(t=parseInt($("#sameDayDelfacetCount").val()))}}var n=$('body[data-wc-device="mobile"] section#products-listing-section').length>0;if(n)var r=document.getElementById("sameDayDeliveryTabInPlp_mobile");else var r=document.getElementById("sameDayDeliveryTabInPlp");if(t>0){if(n){$("#bopusInfoTabInPlp_conatiner").addClass("hide");$("#bopusInfoTabInPlp_conatiner").removeClass("show");$("#bopusInfoTabInPlp_conatiner_mobile").addClass("show");$("#bopusInfoTabInPlp_conatiner_mobile").removeClass("hide")}else{$("#bopusInfoTabInPlp_conatiner").addClass("show");$("#bopusInfoTabInPlp_conatiner").removeClass("hide");$("#bopusInfoTabInPlp_conatiner_mobile").addClass("hide");$("#bopusInfoTabInPlp_conatiner_mobile").removeClass("show")}null!=r&&(r.style="display : block")}else{null!=r&&(r.style="display : none !important");if(e){$("#bopusInfoTabInPlp_conatiner").addClass("hide");$("#bopusInfoTabInPlp_conatiner").removeClass("show");if(n){$("#bopusInfoTabInPlp_conatiner_mobile").addClass("hide");$("#bopusInfoTabInPlp_conatiner_mobile").removeClass("show")}}}},displaySelectedFacets:function(){$(".facetSelctionMobile").remove();var e="";$("#isSameDayDeliveryEnabled").length&&"true"===$("#isSameDayDeliveryEnabled").val()&&$("#sameDayDelfacet").length&&(e=$("#sameDayDelfacet").val().replace("facetDiv",""));$('div#facetFilterListWrapper ul#facetFilterList li:not([id="clear_all_filter_new"])').each(function(t,o){
var a=o.id.replace("selected_","");if(a!=e){var n=$('div[id="facetDiv'+a+'"]').parent().parent().parent(),r=$(o).find("a")[0].innerHTML.replace('<span class="remove">remove</span>',"");$(n).before('<p class="mobile-only facetSelctionMobile">'+r+"</p>")}})},brandFilterSetUp:function(){$("#brandFilter").parent().parent().find("div.hide-filter").each(function(e,t){if("none"==$(t).css("display")){$(t).removeClass("hide-filter");$(t).css("display","block")}});$("#brandFilter").off("keyup");$("#brandFilter").keyup(function(e){if("Enter"===e.key||13===e.keyCode){e.preventDefault();return!1}var t=$("#brandFilter").val().toLowerCase().trim();$(".brandParentObj").each(function(e,t){$(t).removeClass("hide")});$(".brandList").each(function(e,o){$(o).text().toLowerCase().trim().indexOf(t)==-1&&$(o).parent().parent().parent().parent().addClass("hide")})})},clearAllFacets:function(){this.selectedMobileFacets={};$(".facetSelctionMobile").remove();$("#facetFilterListWrapper-PetcoNext").innerHTML="";byId("facetFilterListWrapper").innerHTML="";$("#facetFilterListWrapper_mobile").html("");if(null!=byId("low_price_value")&&null!=byId("high_price_value")){byId("low_price_value").value="";byId("high_price_value").value=""}for(var e=null!=document.forms.productsFacets?document.forms.productsFacets:document.forms.productsFacetsHorizontal,t=e.elements,o=0;o<t.length;o++){var a=t[o];null!=a.type&&"CHECKBOX"==a.type.toUpperCase()&&a.checked&&"MORE"!=a.title&&(a.checked=!1)}for(var n=document.getElementsByTagName("*"),o=0;o<n.length;o++){var a=n[o];if(null!=a.id){0==a.id.indexOf("section_")&&0!=a.id.indexOf("section_list")&&(a.style.display="block");0==a.id.indexOf("facetLabel_")&&a.parentElement.setAttribute("class","outline")}}}});$(document).ready(function(){$("#PLPPagesCitrusAds").length>0?RFKCallCitrusFilter():RfkSearchBasedNavigationDisplayJS.populateDynamicEspotContent();RfkSearchBasedNavigationDisplayJS.triggerPDPTagging();populateCurentBopusStore();dojo.topic.subscribe("callCompletedforLocationCheck",function(e){populateCurentBopusStore()});$(window).resize(function(){RfkSearchBasedNavigationDisplayJS.populateDynamicEspotContent()});$(".collapseFacets").each(function(){var e=$(this).val();RfkSearchBasedNavigationDisplayJS.collapseFacets(e)})});PetcoEmailSignup={langId:"-1",storeId:"",catalogId:"",setCommonParameters:function(e,t,o){this.langId=e;this.storeId=t;this.catalogId=o},closeEmailWindow:function(){var e=document.getElementById("emailSignup");$(":input",e).each(function(){var e=this.type;this.id;"text"==e&&(this.value="")});petcoCommonJS.hideModal("modal-emailsignupwidget")},emailsignupError:function(e){document.getElementById("error_message_server").style.display="none";var t=!0,o=dojo.byId("firstName_DIV"),a=dojo.byId("firstName_ERROR"),n=dojo.byId("emailAddress_DIV"),r=dojo.byId("emailAddress_ERROR");if(null!=e&&e){reWhiteSpace=new RegExp(/^\s+$/);var i=(new RegExp(/^[a-zA-Z]+[\sa-zA-Z]*$/i),new RegExp(/^[a-zA-z0-9]+$/i),new RegExp(/^[a-zA-Z]+((([-]?[\sa-zA-Z]+)?([']?[\sa-zA-Z]+)?)|(([']?[\sa-zA-Z]+)?([-]?[\sa-zA-Z]+)?))?[a-zA-Z]*$/i)),s=(new RegExp(/^[0-9]+$/),new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/));if(null==e.firstName||!reWhiteSpace.test(e.firstName.value)&&""!=e.firstName.value)if(i.test(e.firstName.value)){o.className="form-group";a.innerHTML=""}else{o.className="form-group has-error";a.innerHTML='<span class="help-block">'+MessageHelper.messages.REGISTRATION_ERR_ALPHA_TEXT+"</span>";t=!1}else{o.className="form-group has-error";a.innerHTML='<span class="help-block">'+MessageHelper.messages._ERR_EMAILPREF_FIELD_REQUIRED+"</span>";t=!1}if(null==e.emailAddress||!reWhiteSpace.test(e.emailAddress.value)&&""!=e.emailAddress.value)if(e.emailAddress.value.length>100){n.className="form-group has-error";r.innerHTML='<span class="help-block">'+MessageHelper.messages._ERR_EMAILPREF_EXCEED_100_CHAR+"</span>";t=!1}else if(s.test(e.emailAddress.value))if(e.emailAddress.value.match(/@/g).length>1){n.className="form-group has-error";r.innerHTML='<span class="help-block">'+MessageHelper.messages._ERR_EMAILPREF_INVALIDEMAILFORMAT+"</span>";t=!1}else if(this.endsWith(e.emailAddress.value,"@dii.com")){n.className="form-group has-error";r.innerHTML='<span class="help-block">'+MessageHelper.messages._ERR_EMAILPREF_INVALIDEMAILFORMAT+"</span>";t=!1}else{n.className="form-group";r.innerHTML=""}else{n.className="form-group has-error";r.innerHTML='<span class="help-block">'+MessageHelper.messages._ERR_EMAILPREF_INVALIDEMAILFORMAT+"</span>";t=!1}else{n.className="form-group has-error";r.innerHTML='<span class="help-block">'+MessageHelper.messages._ERR_EMAILPREF_FIELD_REQUIRED+"</span>";t=!1}if(!t)return!1;var l={event_name:"email_signup",customer_name:e.firstName.value,customer_email:e.emailAddress.value,customer_newsletter:"Newsletter Sign-up",conversion_event_id:"Email Sign Up",conversion_category_id:"Email Sign Up",conversion_action_type:"1"};pushEvent(l);this.EmailSignupNewEmailAddress(emailSignup)}return!1},endsWith:function(e,t){return e.indexOf(t,e.length-t.length)!==-1},ClearEmailSignUpForm:function(e){var t=document.getElementById("emailSignup");$(":input",t).each(function(){var e=this.type;this.id;"text"==e&&(this.value="")});var o=dojo.byId("firstName_DIV"),a=dojo.byId("firstName_ERROR");o.className="form-group";a.innerHTML="";var n=dojo.byId("emailAddress_DIV"),r=dojo.byId("emailAddress_ERROR");n.className="input";r.innerHTML="";$(".modal-footer").show();$("#close-window").hide()},EmailSignupNewEmailAddress:function(e){var t=[];t.storeId=this.storeId;t.catalogId=this.catalogId;t.langId=this.langId;t.firstName=document.getElementById("email-signup-first-name").value;t.emailAddress=document.getElementById("email-signup-email-address").value;wc.service.invoke("AjaxEmailSignupCmd",t)},SignUpNewEmail:function(e){var t=!0,o=$("#emailAddress_DIV"),a=$("#emailAddress_ERROR");if(null!=e&&e){reWhiteSpace=new RegExp(/^\s+$/);var n=(new RegExp(/^[a-zA-Z]+[\sa-zA-Z]*$/i),new RegExp(/^[a-zA-z0-9]+$/i),new RegExp(/^[a-zA-Z]+((([-]?[\sa-zA-Z]+)?([']?[\sa-zA-Z]+)?)|(([']?[\sa-zA-Z]+)?([-]?[\sa-zA-Z]+)?))?[a-zA-Z]*$/i),new RegExp(/^[0-9]+$/),new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/));if(null==e.emailAddress||!reWhiteSpace.test(e.emailAddress.value)&&""!=e.emailAddress.value)if(e.emailAddress.value.length>100){$(o).find("input").addClass("invalid-box");$(a).html('<span class="error">'+MessageHelper.messages._ERR_EMAILPREF_EXCEED_100_CHAR+"</span>");t=!1}else if(n.test(e.emailAddress.value))if(e.emailAddress.value.match(/@/g).length>1){$(o).find("input").addClass("invalid-box");$(a).html('<span class="error">'+MessageHelper.messages._ERR_EMAILPREF_INVALIDEMAILFORMAT+"</span>");t=!1}else if(this.endsWith(e.emailAddress.value,"@dii.com")){$(o).find("input").addClass("invalid-box");$(a).html('<span class="error">'+MessageHelper.messages._ERR_EMAILPREF_INVALIDEMAILFORMAT+"</span>");t=!1}else{$(o).find("input").removeClass("invalid-box");$(a).html("")}else{$(o).find("input").addClass("invalid-box");$(a).html('<span class="error">'+MessageHelper.messages._ERR_EMAILPREF_INVALIDEMAILFORMAT+"</span>");t=!1}else{$(o).find("input").addClass("invalid-box");$(a).html('<span class="error">'+MessageHelper.messages._ERR_EMAILPREF_FIELD_REQUIRED+"</span>");t=!1}if(!t)return!1;var r={event_name:"email_signup",customer_email:e.emailAddress.value,email_sign_up_location:"footer",conversion_action_type:"1",conversion_catergory_id:"Email Sign Up",conversion_event_id:"Email Sign Up"};pushEvent(r);this.NewEmailSignupRequest(e.emailAddress.value)}return!1},NewEmailSignupRequest:function(e){var t=[];t.storeId="10151";t.catalogId="10051";t.langId="-1";t.emailAddress=e;cursor_wait();wc.service.invoke("AjaxEmailSignupCmd",t)}};wc.service.declare({id:"AjaxEmailSignupCmd",actionId:"AjaxEmailSignupCmd",url:getAbsoluteURL()+"PetcoEmailSignup",formId:"emailSignup",successHandler:function(e){cursor_clear();var t=dojo.byId("error_message_server"),o=e.errorCode,a="",n=e.successMessage;if("undefined"!=n){a='<p class="success-box">'+e.successMessage+"</p>";t.innerHTML=a}else if("undefined"!=o||null!=o){MessageHelper.messages[o];a=MessageHelper.messages[o];t.innerHTML='<p class="error-box">'+a+"</p>"}petcoCommonJS.showModal("emailsignupwidget");var r=document.getElementById("emailSignup");$(":input",r).each(function(){var e=this.type;this.id;"text"==e&&(this.value="")})},failureHandler:function(e){cursor_clear();var t=e.errorCode,o=dojo.byId("error_message_server");console.debug("error code:"+t);"undefined"!=t&&null!=t&&"PETCOUPDATEEMAILSUBSCRIPTION.SBL-EXL-00151"==t?o.innerHTML='<p class="error-box">An account exists for the email address entered. Please enter a different email address or sign in to your account to manage your Newsletter Subscriptions.</p>':o.innerHTML='<p class="error-box">'+e.errorMessage+"</p>";petcoCommonJS.showModal("emailsignupwidget");var a=document.getElementById("emailSignup");$(":input",a).each(function(){var e=this.type;this.id;"text"==e&&(this.value="")})}});dojo.require("wc.service.common");dojo.require("dijit.registry");petcoAddToCartJS={langId:WCParamJS.langId,storeId:WCParamJS.storeId,catalogId:WCParamJS.catalogId,AddItem2ShopCartAjaxFromRecommendation:function(partnumber,elementId){var LOCALSTORAGE_STORES_KEY="petcostores";if(null==localStorage.getItem(LOCALSTORAGE_STORES_KEY)){var petcoNearestLocationsInitScript=document.getElementById("petcoNearestLocationsInitScript");null!=petcoNearestLocationsInitScript&&eval(petcoNearestLocationsInitScript.innerHTML)}var params=[];params.storeId=WCParamJS.storeId;params.catalogId=WCParamJS.catalogId;params.langId=WCParamJS.langId;params.orderId=".";params.calculationUsage="-1";params.inventoryValidation="true";var defaultShipMode=petcoAddToCartJS.getShipModeIdForDefault(),defaultFFMCenter=petcoAddToCartJS.getFfmCenterDefault();params.partNumber=partnumber;params.inventoryValidation="true";params.quantity="1";var ajaxShopCartService="AjaxAddRecommendedItemToCart";void 0!=document.getElementById("selectedRecommendationElement")&&(document.getElementById("selectedRecommendationElement").value=elementId);if(submitRequest()){cursor_wait();"undefined"!=typeof shoppingActionsServicesDeclarationJS&&shoppingActionsServicesDeclarationJS.setCommonParameters(WCParamJS.langId,WCParamJS.storeId,WCParamJS.catalogId);wc.service.invoke(ajaxShopCartService,params);"undefined"!=typeof productDisplayJS&&(productDisplayJS.baseItemAddedToCart=!0)}},getShipModeIdForDefault:function(){var e="",t="petcostores",o=null!=JSON.parse(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):{};if("undefined"!=typeof o.shipmodes&&o.shipmodes.length>0){var a=JSON.parse(o.shipmodes);"undefined"!=typeof a.DEFAULT_SHIPMODE&&(e=a.DEFAULT_SHIPMODE)}return e},getFfmCenterDefault:function(){var e="",t="petcostores",o=null!=JSON.parse(localStorage.getItem(t))?JSON.parse(localStorage.getItem(t)):{};if("undefined"!=typeof o.shipmodes&&o.shipmodes.length>0){var a=JSON.parse(o.shipmodes);"undefined"!=typeof a.DEFAULT_FFMCENTER&&(e=a.DEFAULT_FFMCENTER)}return e}};wc.service.declare({id:"AjaxAddRecommendedItemToCart",actionId:"AjaxAddRecommendedItemToCart",url:getAbsoluteURL()+"AjaxOrderChangeServiceItemAdd",formId:"",successHandler:function(e){setTimeout(function(){$("#mini-cart").css("visibility","visible");var e='<div class="mini-cart-active-item"><span class="glyphicon glyphicon-ok"></span> Item successfully added to cart.</div>';$(".mini-cart-item").first().append(e);setTimeout(function(){$("#mini-cart").css("visibility","hidden");$("div.mini-cart-active-item").remove()},3e3)},1e3);document.getElementById("headerShopCartLink")&&"none"!=document.getElementById("headerShopCartLink").style.display?document.getElementById("headerShopCart").focus():document.getElementById("headerShopCart1")&&document.getElementById("headerShopCart1").focus();dojo.require("dijit.registry");MessageHelper.hideAndClearMessage();cursor_clear();null!=typeof ShipmodeSelectionExtJS&&"undefined"!=typeof ShipmodeSelectionExtJS&&ShipmodeSelectionExtJS.setOrderItemId(e.orderItemId[0]);dojo.publish("CMAddToCart");var t;null!=$("#omnitureEnabled")&&void 0!=$("#omnitureEnabled")&&(t=$("#omnitureEnabled").val());if("undefined"!=t&&null!=t&&""!=t&&"true"==t){var o={},a=document.getElementById("selectedRecommendationElement").value,n=a+"-addToCartBtn",r=a+"-productName-tagging",i=a+"-partNumber-tagging",s="",l="",d="";if(void 0!=document.getElementById(r)){s=document.getElementById(r).value;d=s.replace(/["']/g,"")}void 0!=document.getElementById(i)&&(l=document.getElementById(i).value);var c=dojo.cookie("WC_CartOrderId_10151");if(""==c||null==c||"undefined"==c){o.event_name="cart_open";o.cart_id=e.orderId[0]}else{o.event_name="cart_add";o.cart_id=c}o.product_sku=l;o.product_name=d;o.add_to_cart_quantity="1";o.product_delivery_type="one time";pushEvent(o,n)}var u="";$("#isSDDeliveryEnabled").length>0&&"true"==$("#isSDDeliveryEnabled").val()&&(null!=localStorage.getItem("USER_SET_ZIP")?u=localStorage.getItem("USER_SET_ZIP"):null!=sessionStorage.getItem("USER_SET_ZIP")&&(u=sessionStorage.getItem("USER_SET_ZIP")));document.location.href=getAbsoluteURL()+"OrderCalculate?calculationUsageId=-1&calculationUsageId=-2&calculationUsageId=-7&calculationUsageId=-6&orderId=.&langId="+petcoAddToCartJS.langId+"&catalogId="+petcoAddToCartJS.catalogId+"&storeId="+petcoAddToCartJS.storeId+"&zipCode="+u+"&sddOrderItem="+e.orderItemId[0]+"&errorViewName=AjaxOrderItemDisplayView&callToODM=true&updatePrices=1&URL="+encodeURIComponent(getAbsoluteURL()+"OrderCalculate?calculationUsageId=-1&calculationUsageId=-7&orderId=.&langId="+petcoAddToCartJS.langId+"&catalogId="+petcoAddToCartJS.catalogId+"&storeId="+petcoAddToCartJS.storeId+"&errorViewName=AjaxOrderItemDisplayView&callToODM=false&updatePrices=1&URL="+encodeURIComponent(getAbsoluteURL()+"OrderItemDisplay?doInventory=Y&orderId=.&langId="+petcoAddToCartJS.langId+"&catalogId="+petcoAddToCartJS.catalogId+"&storeId="+petcoAddToCartJS.storeId))},failureHandler:function(e){if(e.errorMessage){petcoCommonJS.showModalNotificationAlert(e.errorMessage);cursor_clear();return!1}e.errorMessageKey&&MessageHelper.displayErrorMessage(e.errorMessageKey);cursor_clear()}});wc.render.declareContext("HomeHeroESpot_Context",{emsName:""},""),wc.render.declareContext("HomeLeftESpot_Context",{emsName:""},""),wc.render.declareContext("HomeRightTopESpot_Context",{emsName:""},""),wc.render.declareContext("HomeRightBottomESpot_Context",{emsName:""},""),wc.render.declareRefreshController({id:"HomeHeroESpot_Controller",renderContext:wc.render.getContextById("HomeHeroESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){this.testForChangedRC(["emsName"])&&t.refresh(this.renderContext.properties)},postRefreshHandler:function(e){cursor_clear()}});wc.render.declareRefreshController({id:"HomeLeftESpot_Controller",renderContext:wc.render.getContextById("HomeLeftESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){this.testForChangedRC(["emsName"])&&t.refresh(this.renderContext.properties)},postRefreshHandler:function(e){cursor_clear()}});wc.render.declareRefreshController({id:"HomeRightTopESpot_Controller",renderContext:wc.render.getContextById("HomeRightTopESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){this.testForChangedRC(["emsName"])&&t.refresh(this.renderContext.properties)},postRefreshHandler:function(e){cursor_clear()}});wc.render.declareRefreshController({id:"HomeRightBottomESpot_Controller",renderContext:wc.render.getContextById("HomeRightBottomESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(e,t){this.testForChangedRC(["emsName"])&&t.refresh(this.renderContext.properties)},postRefreshHandler:function(e){cursor_clear()}});wc.render.declareContext("petcoHomePagePalsInfo_Context",null,"");wc.render.declareRefreshController({id:"petcoHomePagePalsInfoController",renderContext:wc.render.getContextById("petcoHomePagePalsInfo_Context"),url:getAbsoluteURL()+"PetcoPalsInfoView?catalogId=10051&langId=-1&storeId=10151",formId:"",renderContextChangedHandler:function(e,t){var o=this.renderContext;t.refresh(o.properties)},postRefreshHandler:function(e){var t=1;$(".page-next").click(function(){t++;$(".pals-rewards-box").addClass("hide");$(".page-prev").removeClass("hide");$("#pals-rewards-box-"+t).removeClass("hide");t===$(".pals-rewards-box").length&&$(".page-next").addClass("hide")});$(".page-prev").click(function(){if(t>1){t--;$(".pals-rewards-box").addClass("hide");$(".page-next").removeClass("hide");$("#pals-rewards-box-"+t).removeClass("hide");1===t&&$(".page-prev").addClass("hide")}});if(0==$(".pals-rewards-box").length){$(".pals-rewards-container").addClass("pals-rewards-container-space padding-left-none");$(".pals-rewards-details").addClass("margin-left-none")}}});dojo.addOnLoad(function(){if(dojo.byId("MiniShopCartContents")){setMiniShopCartControllerURL(getAbsoluteURL()+"MiniShopCartDisplayView?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&getCartData=false");null!=wc.render.getRefreshControllerById("MiniShopCartContentsController")&&(wc.render.getRefreshControllerById("MiniShopCartContentsController").url=getAbsoluteURL()+"MiniShopCartDisplayView?storeId="+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId+"&langId="+WCParamJS.langId+"&page_view=dropdown");null!=dojo.byId("MiniShoppingCart")&&loadMiniCart(WCParamJS.currencyCode,WCParamJS.langId);if(checkDeleteCartCookie()){updateCartCookie();reinitializeCartCounts();resetDeleteCartCookie()}}});var localStorageHelper={lsSupported:!1,supportChecked:!1,defaultExpirationHours:1,checkSupport:function(e){this.supportChecked=!0;try{var t=window[e],o="__storage_test__";t.setItem(o,o);if(null==t.getItem(o)||null!=t.getItem(o)&&t.getItem(o)!=o)this.lsSupported=!1;else{t.removeItem(o);this.lsSupported=!0}}catch(e){this.lsSupported=!1}},get:function(e,t){if(t)return this.readCookie(e);this.supportChecked||this.checkSupport("localStorage");var o;if(this.lsSupported){o=JSON.parse(localStorage.getItem(e));return null==o||"undefined"==typeof o?null:(new Date).getTime()>o.timestamp?null:o.value}o=this.readCookie(e);return o},set:function(e,t,o,a){a&&this.createCookie(e,t,o);this.supportChecked||this.checkSupport("localStorage");if(null===t)this.lsSupported?localStorage.removeItem(e):this.createCookie(e,"",-1);else{"undefined"!=typeof o&&null!==o||(o=this.defaultExpirationHours);if(this.lsSupported){var n=60*o*60*1e3,r={value:t,timestamp:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(r))}else this.createCookie(e,t,o)}},remove:function(e){this.supportChecked||this.checkSupport("localStorage");this.lsSupported?localStorage.removeItem(e):this.createCookie(e,"",-1)},clearAll:function(){this.supportChecked||this.checkSupport("localStorage");this.lsSupported&&localStorage.clear()},createCookie:function(e,t,o){var a=new Date;"undefined"==typeof o&&(o=this.defaultExpirationHours);a.setTime(a.getTime()+60*o*60*1e3);document.cookie=e+"="+t+"; path=/"},readCookie:function(e){for(var t=e+"=",o=document.cookie.split(";"),a=0,n=o.length;a<n;a++){for(var r=o[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}};wc.service.declare({id:"AjaxPetcoPalsRewardsPointsSubscription",actionId:"AjaxPetcoPalsRewardsPointsSubscription",url:getAbsoluteURL()+"AjaxPetcoPalsRewardsPointsSubscription",formId:"",successHandler:function(e){var t=e.palsRewardsPoints,o=e.subscriptionDate,a=e.palsPointCookie,n=e.nextRepeatedDeliveryDateCookie,r=e.updateCookies,i=e.isPendingOrder,s=!1;require(["dojo/has","dojo/sniff"],function(e){var t=e("ios");s=!("undefined"==typeof t||null==t||!t)});if(r&&"undefined"!=typeof localStorageHelper){localStorageHelper.set(a,t,1,s);if(null!=o){o+=" PDT";var l=new Date(o.replace(","," "));localStorageHelper.set(n,l.toISOString().substring(0,10),1,s)}else i?localStorageHelper.set(n,"paused",1,s):localStorageHelper.set(n,"none",1,s)}petcoPalsRewardsRepeatDelivery.renderPalsRewardTile();petcoPalsRewardsRepeatDelivery.renderRepeatDeliveryTile();if(void 0!=document.getElementById("rd-next-date")){var d,n="NEXT_REPEAT_DELIVERY_DATE";"undefined"!=typeof localStorageHelper&&(d=localStorageHelper.get(n,s));if(null!=d&&d&&""!=d&&"none"!=d&&"paused"!=d){var c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=localStorageHelper.get(n,s),p=u.replace(/-/g,"/")+" 00:00:00",m=new Date(p),g=!1;null!=dojo.byId("notifybutton")&&(g=dojo.hasClass(dojo.byId("notifybutton"),"show"));$("#rd-add-on").length>0&&(g?document.getElementById("rd-add-on").className="radio rd-option hide":document.getElementById("rd-add-on").className="radio rd-option show");var f=c[m.getMonth()]+" "+m.getDate()+", "+m.getFullYear();null!=document.getElementById("rd-next-date")&&"undefined"!=typeof c[m.getMonth()]&&(document.getElementById("rd-next-date").innerHTML=f)}}"undefined"!=typeof productDisplayJS&&productDisplayJS.toggleAddonButton()},failureHandler:function(e){}});var petcoPalsRewardsRepeatDelivery=function(){"use strict";function e(e,t){var o=!1;require(["dojo/has","dojo/sniff"],function(e){var t=e("ios");o=!("undefined"==typeof t||null==t||!t)});var a=[],i=e||!1,s=localStorageHelper.get(n,o),l=localStorageHelper.get(r,o);t=t||"G";if("R"===t){a.langId=WCParamJS.langId;a.storeId=WCParamJS.storeId;a.catalogId=WCParamJS.catalogId;a.palsPointCookie=n;a.nextRepeatedDeliveryDateCookie=r;if(i||null==s||null==l){a.updateCookies=!0;wc.service.invoke("AjaxPetcoPalsRewardsPointsSubscription",a)}}else{petcoPalsRewardsRepeatDelivery.renderPalsRewardTile();petcoPalsRewardsRepeatDelivery.renderRepeatDeliveryTile()}}function t(e,t){var o=dojo.byId(e);if(!o)return"";var a=o.innerHTML;if(t){var n=new RegExp("\\{0\\}","gi");a=a.replace(n,t[0])}return a}function o(){var e=!1;require(["dojo/has","dojo/sniff"],function(t){var o=t("ios");e=!("undefined"==typeof o||null==o||!o)});require(["dojo/query","dojo/NodeList-traverse","dojo/domReady!"],function(o){o("#pals-rewards-tile2").forEach(function(a){if("G"===getUserTypeCookie()){var r=t(s);a.innerHTML=r}else{var l=null;"undefined"!=typeof localStorageHelper&&(l=localStorageHelper.get(n,e));if(null!==l){a.innerHTML=t(i,[0|l]);var d=document.getElementById("palsrewardsurl_id");null!=d&&(o("a",a)[0].href=d.value)}else a.innerHTML=t(s)}})})}function a(){var e=!1;require(["dojo/has","dojo/sniff"],function(t){var o=t("ios");e=!("undefined"==typeof o||null==o||!o)});require(["dojo/query","dojo/NodeList-traverse","dojo/domReady!"],function(o){o("#repeat-delivery-tile2").forEach(function(a){if("G"===getUserTypeCookie())a.innerHTML=t(l);else{var n="none";"undefined"!=typeof localStorageHelper&&(n=localStorageHelper.get(r,e));if(n&&"none"!==n)if("paused"===n)a.innerHTML=t(u);else if(""!=n){var i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),p=n.replace(/-/g,"/")+" 00:00:00",m=new Date(p),g=m.getTime()-s.getTime();g=Math.ceil(g/864e5);g<1?a.innerHTML=t(c):isNaN(g)?a.innerHTML=t(l):a.innerHTML=t(d,[g])}else a.innerHTML=t(l);else a.innerHTML=t(l);var f=document.getElementById("repeatDevliveryurl_id");null!=f&&(o("a",a)[0].href=f.value)}})})}var n="PALS_POINTS",r="NEXT_REPEAT_DELIVERY_DATE",i="PALS_POINTS_REGISTERED_TILE",s="PALS_POINTS_GUEST_TILE",l="REPEAT_DELIVERY_GUEST_TILE",d="REPEAT_DELIVERY_REGISTERED_TILE",c="REPEAT_DELIVERY_REGISTERED_TODAY_TILE",u="REPEAT_DELIVERY_PAUSED_TILE";return{init:e,renderPalsRewardTile:o,renderRepeatDeliveryTile:a,palsPointCookie:n,nextRepeatedDeliveryDateCookie:r}}();require(["dojo/_base/declare","dojo/_base/sniff","dojo/query","dojo/_base/lang","dojo/_base/window","dojo/on","dojo/dom-class","dojo/dom-attr","dojo/dom-construct","dojo/mouse","dojo/dom-geometry","dojo/dom-style","dojo/_base/array","dojo/NodeList-traverse","dojo/NodeList-dom","dojo/domReady!"],function(e,t,o,a,n,r,i,s,l,d,c,u,p,m){"use strict";var g="[data-slide]",f=e([],{defaultOptions:{interval:3e3,pause:"hover"},constructor:function(e,t){this.options=a.mixin(a.clone(this.defaultOptions),t||{});this.domNode=e;this.indicators=o(".carousel-indicators",this.domNode);this.options.slide&&this.slide(this.options.slide);if("hover"===this.options.pause){r(this.domNode,d.enter,a.hitch(this,"pause"));r(this.domNode,d.leave,a.hitch(this,"cycle"))}this.options.interval&&this.cycle()},cycle:function(e){e||(this.paused=!1);this.options.interval&&!this.paused&&(this.interval=setInterval(a.hitch(this,"next"),this.options.interval));return this},to:function(e){var t=o(".item.active",this.domNode),a=t.parent().children(),n=a.indexOf(t[0]),i=this;if(!(e>a.length-1||e<0))return this.sliding?r.once(i.domNode,"slid",function(){i.to(e)}):n===e?this.pause().cycle():this.slide(e>n?"next":"prev",o(a[e]))},pause:function(e){e||(this.paused=!0);if(o(".next, .prev",this.domNode).length&&m.trans.end){r.emit(this.domNode,m.trans.end,{bubbles:!0,cancelable:!0});this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},getActiveIndex:function(){this.active=o(".item.active",this.domNode);this.items=this.active.parent().children(".item");return this.items.indexOf(this.active[0])},slide:function(e,t){var a=o(".item.active",this.domNode),n=this.interval,s="next"===e?"left":"right",l="next"===e?"first":"last",d=this;t=t||a[e]();this.sliding=!0;n&&this.pause();if(this.indicators.length){o(".active",this.indicators[0]).removeClass("active");r.once(this.domNode,"slid.bs.carousel",function(){var e=d.indicators.children()[d.getActiveIndex()];e&&i.add(e,"active")})}t=t.length?t:o(".item",this.domNode)[l]();if(!i.contains(t[0],"active")){if(m.trans&&i.contains(this.domNode,"slide")){r.emit(this.domNode,"slide.bs.carousel",{bubbles:!1,cancelable:!1,relatedTarget:t[0]});i.add(t[0],e);t[0].offsetWidth;i.add(a[0],s);i.add(t[0],s);r.once(this.domNode,m.trans.end,function(){i.remove(t[0],[e,s].join(" "));i.add(t[0],"active");i.remove(a[0],["active",s].join(" "));d.sliding=!1;setTimeout(function(){r.emit(d.domNode,"slid.bs.carousel",{bubbles:!1,cancelable:!1})},0)})}else{r.emit(this.domNode,"slide.bs.carousel",{bubbles:!1,cancelable:!1,relatedTarget:t[0]});i.remove(a[0],"active");i.add(t[0],"active");this.sliding=!1;r.emit(d.domNode,"slid.bs.carousel",{bubbles:!1,cancelable:!1})}n&&this.cycle();return this}}});a.extend(o.NodeList,{carousel:function(e){var t=a.isObject(e)?e:{};return this.forEach(function(o){var a=m.getData(o,"carousel"),n="string"==typeof e?e:t.slide;a||m.setData(o,"carousel",a=new f(o,t));"number"==typeof e?a.to(e):n&&a[n].call(a)})}});r(n.body(),r.selector(g,"click"),function(e){var t=s.get(this,"data-target"),a={};o(t).carousel(a);e.preventDefault()});return f});$(document).ready(function(){function e(e){s=e.touches[0].clientX;l=e.touches[0].clientY}function t(e){if(null!==s&&null!==l){var t=e.touches[0].clientX,a=e.touches[0].clientY,n=s-t,r=l-a;if(Math.abs(n)>Math.abs(r))if(n>0){o.carousel("next");e.cancelable&&e.preventDefault()}else{o.carousel("prev");e.cancelable&&e.preventDefault()}s=null;l=null}}var o=$(".swipe-carousel");$("#carousel-play").click(function(){$("#carousel-play").toggleClass("paused");$("#carousel-play").hasClass("paused")?o.carousel("pause"):o.carousel("cycle")});var a=document.querySelectorAll(".swipe-carousel");if(a.length)for(var n=0;n<a.length;n++){var r=a[n];r.addEventListener("touchstart",e,!0);r.addEventListener("touchmove",t,!0)}var i=null;o.mousedown(function(e){var t=e.pageX;$(this).mousemove(function(e){i=e.pageX>t?"right":"left"})});o.mouseup(function(){i&&"right"===i&&o.carousel("prev");i&&"left"===i&&o.carousel("next");i=null;$(this).unbind("mousemove")});var s=null,l=null});require(["dojo/query","dojo/domReady!"],function(e){"use strict";function t(e){var t,o,a,n=[];t=document.getElementsByClassName("select-items");o=document.getElementsByClassName("select-selected");for(a=0;a<o.length;a++)e==o[a]?n.push(a):o[a].classList.remove("select-arrow-active");for(a=0;a<t.length;a++)n.indexOf(a)&&t[a].classList.add("hide")}var o=document.getElementById("side-nav-button"),a=document.querySelectorAll(".side-nav")[0],n=document.querySelectorAll(".side-nav .close")[0];if(o){o.onclick=function(){a.classList.add("show")};n.onclick=function(){a.classList.remove("show")}}for(var r=document.getElementsByClassName("accordion"),i=0;i<r.length;i++){r[i];r[i].onclick=function(e){e.preventDefault();e.stopPropagation();for(var t=document.getElementsByClassName("accordion-content"),o=0;o<t.length;o++){var a=t[o],n=document.getElementById("shown-accordion-title"),r=document.getElementById("hidden-accordion-title");if(a.classList.contains("open")){a.classList.remove("open");if(n&&r){n.className+=" hide";r.classList.remove("hide")}}else{a.className+=" open";if(n&&r){n.classList.remove("hide");r.className+=" hide"}}}}}$('.carousel[data-wrap="false"]').bind("slid.bs.carousel",function(e){var t=$(this);t.children(".carousel-control").removeClass("disabled");t.find(".item:last").hasClass("active")?t.children(".right").addClass("disabled"):t.find(".item:first").hasClass("active")&&t.children(".left").addClass("disabled")});var s,i,l,d,c,u,p;s=document.getElementsByClassName("custom-select");for(i=0;i<s.length;i++){d=s[i].getElementsByTagName("select")[0];c=document.createElement("DIV");c.setAttribute("class","select-selected");c.innerHTML=d.options[d.selectedIndex].innerHTML;s[i].appendChild(c);u=document.createElement("DIV");u.setAttribute("class","select-items hide");for(l=0;l<d.length;l++){p=document.createElement("DIV");p.innerHTML=d.options[l].innerHTML;p.addEventListener("click",function(e){var t,o,a,n,r;n=this.parentNode.parentNode.getElementsByTagName("select")[0];r=this.parentNode.previousSibling;for(o=0;o<n.length;o++)if(n.options[o].innerHTML==this.innerHTML){n.selectedIndex=o;r.innerHTML=this.innerHTML;t=this.parentNode.getElementsByClassName("same-as-selected");for(a=0;a<t.length;a++)t[a].removeAttribute("class");this.setAttribute("class","same-as-selected");break}r.click();n.onchange();"Other"==this.innerHTML?$("#othersReason").removeClass("hide"):$("#othersReason").addClass("hide")});u.appendChild(p)}s[i].appendChild(u);c.addEventListener("click",function(e){e.stopPropagation();t(this);this.nextSibling.classList.toggle("hide");this.classList.toggle("select-arrow-active")})}document.addEventListener("click",t);dojo.addOnLoad(function(){console.log("dojo.addOnLoad() has fired.")})});!function(){"use strict";function e(e){function t(e){e.element.removeAttribute("data-"+a+"-is");i(e.options);o(e.element);if(S._elements.item){S._elements.item=Array.isArray(S._elements.item)?S._elements.item:[S._elements.item];S._elements.button=Array.isArray(S._elements.button)?S._elements.button:[S._elements.button];S._elements.panel=Array.isArray(S._elements.panel)?S._elements.panel:[S._elements.panel];if(S._properties.singleExpansion){var t=v();0===t.length&&p(0);t.length>1&&p(t.length-1)}h();c();window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&new window.Granite.author.MessageChannel("cqauthor",window).subscribeRequestMessage("cmp.panelcontainer",function(e){if(e.data&&"cmp-accordion"===e.data.type&&e.data.id===S._elements.self.dataset.cmpPanelcontainerId&&"navigate"===e.data.operation){var t=S._properties.singleExpansion;S._properties.singleExpansion=!0;p(e.data.index);S._properties.singleExpansion=t}})}}function o(e){S._elements={};S._elements.self=e;for(var t=S._elements.self.querySelectorAll("[data-"+a+"-hook-"+n+"]"),o=0;o<t.length;o++){var r=t[o];if(r.closest("."+a+"-"+n)===S._elements.self){var i=n;i=i.charAt(0).toUpperCase()+i.slice(1);var s=r.dataset[a+"Hook"+i];if(S._elements[s]){if(!Array.isArray(S._elements[s])){var l=S._elements[s];S._elements[s]=[l]}S._elements[s].push(r)}else S._elements[s]=r}}}function i(e){S._properties={};for(var t in d)if(d.hasOwnProperty(t)){var o=d[t],a=null;
if(e&&null!=e[t]){a=e[t];o&&"function"==typeof o.transform&&(a=o.transform(a))}null===a&&(a=d[t].default);S._properties[t]=a}}function c(){var e=S._elements.button;if(e)for(var t=0;t<e.length;t++)!function(o){e[t].addEventListener("click",function(e){p(o);I(o)});e[t].addEventListener("keydown",function(e){u(e,o)})}(t)}function u(e,t){var o=S._elements.button.length-1;switch(e.keyCode){case r.ARROW_LEFT:case r.ARROW_UP:e.preventDefault();t>0&&I(t-1);break;case r.ARROW_RIGHT:case r.ARROW_DOWN:e.preventDefault();t<o&&I(t+1);break;case r.HOME:e.preventDefault();I(0);break;case r.END:e.preventDefault();I(o);break;case r.ENTER:case r.SPACE:e.preventDefault();p(t);I(t);break;default:return}}function p(e){var t=S._elements.item[e];if(t)if(S._properties.singleExpansion){for(var o=0;o<S._elements.item.length;o++)if(S._elements.item[o]!==t){var a=g(S._elements.item[o]);a&&m(S._elements.item[o],!1)}m(t,!0)}else m(t,!g(t))}function m(e,t){t?e.setAttribute(l.item.expanded,""):e.removeAttribute(l.item.expanded);f(e)}function g(e){return e&&e.dataset&&void 0!==e.dataset.cmpExpanded}function f(e){var t=g(e);t?_(e):y(e)}function h(){for(var e=0;e<S._elements.item.length;e++)f(S._elements.item[e])}function v(){for(var e=[],t=0;t<S._elements.item.length;t++){var o=S._elements.item[t],a=g(o);a&&e.push(o)}return e}function _(e){var t=S._elements.item.indexOf(e);if(t>-1){var o=S._elements.button[t],a=S._elements.panel[t];o.classList.add(s.button.expanded);o.setAttribute("aria-expanded",!0);a.classList.add(s.panel.expanded);a.classList.remove(s.panel.hidden);a.setAttribute("aria-hidden",!1);if(S._properties.singleExpansion){o.classList.add(s.button.disabled);o.setAttribute("aria-disabled",!0)}}}function y(e){var t=S._elements.item.indexOf(e);if(t>-1){var o=S._elements.button[t],a=S._elements.panel[t];o.classList.remove(s.button.disabled);o.classList.remove(s.button.expanded);o.removeAttribute("aria-disabled");o.setAttribute("aria-expanded",!1);a.classList.add(s.panel.hidden);a.classList.remove(s.panel.expanded);a.setAttribute("aria-hidden",!0)}}function I(e){var t=S._elements.button[e];t.focus()}var S=this;e&&e.element&&t(e)}function t(e){var t=e.dataset,o=[],r=n;r=r.charAt(0).toUpperCase()+r.slice(1);var i=["is","hook"+r];for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];if(0===s.indexOf(a)){s=s.slice(a.length);s=s.charAt(0).toLowerCase()+s.substring(1);i.indexOf(s)===-1&&(o[s]=l)}}return o}function o(){for(var o=document.querySelectorAll(i.self),a=0;a<o.length;a++)new e({element:o[a],options:t(o[a])});var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=document.querySelector("body"),s=new n(function(o){o.forEach(function(o){var a=[].slice.call(o.addedNodes);a.length>0&&a.forEach(function(o){if(o.querySelectorAll){var a=[].slice.call(o.querySelectorAll(i.self));a.forEach(function(o){new e({element:o,options:t(o)})})}})})});s.observe(r,{subtree:!0,childList:!0,characterData:!0})}var a="cmp",n="accordion",r={ENTER:13,SPACE:32,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},i={self:"[data-"+a+'-is="'+n+'"]'},s={button:{disabled:"cmp-accordion__button--disabled",expanded:"cmp-accordion__button--expanded"},panel:{hidden:"cmp-accordion__panel--hidden",expanded:"cmp-accordion__panel--expanded"}},l={item:{expanded:"data-cmp-expanded"}},d={singleExpansion:{default:!1,transform:function(e){return!(null===e||"undefined"==typeof e)}}};"loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)}();!function(){"use strict";function e(e){function t(e){e.element.removeAttribute("data-"+a+"-is");i(e.options);o(e.element);D._active=0;D._paused=!1;if(D._elements.item){v();l();b();h()}window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&new window.Granite.author.MessageChannel("cqauthor",window).subscribeRequestMessage("cmp.panelcontainer",function(e){e.data&&"cmp-carousel"===e.data.type&&e.data.id===D._elements.self.dataset.cmpPanelcontainerId&&"navigate"===e.data.operation&&S(e.data.index)})}function o(e){D._elements={};D._elements.self=e;for(var t=D._elements.self.querySelectorAll("[data-"+a+"-hook-"+n+"]"),o=0;o<t.length;o++){var r=t[o],i=n;i=i.charAt(0).toUpperCase()+i.slice(1);var s=r.dataset[a+"Hook"+i];if(D._elements[s]){if(!Array.isArray(D._elements[s])){var l=D._elements[s];D._elements[s]=[l]}D._elements[s].push(r)}else D._elements[s]=r}}function i(e){D._properties={};for(var t in s)if(s.hasOwnProperty(t)){var o=s[t],a=null;if(e&&null!=e[t]){a=e[t];o&&"function"==typeof o.transform&&(a=o.transform(a))}null===a&&(a=s[t].default);D._properties[t]=a}}function l(){D._elements.previous&&D._elements.previous.addEventListener("click",function(){S(I())});D._elements.next&&D._elements.next.addEventListener("click",function(){S(y())});var e=D._elements.indicator;if(e)for(var t=0;t<e.length;t++)!function(o){e[t].addEventListener("click",function(e){C(o)})}(t);D._elements.pause&&D._properties.autoplay&&D._elements.pause.addEventListener("click",p);D._elements.play&&D._properties.autoplay&&D._elements.play.addEventListener("click",m);D._elements.self.addEventListener("keydown",d);if(!D._properties.autopauseDisabled){D._elements.self.addEventListener("mouseenter",c);D._elements.self.addEventListener("mouseleave",u)}}function d(e){var t=D._active,o=D._elements.indicator.length-1;switch(e.keyCode){case r.ARROW_LEFT:case r.ARROW_UP:e.preventDefault();t>0&&C(t-1);break;case r.ARROW_RIGHT:case r.ARROW_DOWN:e.preventDefault();t<o&&C(t+1);break;case r.HOME:e.preventDefault();C(0);break;case r.END:e.preventDefault();C(o);break;case r.SPACE:if(D._properties.autoplay&&e.target!==D._elements.previous&&e.target!==D._elements.next){e.preventDefault();D._paused?f():g()}e.target===D._elements.pause&&D._elements.play.focus();e.target===D._elements.play&&D._elements.pause.focus();break;default:return}}function c(e){E()}function u(e){b()}function p(e){g();D._elements.play.focus()}function m(){f();D._elements.pause.focus()}function g(){D._paused=!0;E();h()}function f(){D._paused=!1;var e=!1;D._elements.self.parentElement&&(e=D._elements.self.parentElement.querySelector(":hover")===D._elements.self);!D._properties.autopauseDisabled&&e||b();h()}function h(){T(D._elements.pause,D._paused);T(D._elements.play,!D._paused)}function v(){var e=D._elements.item,t=D._elements.indicator;if(e)if(Array.isArray(e))for(var o=0;o<e.length;o++)if(o===parseInt(D._active)){e[o].classList.add("cmp-carousel__item--active");e[o].removeAttribute("aria-hidden");t[o].classList.add("cmp-carousel__indicator--active");t[o].setAttribute("aria-selected",!0);t[o].setAttribute("tabindex","0")}else{e[o].classList.remove("cmp-carousel__item--active");e[o].setAttribute("aria-hidden",!0);t[o].classList.remove("cmp-carousel__indicator--active");t[o].setAttribute("aria-selected",!1);t[o].setAttribute("tabindex","-1")}else{e.classList.add("cmp-carousel__item--active");t.classList.add("cmp-carousel__indicator--active")}}function _(e){var t=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;e.focus();window.scrollTo(t,o)}function y(){return D._active===D._elements.item.length-1?0:D._active+1}function I(){return 0===D._active?D._elements.item.length-1:D._active-1}function S(e){if(!(e<0||e>D._elements.item.length-1)){D._active=e;v();D._elements.self.parentElement&&D._elements.self.parentElement.querySelector(":hover")!==D._elements.self&&b()}}function C(e){S(e);_(D._elements.indicator[e])}function b(){if(!D._paused&&D._properties.autoplay){E();D._autoplayIntervalId=window.setInterval(function(){if(!document.visibilityState||!document.hidden){var e=D._elements.indicators;e!==document.activeElement&&e.contains(document.activeElement)?C(y()):S(y())}},D._properties.delay)}}function E(){window.clearInterval(D._autoplayIntervalId);D._autoplayIntervalId=null}function T(e,t){if(e)if(t!==!1){e.disabled=!0;e.classList.add("cmp-carousel__action--disabled")}else{e.disabled=!1;e.classList.remove("cmp-carousel__action--disabled")}}var D=this;e&&e.element&&t(e)}function t(e){var t=e.dataset,o=[],r=n;r=r.charAt(0).toUpperCase()+r.slice(1);var i=["is","hook"+r];for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];if(0===s.indexOf(a)){s=s.slice(a.length);s=s.charAt(0).toLowerCase()+s.substring(1);i.indexOf(s)===-1&&(o[s]=l)}}return o}function o(){for(var o=document.querySelectorAll(i.self),a=0;a<o.length;a++)new e({element:o[a],options:t(o[a])});var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=document.querySelector("body"),s=new n(function(o){o.forEach(function(o){var a=[].slice.call(o.addedNodes);a.length>0&&a.forEach(function(o){if(o.querySelectorAll){var a=[].slice.call(o.querySelectorAll(i.self));a.forEach(function(o){new e({element:o,options:t(o)})})}})})});s.observe(r,{subtree:!0,childList:!0,characterData:!0})}var a="cmp",n="carousel",r={SPACE:32,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},i={self:"[data-"+a+'-is="'+n+'"]'},s={autoplay:{default:!1,transform:function(e){return!(null===e||"undefined"==typeof e)}},delay:{default:5e3,transform:function(e){e=parseFloat(e);return isNaN(e)?null:e}},autopauseDisabled:{default:!1,transform:function(e){return!(null===e||"undefined"==typeof e)}}};"loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){"use strict";var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});
//# sourceMappingURL=petco.combined.home.js.map
