(function(){var a="cnx_roi",d="cnxclid",l="cnxv2",c="~",e=3,r="https://rr.bizrate.com/roi/index.xpml";function g(w,s,v,t){var u=new Date();u.setTime(u.getTime()+t*24*60*60*1000);w.cookie=s+"="+v+";expires="+u.toUTCString()+";domain="+q(window.location.hostname)+";path=/;"}function q(u){var t=u;var s=!!t.match(/(\.co\.uk|\.co\.nz|\.co\.it|\.co\.at|\.org\.uk)$/i);if(t.indexOf(".")!==-1){t=t.split(".");if(s){t=t[t.length-3]+"."+t[t.length-2]+"."+t[t.length-1]}else{t=t[t.length-2]+"."+t[t.length-1]}}return t}function f(t,s){g(t,a,s,30)}function n(t){var s=t.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return s?s[2]:null}function j(u){var t=u.reduce(function(x,w){if(w[0]==="config"){x[w[0]]=w[1]}if(w[0]==="event"){var v={};if(!x[w[0]]){v[w[1]]=w.length>2?w[2]:{};x[w[0]]=v}else{v=x[w[0]];v[w[1]]=w.length>2?w[2]:{};x[w[0]]=v}}return x},{});if(!t.event&&(!t.config||!t.config.disableAutoTag)){var s={};s.pageview={};t.event=s}return t}function b(t,s){return t.location.href.indexOf(s+"=")>0}function o(x,w){var t=x.location.search.substring(1),u=t.split("&"),v,s;for(s=0;s<u.length;s++){v=u[s].split("=");if(v[0]===w){return decodeURIComponent(v[1])}}return false}function m(s){return s!=null?s:""}function i(s){return encodeURIComponent(m(s))}function k(x,w,v){var u,s=n(x);if(v.event&&v.event.pageview&&v.event.pageview.cnxclid){u=v.event.pageview.cnxclid}else{if(b(w,d)){u=o(w,d)}}if(u){var t=s?s.split(c):[];t.unshift(u);s=t.slice(0,e).join(c);f(x,s)}return s}function p(u,v){var y=u.event.conversion.mid,A=u.event.conversion.cust_type,w=u.event.conversion.order_value,t=u.event.conversion.order_id,x=u.event.conversion.units_ordered,s,z;s=r+"?cnxclid="+encodeURIComponent(btoa(m(v)))+"&cust_type="+i(A)+"&mid="+y+"&order_id="+i(t)+"&order_value="+i(w)+"&units_ordered="+i(x)+"&v="+l;z=new Image(1,1);z.src=s}function h(){if(!window.cnxDataLayer){window.cnxDataLayer=[]}var w=document,v=window,t=v.cnxDataLayer,u=j(t),x=k(w,v,u);if(u.event&&u.event.conversion){p(u,x)}if(u.config){window.cnxtagConfig=u.config}var s=function(y,z){y.push=function(A){Array.prototype.push.call(y,A);z(y)}};s(window.cnxDataLayer,function(){var y=j(window.cnxDataLayer);if(y.event&&y.event.conversion){p(y,n(document))}window.cnxDataLayer.pop()});window.cnxDataLayer.length=0}if(document.readyState==="complete"){h()}else{window.addEventListener("load",h())}})();